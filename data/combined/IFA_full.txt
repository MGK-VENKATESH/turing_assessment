IFA Report 2/2017e Functional safety of machine controls – Application of EN ISO 13849 – Authors: Michael Hauke, Michael Schaefer, Ralf Apfeld, Christian Werner, Thomas Bömer, Michael Huelke, Andre Steimers, Torsten Borowski, Karl-Heinz Büllesbach, Michael Dorra, Hans-Georg Foermer-Schaefer, Jürgen Uppenkamp, Oliver Lohmaier, Klaus-Dieter Heimann, Burkhard Köhler, Helmut Zilligen, Stefan Otto, Paul Rempel, Günter Reuß Institut für Arbeitsschutz der Deutschen Gesetzlichen Unfallversicherung (IFA), Sankt Augustin Published by: Deutsche Gesetzliche Unfallversicherung e. V. (DGUV) Glinkastr. 40 10117 Berlin Germany Phone: + 49 (0)30 13001-0 Fax: +49 (0)30 13001-9876 Internet: www.dguv.de E-mail: info@dguv.de – July 2019 – ISBN: 978-3-86423-232-9 ISSN: 2190-7994 Abstract Kurzfassung Functional safety of machine controls Funktionale Sicherheit von Maschinensteuerungen – Application of EN ISO 13849 – – Anwendung der DIN EN ISO 13849 – The EN ISO 13849-1 standard, “Safety of machinery – Die Norm DIN EN ISO 13849-1 „Sicherheit von Maschinen Safety-related parts of control systems”, contains provi- – Sicherheitsbezogene Teile von Steuerungen“ macht Vor- sions governing the design of such parts. This report is gaben für die Gestaltung von sicherheitsbezogenen Teilen an update of BGIA Report 2/2008e of the same name. It von Steuerungen. Dieser Report ist eine Aktualisierung describes the essential subject-matter of the standard in des gleichnamigen BGIA-Reports 2/2008. Er stellt die its third, revised 2015 edition, and explains its application wesentlichen Inhalte der Norm in ihrer dritten Ausgabe with reference to numerous examples from the fields of von 2016 vor und erläutert deren Anwendung an zahl- electromechanics, fluidics, electronics and programmable reichen Beispielen aus den Bereichen Elektromechanik, electronics, including control systems employing mixed Fluidtechnik, Elektronik und programmierbarer Elektro- technologies. The standard is placed in its context of the nik, darunter auch Steuerungen gemischter Technologie. essential safety requirements of the Machinery Directive, Der Zusammenhang der Norm mit den grundlegenden and possible methods for risk assessment arePL e (Example 28) ............................................202 8.2.29 Cascading of emergency stop devices by means of a safety module – Category 3 – PL e (Example 29) ..............................................................................................................................206 8.2.30 Contactor monitoring module – Category 3 – PL e (Example 30) ..........................................................210 8.2.31 Pneumatic valve control (subsystem) – Category 4 – PL e (Example 31) ................................................214 8.2.32 Hydraulic valve control (subsystem) – Category 4 – PL e (Example 32) .................................................218 8.2.33 Electrohydraulic press control – Category 4 – PL e (Example 33) ..........................................................222 8.2.34 Position monitoring of movable guards – Category 4 – PL e (Example 34) ...........................................226 8.2.35 Two-hand control – Category 4 – PL e (Example 35) .............................................................................230 8.2.36 Processing of signals from a light barrier – Category 4 – PL e (Example 36) ..........................................234 8.2.37 Paper-cutting guillotine with programmable electronic logic control – Category 4 – PL e (Example 37) ...............................................................................................................................236 8.2.38 Hydraulic valve control (subsystem) – Category 4 – PL e (Example 38) ...............................................240 9 References .......................................................................................................................................243 7 Annex A: Examples of risk assessment ..............................................................................................................247 Annex B: Safety-related block diagram and FMEA ..............................................................................................251 Annex C: Fault lists, fault exclusions and safety principles ................................................................................259 Annex D: Mean Time to Dangerous Failure (MTTF ) .............................................................................................265 D Annex E: Determining of the diagnostic coverage (DC) .......................................................................................285 Annex F: Common cause failure (CCF) ................................................................................................................293 Annex G: What is the significance of the bar chart in Figure 5 of EN ISO 13849-1? ..............................................295 Annex H: SISTEMA: the software utility for evaluation of SRP/CS .......................................................................301 Annex I: Operating mode selection safety function ...........................................................................................305 Annex J: Overlapping hazards ...........................................................................................................................311 Annex K: Index .................................................................................................................................................317 8 1 Foreword The thoroughly revised version of the EN ISO 13849-1 con- Over the past years, EN ISO 13849-1 has become estab- trol standard was published nine years ago. BGIA-Report lished worldwide as the definitive standard for machine 2/2008e, “Functional safety ofadequate test Σ λ + Σ λ Σ λ rate, as described in the next point. DD DU D The method favoured by EN ISO 13849-1 is based upon a • A further aspect is the question of the necessary test reasoned conservative estimate of the DC directly on the rate. A test that is not executed sufficiently frequently component or block level, followed by calculation of the may under certain circumstances be overtaken by the DC from the individual DC values by means of an avera- incidence of a hazardous event, and may therefore avg ging formula. Many tests can be classified as typical stan- create a false sense of safety. As a rule of thumb, the dard measures for which estimated DC values are listed test rate is always in competition with other frequen- in Annex E of the standard. These measures are assigned cies; for this reason, a generic adequate frequency can- a coarse system comprising four key values (0%, 60%, not be stated. Furthermore, tests have the function of 90% and 99%). A comprehensive list of the typical test revealing not only random but also systematic failures. measures stated in the standard can be found in Annex E. Application is explained with reference to the example of On Category 2 single-channel tested systems, the test the control system of a paper-cutting guillotine (see sub- must be passed before a demand is next made upon clause 6.5). the safety function, i.e. before a potential hazard arises. In this scenario, the test rate is therefore in competition A number of boundary conditions must be observed for with the frequency of the demand of the safety function. calculation of the DC of a component or block: In this case, a factor of 100 is considered sufficient, i.e. a testrate that is at least 100 times the mean demand • Detection of a dangerous failure is only the beginning. rate upon the safety function. By contrast, down to a In order for the test to be passed, a safe state that pre- factor of 25, the maximum increase in the probability of sents no further hazard must be initiated in time. This failure is approximately 10% (refer also to subclause 4 includes an effective shut-off path, which for example in in [32]). Below this level, the synchronization of demand the case of single-channel tested systems (Category 2) and testing essentially determines whether testing even entails a requirement for a second shut-off element. takes effect. Should, in single-channel tested systems, This is required in order to initiate and maintain the the test be executed simultaneously with the demand safe state when the test has detected failure of the nor- of the safety function and so quickly that the safe state mal shut-off element (block “O” on the safety-related is attained before a hazard arises, no conditions are block diagram). Only where the risk is low (up to PL = c) im posed upon the frequency of testing. (This applies r and when initiation of a safe state is not possible (for – with reference to the recommendations stated below example owing to welding of the contacts of the final for the test rate in two-channel systems – provided at switching device) may it be sufficient in Category 2 for least one demand per year can be assumed.) A special the output of the test equipment (OTE) only to provide example of this is continuous testing (e.g. analogue a warning. overvoltage/undervoltage monitoring), for which the requirements for the test rate are always met when the • The initiation of a test,its performance, and the neces- safe state is attained sufficiently swiftly. sary shut-off process should ideally be performed automatically by SRP/CS. Only in exceptional cases is In two-channel Category 3 and 4 systems, the test rate it acceptable to rely here upon manual intervention, for is in competition with the frequency of incidence of example by the machine operator, since experience in a second dangerous failure, since only if the second practice shows that the necessary measures are often channel fails before a test has detected the failure of not adequately implemented, whether out of idleness, the first channel does a danger exist of the safety func- or owing to pressure of work or poor information or tion not being executed. As per the definition, Category organization. Effective implementation of manual tests 4 systems even tolerate the accumulation of undetected involves greater involvement in the work process, or faults. In practice, a range of recommendations exist for greater organizational effort and discipline. Calculation the minimum necessary test rate in Categories 3 and 4. of the DC nonetheless takes account of fault detection when a demand is made upon the safety function, i.e. IEC 61800-5-2 [20] governing the safety of electrical consideration is not limited to tests initiated automati- power drive systems considers the following minimum cally by programmable electronics; electromechanical diagnostic test frequencies acceptable for the case in components such as relays or contactors constitute which testing cannot be performed without interruption classic cases in which the fault of a “failure to drop of the machine's working cycle and in which no reaso- out” can typically be detected only when a demand is nable technical solution can be implemented: one test made upon the safety function. Where faults are to be per year for PL d with Category 3, onetest every three detected in the event of a demand, the frequency must 58 6 Design of safe control systems months for PL e with Category 3, and one test per day for of the PL by means of the bar chart – that was set out PL e in Category 4. during calculation of the “Category 2 bars”: in this case, the dangerous failure rate of the test channel should In EN ISO 14119 [35] and a “Recommendation for Use” be no more than twice the dangerous failure rate of the by the notified test bodies in the machinery sector [36], functional channel that it monitors. an automatic or manual test is required at the following intervals for electromechanical outputs (relays or con- • The effectiveness of a given test measure, for example tactors): at least once per month for PL e with Category fault detection by the process, may depend heavily 3 or 4 and at least once every twelve months for PL d upon the application, and can vary anywhere between with Category 3. The test should preferably be perfor- 0 and 99%. Particular care must be taken here during med automatically; alternatively, the test interval may selection of one of the DC key values. Further explana- be monitored automatically. Only in exceptional cases tions can be found in Annex E. should it be assured by organizational measures. • Position switches connected in series, where present, At the test rates stated here, these are minimum must be considered during determining of the DC avg re quirements that apply when more frequent tests are value for electromechanical contacts. Masking of faults not possible, for example because the test can be per- may occur in such cases, requiring reduction of the formed only when a demand is made uponthe safety DC value and the attainable PL. Details can be found avg function (for which a signal change is required, as for in Annex E. example with electromechanical or fluid power techno- logy), or because an interruption in the machine's work • A situation is possible in which components or blocks cycle is required, as for example when the machine is are monitored by several tests, or in which different started at the beginning of the shift. Automatic tests tests act upon different components, with the result that are not subject to these constraints, such as pro- that an overall DC must be determined for the compo- cessor or memory tests in electronic systems, can often nent or the block. Annex E provides assistance in these be implemented at substantially higher frequency with- issues. out major overhead. In these cases, testing at least once per shift for Category 3 has proved suitable in • The DC formula (4) provides a means of calculation avg practice; in Category 4, a minimum test rate of once per in which blocks with different DC values are grouped hour was already selected when EN 954-1, the predeces- in such a way that the minimum DC requirements for avg sor standard, was in force. the attained Category are met even though individual blocks have a DC below 60%, or even no diagnostics at • A further point is the reliability of the test equipment all (DC = 0%). In such cases, it must be determined on itself. For this, the standard sets out only the basic a case-by-case basis whether this form of implementa- requirements of Category B, applicable to all Catego- tion is consistent with the requirements of the Category. ries, i.e. compliance with the relevant standards in Category 3 requires for examplethat wherever reasona- order for the anticipated influences to be withstood, bly possible, a single fault must be detected at or prior and the application of basic safety principles. Well-tried to the next demand of the safety function. For Category safety principles should also be applied to the extent 2, a “check of the safety function” is a generic require- possible. Where dangerous failures of the test equip- ment. Category 4 also requires detection of the discrete ment are detected by its cyclical incorporation into the fault, and only “if this detection is not possible” that process, deviation from these basic requirements is the safety function also be performed in the event of an permissible. An additional general requirement is that accumulation of undetected faults. the test equipment should not fail prior to the compo- nents that it monitors. At the same time, it is inefficient • With regard to programmable electronic systems in par- for much greater investment to be made in the reliability ticular, a large number of complex faults is conceivable; of the test equipment than in the safety equipment corresponding requirements must therefore also be performing the safety function proper. EN ISO 13849-1 placed upon the complexity of the tests. In this case, therefore imposes only limited requirements upon the should a DC of over 60% be required for the (program- reliability of the test equipment. For Categories 3 and 4, mable or complex) logic, EN ISO 13849-1 calls for at reliance is upon single-fault tolerance, since including least one measure for variable memory, invariableme- failure of the test equipment, a total of three dangerous mory and the processing unit – where present – with a failures must occur before the safety function ceases to DC of at least 60% in each case. be performed. Theoccurrence of such a case unobser- ved is considered extremely unlikely and not therefore critical. For Category 2, a secondary condition exists – at least with the simplified procedure for determining 59 6 Design of safe control systems Once the DC values of all blocks are known, the DC or overloads that were not adequately addressed during avg value for the system is calculated by means of the design of the control system. Should the channels not approximation formula (4). This formula weights the indi- be adequately separated, dangerous secondary faults vidual DC values with the associated MTTF values, since may occur that render the intended single-fault tolerance D very reliable parts (with a high MTTF ) are less reliant ineffective. The quantitative relevance of these effects D upon effective tests than less reliable parts (the sums in in a specific system is difficult to estimate (refer also to numerators and denominators are formed across N blocks Annex F). In Annex D of IEC 61508-6 [37], the “beta-factor” of the entire system): model is used for this purpose. In this model, the rate of common cause failure is placed, as β · λ , in relation to DC DC DC D 1 + 2 + ... + N the dangerous failure rate of a channel λ D . Without a pre- DC = MTTF D1 MTTF D2 MTTF DN (4) cise FMEA, β can at best only be estimated for real-case avg 1 1 1 SRP/CS, however. For this purpose, EN ISO 13849-1 con- + + ... + MTTF MTTF MTTF tains a checklist of eight important counter-measures, for D1 D2 DN which between 5 and 25 points are awarded: Once obtained, the DC constitutes a value describing avg the quality of the test and monitoring measures averaged • Physicalseparation between the signal paths of diffe- over the entire SRP/CS. Before this value can be substitu- rent channels (15 points) ted in the simplified quantification of the PL together with the Category (five classes) and the MTTF of each channel • Diversity in the technology, the design or the physical D (three classes), it must be assigned to one of the four principles of the channels (20 points) classes in Table 6.4. • Protection against possible overloading (15 points) Table 6.4: The four classes of diagnostic coverage in accordance with the • Use of well-tried components (5 points) simplified approach of EN ISO 13849-1 • Failure mode and effects analysis during development, Diagnostic coverage (DC) for the identification of potential common cause fail- Description Range ures (5 points) None DC < 60% Low 60% ≤ DC < 90% • Training of designers/maintainers in CCF and its avoi- dance (5 points) Medium 90% ≤ DC < 99% High 99% ≤ DC • Protection against common cause failures triggered by contamination (mechanical and fluid power systems) and electromagnetic interference (electrical systems) When the DC is subsequently used in the simplified (25 points) avg quantification involving the bar chart (see subclause 6.2.16), only the respective lower key value of a DC class • Protection against common cause failures triggered by avg (0, 60, 90 or 99) is used. A further simplification thus unfavourable environmental conditions (10 points) takes effect here, based upon an estimation erring on the safe side. The points stated for a given counter-measure are to be awarded either in full, or not at all; no points are awarded In specific cases, this coarsely simplified system may for a “partial” implementation of the counter-measures. however give rise to paradoxes, if for example an Different packages of measures may however beeffective unreliable component with an above-average DC for the against CCF at subsystem level. Should all eight counter- SRP/CS is replaced by a more reliable component (for a measures be satisfied, a maximum total of 100 points is more detailed explanation, refer to the end of Annex G). awarded. However, EN ISO 13849-1 requires only a mini- mum total of 65 points and even then, only for SRP/CS in 6.2.15 Measures against common cause Categories 2, 3 and 4. In Category 2 systems, the objective failure (CCF) is the avoidance of dangerous common cause failures in test and functional channels that could give rise to an The final parameter relevant to the simplified quantifi- undetected occurrence of a dangerous fault. During crea- cation of the probability of failure concerns common tion of the bar chart for simplified quantification, the 65 cause failures (CCF). Such failures are related dangerous points were equated to a beta factor of 2%. The coarse failures, for example in both channels of a redundant approximation with respect to the five Categories and the SRP/CS, that are attributable to a common cause. three MTTF and four DC classes was carried further and D avg Ex amples include unfavourable environmental conditions reduced to a simple yes/no decision. Whereas the bene- 60 6 Design of safe control systems fits of a redundant structure are wiped out almost com- further details can be found in Annex G. When the bar pletely even at a beta factor of 10% or higher, a beta factor chart is used, the relevant bar is first determined on the of no more than 2% reduces the relevance of common horizontal axis from the attained Category in combination cause failures to a justifiable level. with the attained DC class. Adequate measures against avg CCF must beprovided for Categories 2, 3 and 4 in this 6.2.16 Simplified determining of the PL by case. The level of the MTTF attained by the SRP/CS on D means of the bar chart the selected bar determines the PL, which can be read off on the vertical axis. This method permits rapid quali- Even when the four essential quantitative parameters tative estimation of the attained PL even in the absence for calculation of the probability of failure have been of precise quantitative data. Should more precise values re solved, determining the PL attained for the SRP/CS from be required, for example not only the PL, but also a value them is still a difficult task. Although in principle, any for the average probability of a dangerous failure per hour suitable method is permitted, EN ISO 13849-1 proposes a PFH , the tables in Annex K of the standard provide assis- D simple graphical method that is based upon more com- tance. Similar assistance is also provided by the IFA's plex calculations and estimations erring on the safe side: SISTEMA software (see Annex H), which analyses the bar the bar-chart method (see Figure 6.10). chart quantitatively, and by the IFA's user-friendly PLC disc [16]. This diagram was generated by Markov modelling based upon the designated architectures for the Categories; PFH D PL (1/h) 10-4 a 10-5 b 3 · 10-6 c 10-6 d 10-7 e 10-8 Cat. B Cat. 1 Cat. 2 Cat. 2 Cat. 3 Cat. 3 Cat. 4 DC = DC = DC = DC = DC = DC = DC = avg avg avg avg avg avg avg none none low medium low medium high Legende PFH Average probability of dangerous failure per hour D PL Performance Level Figure 6.10: MTTF of each channel = low Bar chartmachine controls – Appli- controls, and further practical experience with it has been cation of DIN EN ISO 13849”, appeared shortly afterwards gathered. The IFA‘s experts have commented in publica- and like the preceding report published in June 1997 tions of their own upon the essential issues concerning proved once again to be a best-seller. Since then, over application of this standard, and have discussed their 20,000 orders have been met for copies of the printed opinions on standards committees. The result was the German version. The number of downloads from the web- publication in 2015 of the third edition of EN ISO 13849-1. site of the Institute for Occupational Safety and Health of the German Social Accident Insurance (IFA) is even higher. Now is therefore an appropriate time for a revised IFA Report on safety-related machine control systems. With this report and further tools for application of the The team of authors has revised the entire report and standard – the widely used SISTEMA software application, all examples. The changes to the standard have also the SISTEMA cookbooks and the disc calculator – the re ceived particular intention and have been interpreted. IFA has made an important contribution to successful The present document is the English version of the report. introduction of the new strategies for assessing and designing the reliability of electronic and programmable This report, and the examples of controls that can be control systems. This strategy, which gives consideration imported into SISTEMA, provide all stakeholders with to the probabilities of failure of components, is en shrined straightforward access to the normative methods that in the IEC 61508 series of basic safety standards and is have now become good practice. The report is intended as now established in almost all sectors of industry, inclu- a tutorial andfor simpli- D fied determining of the PL from the MTTF of each channel = medium D Category (including measures against MTTF of each channel = high D CCF), the DC and avg the MTTF D 61 6 Design of safe control systems During creation of the bar chart, consideration was not 6.2.17 Determining the PL for the output part only given to designated architectures; certain conditions of the SRP/CS (power control elements) were also laid down that must be observed when the in accordance with subclause 4.5.5 of chart is applied: the standard • A mission time of 20 years is assumed for the In response to calls voiced by industry, an alternative, SRP/CS, within which the component reliabilities can simplified method for determining the PFH and quanti- D be described or approximated by constant failure rates. fiable aspects of the PL was added in the third edition of The actual mission time may fall below the assumed the standard. This method, described in subclause 4.5.5 20 years owing to the use of components subject to of the standard, can be applied only in certain cases, severe wear (refer to the T value in Annex D) or for namely: 10D other reasons. Application of the bar chart is justified in such cases by preventive replacement of the affected • for the output part of the SRP/CS (power control ele- components or SRP/CS. This information must be made ments) and available to the user in a suitable form, for example in the information for use and by marking on the • when no application-specific reliability data (MTTF , fai- D SRP/CS. Exceeding of the mission time of 20 years lure rate λ , B or similar) are available for mechanical, D 10D from the outset or its extension retrospectively beyondhydraulic or pneumatic components (or components 20 years result in deviations from the bar chart. Annex G employing mixed technology, such as a pneumatically shows how this can be addressed. driven mechanical brake). • In the bars for Category 2, it has been assumed that This simplified determining of the PFH is based primarily D the test rate is adequately high (refer also to sub- upon the implemented Category including DC and CCF. avg clause 6.2.14 and Annex E) and also that the test chan- Calculation of the (channel ) MTTF is not required; in D nel is at least half as reliable as the functional channel. return, well-tried components (in Categories 1, 2, 3 and 4) or proven-in-use components (in Categories 2, 3 and 4) Owing to capping of the MTTF that can be allowed for must be used throughout. “Proven-in-use” is a new com- D each channel to 100 years (2,500 years in the case of ponent property used within the standard and should not Category 4), a high PL can be attained only with certain be confused with the property of well-tried. The property Categories. Although this is related to the simplified of proven-in-use is demonstrated based upon an analysis approach of the designated architectures and the bar of experience gained in the field with a specific configura- chart, the associated limitations also apply when the tion of a component in a specific application. The analysis average probability of a dangerous failure per hour is cal- must show that the probability of dangerous systematic culated by means of other, unrelated methods. As already faults is sufficiently low for each safety function using the mentioned, the architecture imposes the following limita- component to reach its required Performance Level PL r tions upon certain Categories. These limitations are inten-(new definition in 3.1.39 of the standard). Such a demon- ded to prevent the component reliability from being over- stration has not been common in machine construction stated in comparison with the other influencing variables: before now. It is also unclear why the requirement refers only to systematic faults, and fails to consider the random • In Category B, a maximum PL of b can be attained. component faults. • In Category 1, a maximum PL of c can be attained. • In Category 2, a maximum PL of d can be attained. Table 6.5 shows the estimated PFH value and the PL D • In Categories 3 or 4, even a PL of e can be attained. attainable with it, based upon Table 7 in the new sub- clause 4.5.5 of the standard, as a function of the imple- Besides the quantitative aspect of the probability of mented Category and subject to the additional conditions failure, qualitative aspects must also be considered for placed upon the method. attainment of a given PL. Such aspects include systematic failures (see subclause 6.1.2), and software faults, which The method is subject to the following additional condi- are discussed in greater detail in subclause 6.3. tions: • Since the estimated PFH values are based upon the D simplified method for estimation of a PL (bar chart), the same conditions apply as for the designated architectures. A mission time of 20 years and constant failure rates within the mission time are assumed. In 62 6 Design of safe control systems Table 6.5: PL and PFH as an estimation erring on the safe side based upon the Category, DC and the use of well-tried or proven-in-use D avg components PFH in 1/h Category B Category 1 Category 2 Category 3 Category 4 D PL b5.0 · 10-6 ⇦ ● ○ ○ ○ ○ PL c 1.7 · 10-6 ⇦ – ● ● ○ ○ PL d 2.9 · 10-7 ⇦ – – – ● ○ PL e 4.7 · 10-8 ⇦ – – – – ● ● Applied Category is recommended ○ Applied Category is optional – Category is not permissible Further conditions apply, see Section 6.2.17 Category 2, the tests must be performed adequately upon data for their proven-in-use property, unless fail- frequently. No provision is made here for a test rate that ure of these components becomes apparent through is only 25 times the demand rate. the technical process. • In Category 1: use of well-tried components and well- • Categories 2, 3 and 4: since recourse cannot be made to tried safety principles (as in the past and as established formula E.1 of the standard (formula (4) of the present in the Category 1 definition). report) for calculation of the DC owing to the unavai- avg lability of MTTF values, the DC is formed in this case D avg • In Category 2: the MTTF of the test channel is at least simply as the arithmetic mean of the individual DCs of D ten years. all components in the functional channels of the output part. • In Categories 2, 3 and 4: use of well-tried or proven-in- use components and use of well-tried safety principles. 6.2.18 Bus systems as “interconnecting means” In Category 2, there is no advantage in extending this requirement to the test channel, since the same result The discrete blocks of a designated architecture – input (PFH and PL) can be attained with a Category 1 single- unit, logic and output unit – must be connected together D channel system. not only logically, but also physically. For thispurpose, the standard defines “interconnecting means”, which • In Categories 2 and 3: adequate measures against CCF, are regarded as part of the SRP/CS. The term “intercon- and DC of each component at least “low”. necting means” may initially appear strange in the field of electrical or fluid power technology. However, it serves • In Category 4: adequate measures against CCF, and DC as a generic term for electrical and fluid power lines, “high” for each component. and even for such components as mechanical plungers. All requirements of the standard therefore also apply to The DC requirement in the last two of these points applies these forms of “interconnecting means”. In the context of to each component in the subsystem, and therefore fault consideration, a conductor short circuit for example exceeds their respective generic requirements for the is an assumed fault. What is the situation however when Category, which relate to DC . Since however this con- bus systems are used to transmit safety-related informa- avg cerns the output part of the SRP/CS with mechanical, tion? Detailed consideration of such a complex subject is hydraulic or pneumatic components, only one component of course outside the scope of the standard, particularly per channel will be involved in most cases. Consequently, since the subject is already covered by DGUV test prin- the requirement for the DC of each component does not ciples (GS-ET-26, [38]) and a standard (IEC 61784-3 [39]). in practice constitute tightening of the requirements com- Bus systems that satisfy the requirements set out in these pared to the DC of the subsystem. publications can also be readily employed in the context avg of EN ISO 13849-1. Numerous bus systems suitable for The following additional information is provided: safety-related applications are already available on the market. • Category 1: themachine manufacturer must determine the T values of safety-related components based 10D 63 6 Design of safe control systems The publications referred to above employ a special fault 6.3 Development of safety-related software model in which consideration is given to the use of a black-box channel for the transmission of safety-related Comments such as the following are frequently heard: data: in other words, no particular requirements for fault “Of course, a software programmer with years of experi- detection, for example, are placed upon this transmis- ence no longer makes mistakes.” This hubris is in fact the sion channel itself. The model assumes the repetition, greatest mistake of all. Software is generally complicated, loss, insertion, incorrect sequence, corruption and delay which is why the number of failures caused by software of safety-related messages and the coupling of safety- faults is on the rise, in contrast to the situation for hard- related and non-safety-related messages as possible ware. How often are PC users surprised when a computer faults. Further possible aspects include faults that syste- peripheral ceases to work, and how often does the prob- matically corrupt messages, for example by completely lem turn out to have been caused by a part of the software inverting them. Measures in “safety layers” that are then that was not compatible with another piece of software, implemented in safety-related parts of control systems such as a driver? By contrast, hardware tend to be rare. enable transmission faults to be excluded with sufficient According to [41], normal software, i.e. simple software probability. Suitable measures include, for example, for simple functions, contains approximately 25 errors per the sequence number, timestamp, time expectations, 1,000 lines of code. Also according to [41], well written connection authentication, feedback message and data software contains around two to three errors per 1,000integrity assurance. Data integrity assurance in particular lines of code, and the software employed in the Space frequently entails complex calculations. The purpose of Shuttle has (according to NASA) fewer than one error per these calculations is to determine the residual error pro- 10,000 lines. What does this mean in practice? A mobile bability R, and from it the residual error rate Λ (derived telephone has up to 200,000 lines of code and therefore from the lower-case λ for the failure rate for components). up to 600 software errors. A PC operating system has Exactly this value can then be calculated as the average 27 million lines of code and therefore up to 50,000 errors; probability of a dangerous failure per hour required for a the Space Shuttle up to 300 errors; and the software for PL as a proportion for the transmission of safety-relevant the Space Defense Initiative (SDI) up to 10,000 errors. messages. Both of the above publications limit the resi- These programming errors lie dormant in the products dual error rate to 1% of the maximum permissible value until, under certain conditions and in certain situations, for the probability of a dangerous failure per hour. Values they impact upon the products' function. Like no other stated by manufacturers are in fact frequently related to technology, software and therefore also its programmers an SIL (see Chapter 3); in practice, however, these values assume a greater responsibility than ever before. are compatible for use under a required PL (see also Figure 3.2). The 1% rule results in the contribution to the One of the essential changes in EN ISO 13849-1 compared probability of a dangerous failure per hour being virtually to its predecessor, EN 954-1, was the formulation for the negligible, i.e. it enables it to be added tothe values first time of requirements concerning software and its determined for the SRP/CS. Comprehensive information development. For the sake of emphasis at this point: the on bus systems for the transmission of safety-related requirements in subclause 4.6 of the standard enable information can be found for example in [40]. safety-related software to be developed for all SRP/CS in the machinery sector and for all required Performance Where a bus system (i.e. its components), which is gene- Levels from a to e. This subclause is intended in the first rally tested by an independent body, is employed for the instance for application programmers tasked with deve- implementation of safety functions, planning of its use loping the safety functions for a machine, for example and proper implementation with regard to fault avoidance in an application-oriented language on a programmable are of great importance. A large number of parameters logic controller (PLC). By contrast, these requirements in must be set correctly; this process is supported to a grea- EN ISO 13849-1 are not particularly new to developers of ter or lesser degree by relevant tools. SRESW (safety-related embedded software), i.e. firmware or software tools for electronic safety components. Such Should none of the known, already assessed profiles “embedded software” developments for the components, for functional safety be used, the assumed transmission which are generally certified, are often subject to the very errors stated above must be considered, suitable (coun- complex requirements of the IEC 61508-3 basic safety ter) measures implemented, and the residual error rate standard [42] (and its further seven parts), which is bin- Λ in consideration of the typical bit error rate of 0.01 con- ding for IEC standards governing functional safety. sidered during calculation of the total failure probability PFH . Test principles GS-ET-26 [38] provide information on IFAReport 2/2016 on safety-related application software D calculation of the residual error rate Λ. for machinery [43] has been published, addressing the programming of SRASW (safety-related application soft- ware). This report describes the IFA's matrix method for the specification, verification, validation and documen- 64 6 Design of safe control systems tation of SRASW. The matrix method can also be used 6.3.1 Error-free software … with the IFA's SOFTEMA tool [44]. In addition, the report provides detailed further information on the programming … unfortunately does not exist in the real world. In con- of SRASW. The descriptions below are therefore limited trast to hardware faults, which occur as a result of random to a brief presentation of the normative requirements of component failure, the causes of software faults are EN ISO 13849-1 concerning safety-related software. systematic. It is therefore all the more important that all reasonable steps be taken to avoid errors during the deve- The basic principles of this subclause can be applied to lopment of safety-related software, the purpose of which both software types. Individual requirements tend to be is after all that of minimizing risks. What is considered formulated in detail more for application programming of reasonable is determined on the one hand by the required SRASW. Conversely, the example described in subclause Performance Level PL. At the same time, safety-critical r 6.5 of a control system for a paper-cutting guillotine faults tend to creep into particular phases of software shows the development of SRESW. development, where, devastatingly, they remain undetec- ted until they cause a failure in operation. These phases The requirements governing software development are are known to be those of specification, design and modi- geared to the software type (SRASW or SRESW) and the fication. The requirements of EN ISO 13849-1 – and the languagetype. As in other current standards containing explanations provided in this subclause – are therefore requirements for software, a distinction is drawn be tween aimed in particular at fault avoidance in these phases. the language types FVL (full variability language) and Sadly, less attention is often paid in practice to these pha- LVL (limited variability language). SRASW is generally ses of application programming. programmed in LVL, for example in a graphical language as defined in IEC 61131-3. The requirements contained in In order for the safety-related software produced to be of subclause 4.6.3 of EN ISO 13849-1 apply in this case. high quality, it is clear that suitable up-to-date and well- tried “software engineering” development models should As soon as SRASW is programmed in FVL (for example, be followed. For safety-related systems, reference is gene- a PLC in the high-level language “C”), however, the re - rally made in this context to the “V model” [45]. Since the quirements for SRESW contained in subclause 4.6.2 of the V model familiar from the reference is generally used for standard must be met. If the SRASW is required to satisfy very complex software, EN ISO 13849-1, subclause 4.6.1 a Performance Level of e in this case, EN ISO 13849-1 requires only a more simplified form of it (Figure 6.11). refers at the end of subclause 4.6.2, once only, but with exceptions, to the requirements of IEC 61508-3:1998. Development model: simplified V -Modell Objective: readable, comprehensive, testable and maintainable software Specification of the safety Validated functions Safety-related software software Validation Validation specification System Integration design tests Design Testing activities activities Module Module design tests Figure 6.11: Result Simplified V model Coding for the development Verification of safety-related software 65 6 Design of safe control systems This form is considered to be appropriate fora reference work. It is not, of course, a sub- ding machine construction. Not least thanks to the close stitute for the standard itself. However, it contains valu- involvement of experienced experts at the IFA, the authors able advice, and in particular, experience and guidance of EN ISO 13849-1 have succeeded in presenting its con- that has already been developed in the field. tent and developing it further such that it remains practi- cal in its application, despite the complexity of the sub- ject-matter. The preceding EN 954 standard with its purely deterministic requirements has finally been re placed. The Professor Dr Dietmar Reinert Performance Level is now firmly established in machine Director of the IFA construction. 9 10 2 Introduction Since 1 January 1995, all machines placed on the market port the underlying philosophy set out in Annex I of the within the European Economic Area have been required Machinery Directive for the attainment of occupational to satisfy the essential requirements of the Machinery safety and health on machines. EN ISO 12100 [3], a Type Directive [1]. In accordance with Article 2 of this directive, A standard now comprising a single part only, governs a machine is the assembly of linked parts or components, basic concepts and general principles for design for the at least one of which moves, with the appropriate actua- safety of machinery. Content of the former EN ISO 14121-1 tors, control and power circuits, etc., joined together for a standard – the full procedure for identifying hazards and specific application, in particular for the processing, treat- for risk estimation and risk evaluation of each indivi- ment, moving or packaging of a material. In the amended dual hazard – has also been incorporated into the new 2006/42/EC [2] version of the Machinery Directive, safety EN ISOthe practical mented by the software. In addition, the following are conditions and the objectives for safety-related SRP/CS in presented: the machinery sector and specifically for the development of SRASW. The actual objective here is the creation of rea- • Functions that detect and control hardware faults dable, understandable, testable and maintainable soft- ware. Programmers who do not normally develop safety- • Performance characteristics, such as the maximum related software are likely to consider these requirements response time tedious. However, they provide them with the certainty of having developed the software to an adequate standard. • Fault-mode responses In addition to the phases, Figure 6.11 also shows impor- • Interfaces provided to other systems, etc. tant terminology that must first be defined (in a software context). Besides these functional requirements, the PL to be attained by the safety functions, the PL, must be stated, r Result in order to permit selection of the necessary measures for fault avoidance (see further below). Refers to the product of a phase, for example the specifi- cation, the software design, the code, and in the case of This specification (or “safety-related software require- the final result, the tested, validated software. It may how- ments specification”) must be verified, for example by a ever also refer for example to the result of a specification review performed by a person not involved in its creation. phase in the form of a test plan that is not required until a The reviewer must confirm firstly that the requirements much later phase, at which it can be used for systematic specification complies with the higher-level specification, validation of the software. The result(s) of the preceding and secondly that it satisfies the formal requirements phases serve as inputs for the subsequent phases. This is governing how a software specificationis to be written. indicated by the arrow. The specification should be structured and generated in detail in such a way that it can also serve as a checklist for Verification later validation. Describes the quality assurance activity by which the The overall safety of a machine or machinery installation result of a phase is checked against the specification of is assured by all safety-related parts of the control system the preceding phase. During or at the end of the coding and their functions (components of all technologies, elec- phase, for example, verification is performed of whe- tronics, software). A description is therefore required at ther the code actually implements the specified module this point, in the form of a specification, of the safety for design, and whether the programming guidelines have the machine/machinery installation. The document need been observed in the process. not run into the hundreds of pages; it is acceptable for it to be limited to the essential points in a comprehensible Validation form. The specifications for the machine or machinery in stallation as a whole will be followed by a subset of In this context, software validation is a concluding, spe- tasks for programmers. The software specification thus cial form of verification of the entire software. A check is forms a part of the overall concept, and can therefore be performed of whether the requirements of the software regarded as a “contract” with a “subcontract” for the pro- specification concerning the functionality of the software gramming function. have been implemented. The software specification begins with provisions con- Selected phases of the simplified V model, and thus at cerning design and coding of the software. The other the same time the “roadmap” for software development, elements involved in assuring safety must be able to rely are describedbelow. The downward-pointing part of the upon implementation of the functions in the software. The “V” describes the design activities of development, the specification is thus also the point of reference for accep- upward-pointing part the review activities. tance of the software: validation of the software functions must demonstrate whether the “contractual obligations” 6.3.2 Overall safety interface: software have been met. In the area of SRASW, this must be taken specification literally, since the engineering and programming of a con- trol system are often assigned by the parties responsible This document describes, based upon the higher-level for safety as a whole to other companies or corporate specification of the safety functions of the SRP/CS, the divisions. In this case, the specification also serves as a sub-functions of the specification that are to be imple- contractually binding interface to external or internal ser- vice providers. 66 6 Design of safe control systems 6.3.3 System and module design for the 6.3.5 Module test, integration test and “safety-related technical specification” validation The software architecture is generally already defined by In the module test, the new software functions developed the operating system or the development tool. The design specifically for the project are tested and simulated in further defines the structure and modules to be employed order to check whether they are coded as specified in the for implementation of the specified safety sub-functions. module design. At the integration test at the latest, for What existing library functions are to be employed must example during the typical commissioning of a machine's be determined, as must whether new functions may have PLC, the complete software is tested for proper operation to be developed specifically for the project. In this sub- on the hardware (integration) and compliance with the clause, the term software function/module also refersin system design (verification). Both are still verification all cases to a function block. measures, i.e. they involve looking “into” the software. Whether the safety-related sub-functions of the software The software design document should describe the struc- perform as specified is determined by software validation, ture and process of the software, supported by diagrams, which has already been described. For the higher PLs d in a way that makes these aspects comprehensible to and e, an extended functional test is also required. external parties. The more the program is based upon re- used software functions that have already been validated Individual software functions that have been certified or and are already documented elsewhere, the more concise validated by quality assurance measures do not need to the software design document can be. The module design be tested again. As soon as a number of these functions also specifies the new software functions that are to be are combined for a specific project, however, the resulting produced specifically for the project, their interfaces, and new form of safety sub-function must be validated. Even test cases for their module test. For less complex SRP/CS, on certified modules, dangerous systematic failures may the system and module design can be summarized in a be caused by errors in parameterization and logic. “safety-related software technical specification”. 6.3.6 Structure of the normative requirements 6.3.4 Finally: programming Once the design process has been outlined, normative Coding work proper then begins. In the interests of fault requirements are described for the software itself, for the avoidance, the following three aspects must be observed: development tools used, and for the development acti- vities. These requirements also contribute towards fault • Code must be readable and clear, in order to facilitate avoidance. The effort involved should be commensurate testing and error-freemodification at a later stage. Bin- with the required risk reduction, in the same way as for ding programming guidelines facilitate, among other the hardware of the programmable SRP/CS. The require- things, better commenting of the program and the ments and their effectiveness are therefore increased assignment of self-explanatory names to variables and intelligently in line with rising PL. r modules. Figure 6.12 shows that a suitable package of basic meas- • Defensive programming, i.e. the assumption that inter- ures is first set out for all PLs for both SRASW and SRESW. nal or external errors may always be present, and detec- These basic measures can be regarded as software-speci- tion of them. If the characteristic of input signals over fic basic safety principles. They are sufficient for the deve- time is known, for example, this anticipatory approach lopment of software for PL a or b. For software employed can be used to detect errors in the peripheral circuitry. in SRP/CS for PL c to e, the basic measures are supple- If a finite-state machine is being programmed, the state mented by additional measures for fault avoidance. The variable is monitored for a valid value range, etc. latter are required for PL c with lower effectiveness, for PL d with medium effectiveness and for PL e with higher • The code must be analysed statically, i.e. without exe- effectiveness. Irrespective of whether the software now cution: for low PLs, a code review is sufficient; for PLs acts in only one or in both channels of a desired Category, d and e, the data and control flow should also be exa- the PL of the implemented safety function(s) is always the r mined, ideally with the use of tools. Typical questions yardstick for the requirements. are: is the code consistent withthe preceding software design? Do any points exist at which signals with a The aspect of “higher effectiveness” refers to the rising lower PL (for example from a standard PLC) override a level of fault avoidance. This may be illustrated by the signal with a higher PL? Where and by what modules are important task of production of the specification. For PL c, variables initialized, written to, and then assigned to for example, it may be sufficient for programmers to write the safety output? What software functions are executed the specification themselves and for it to be reviewed by conditionally? others (internal review). Should the same software 67 6 Design of safe control systems 4.6.1 Objective; development model (simplified V model) Safety-related embedded software (SRESW) Additional requirement: Basis: Reference: increasing effectiveness 4.6.2 PL a, b PL e PL c, d Safety-related application software (SRASW ) 4.6.3 Additional requirement: increasing Basis: effectiveness PL a, b PL c, d and e Figure 6.12: Grading of the requirements for safety- 4.6.4 Software-based parameterization related software (EN ISO 13849-1) 68 1-94831 OSI NE fo snoitceS be employed for PL e, however, a higher level of fault tematic faults in this SRASW. Irrespective of this, the avoidance must be attained. It may then be necessary normative requirements for the SRESW must also be for the specification to be written by the software project observed (subclause 6.3.10). manager, for example, rather than the programmers. In addition, the review of this specification could be perfor- • Use of standard PLCs: the circuit examples in this report med jointly with a more independent person, such as the (see Chapter 8, Page 99 ff.) demonstrate that standard person responsible for hardware engineering. More eyes PLCs can in principle also be used to engineer safety- (generally) find more errors. Acomprehensive discussion related control systems. Only for PL e is it likely to be of the individual requirements and of their greater or very difficult to attain the required “high” level of dia- lesser effectiveness is unfortunately beyond the scope of gnostic coverage DC of at least 99% for the hardware the present report. Discussion will therefore be limited to of a PLC – at least if this diagnostic coverage is to be certain particular cases: implemented by the SRASW. For PL a to d, the software requirements for the standard PLC are described in • It is not uncommon for cohesive software of SRP/CS to subclause 6.3.10. The requirements for the avoidance implement several safety functions (SFx) of differing PL of errors in SRASW (subclauses 4.6.1 and 4.6.3 of the r (e.g. SF1 and SF2 with PL c, SF3 with PL e). In practice standard) in accordance with the PL must also be met r r r however, it is unlikely to be possible to differentiate during application programming. The topic of systema- between the safety functions of differing PL in the tic capability requires particular attention. r development cycle, the tools, or the effectiveness of the activities (e.g. during modifications). In this case, the • A bonus during the development of diverse SRESW requirements for fault avoidance are therefore geared is that on two-channel SRP/CS for one or more safety towards the highest PL (in the example given: e). functions with a PL of e, the SRESW of the two channels r r can be implemented diversely. Should the degree of • Redundant SRP/CS of which only one channel is pro- this diversity be so great that the code, the design, and grammable: although the programmable electronics even the specification have been created differently, constitute only a singlechannel, the overall structure this software can also be developed in accordance with satisfies Category 3 or 4. Safety functions with a hig- the requirements set out in EN ISO 13849-1 for PL d. It is her PL, such as d or e, are frequently implemented by then irrelevant whether the SRP/CS have two different r means of these structures. If programmable electronics or identical hardware channels. are employed in one channel of the part of the control system in diverse redundancy with a technology other 6.3.7 Suitable software tools than programmable electronics (e.g. fluid power tech- nology) in the other channel, the IFA's recommendation No software without tools: this particularly holds true for is that the normative requirements can be reduced by safety-related software. The selection and quality of these one PL level, e.g. for PL c instead of PL d, owing to the tools are therefore decisive factors for the avoidance r r lower probability of a dangerous failure caused by sys- 6 Design of safe control systems of errors and thus for the quality of the safety function. documentation. Where safety-related software is con- EN ISO 13849-1 emphasizes four elements: cerned, this refers in the first instance to specification of the implemented safety functions (requirements • Development tools: specification), the design document (technical specifica- Development requires tools that are suitable and well- tion), and the well-commented program. In addition, the tried for the intended use. Certified tools for safety com- certified or self-validated library functions used must be ponents are generally employed for SRASW. Features listed together with their identification (version number, such as the avoidance and detection of semantic errors, author, date, etc.). Application of the manufacturer's own the observance of language subsets or the monitoring programming guidelines and language subsets must also of programming guidelinesrelieve programmers of be documented. Should these already be contained in tasks and enhance the quality of the software. the tool, an appropriate reference to these properties is sufficient. Finally, the test activities must be documented. • Libraries of software functions: The integration test and validation of the safety functions The design of the system should consider existing are often performed at the same time. These tests must or supplied libraries and, where practicable, employ obviously be planned and must be documented together validated functions. The following principle applies: with the test results. the more the program is based upon functions that are already validated or indeed certified, the fewer project- What is meant by configuration management? For safety- specific software components remain that must be related software in particular, it is obvious and therefore validated internally or by an external organization prior a requirement that its development be transparent to all to commissioning. For typical recurring functions, sys- parties involved and for subsequent inspections: tem integrators are well advised to invest the necessary effort in developing suitable modules themselves to • Who performed specification, programming, commis- EN ISO 13849-1 such that they can also be re-used and sioning, verification and validation, and when? tested, including by independent persons, routinely and without error. Discrete library functions also require • What was used for development, e.g. tools and their specification, design, test plan, validation, etc. settings, re-used functions and their identification, pro- gramming guidelines? • Suitable programming languages: For SRASW, application-oriented languages are recom- • What program versions are loaded on which SRP/CS? mended, for example in accordance with IEC 61131-3 [46]. Even these languages are more comprehensive This and other necessary information, including all rele- than necessary, and contain constructs that in some vant development documents, must be recorded andcases are error-prone. Programmers should therefore suitably archived for later use, for example for the event of limit the use of the syntax. Corresponding language modification after several years in operation. subsets are generally specified by the tool. 6.3.9 Software is in a constant state of • Programming guidelines: change: modification Suitable programming guidelines must be observed for coding of the software functions [47]. The guidelines Experience has shown that even after having initially been should be the existing, accepted rules of a recognized tested, SRASW will still be the subject of fervent extension organization. Alternatively, a company may draw up sui- and adaptation work during commissioning of an instal- table programming guidelines of its own, provided they lation or machine. This procedure is termed “modifica- have a sound practical or theoretical basis. Program- tion”. These changes are often so extensive that not only ming guidelines govern the use of critical language con- the code, but even the original specification is no longer structs, the scope and interface of software functions, appropriate and should in fact be revised. Changes to the formatting and commenting of the code, symbolic safety functions at one end of the installation or machine names of functions and variables, etc. may also have an impact on the safety functions at the other end that have not been modified that at this stage. These tools and guidelines should be specified in the Equally, the modifications may reveal gaps in the safety design document. concept. This possibility should be examined, and the necessary phases of the V model repeated if appropriate. 6.3.8 Unloved, but important: documentation and configuration management Practical experience also shows however that even after it has been installed, a machine or installation may still Before the manufacturer issues the EC declaration of require an additional12100 [3] standard. In addition to the standards, components which are independently placed on the mar- the ISO/TR 14121-2:2013 [4] technical report serves as a ket by manufacturers in order to fulfil a safety function, practical guide to risk assessment, and contains methodi- the failure and/or malfunction of which endangers the cal examples. safety of persons, and which are not necessary in order for the machinery to function or for which normal compo- Based upon the (generic) EN ISO 12100 [3] standard, nents may be substituted in order for the machinery to the updated EN ISO 13849-1:2015 [5] and EN ISO 13849- function, are also included under the term “machinery” in 2:2012 [6] series of standards describes the risk reduction the sense of the directive. The formal definition of “machi- required during the design, structuring and integration nery” is also satisfied by interchangeable equipment, of safety-related parts of control systems and protective certain lifting accessories, chains, ropes and webbing. devices, regardless of whether they are electrical, elec- Detailed explanations of the individual points can be tronic, hydraulic, pneumatic or mechanical in nature. found in the Guide to application of the Machinery Direc- These standards present a generically applicable system tive 2006/42/EC [2]. The directive now also applies to of methods for machine controls and/or their protective incomplete machines. devices. The Performance Levels described in the stan- dards extend the concept of Categories familiar from The essential requirements of the Machinery Directive for EN 954-1. The safety architectures can now be employed the design and construction of machines and safety com- with significantly more flexibility. An essential advan- ponents can be found in Annex I of the directive. In addi- tage of EN ISO 13849-1 is its treatment of safety-related tion to general principles for the integration of safety, this partsemergency stop facility or guard conformity for a machine, he must draw up its technical door, for example. The machining process is also fre- 69 6 Design of safe control systems quently improved: once again, the safety concept must Requirements for SRESW be adapted in this case. The existing software must be “modified”. Note: this may be the case on SRP/CS that The use of externally sourced industrial standard compo- have already been operated for a longer period of time nents not developed specifically for use in safety func- and for the most part without failures caused by software tions and containing embedded software was not previ- faults – which could equally mean that a present but ously addressed in EN ISO 13849-1. Numerous examples “hidden” fault has simply not yet taken effect. Following of SRP/CS exist in practice however that make use of a modification, however, this situation may change, for standard components such as PLCs, frequency inverters example if the software was not adequately structured or sensors and that implement safety for example by and individual modules/functions are not therefore diverse redundancy with fault detection at system level. en tirely without reciprocal influence. An example employing a standard PLC and a standard fre- quency inverter is shown in Annex I of the standard. Since In the situations described, “Murphy's Law” often takes observance of the SRESW requirements is not generally effect: the program was written many years previously, but confirmed by the manufacturer for such standard com- the original programmers now have more pressing tasks ponents and cannot be performed subsequently by the or have already left the company. In this case, it is in the integrator, satisfaction of the SRESW requirements was interests of both the safety and economy of the machine not demonstrated in the past.or installation for the software to possess the properties stated above: legibility, structure, intelligibility, and also EN ISO 13849-1, subclause 4.6.2 now dispenses with the the facility for straightforward, non-error-prone modifica- need for satisfaction of the SRESW requirements to be tion – irrespective of whatever programming personnel demonstrated for such standard components, provided happen to be available. the following conditions are met: In principle, a modification means that the design pro- • The SRP/CS is limited to PL a or PL b and uses Catego- cess must be restarted, i.e. in the V model, at the point at ries B, 2 or 3. which a change was made (Figure 6.11), for example: • The SRP/CS is limited to PL c or PL d and its use of mul- • When the code has been changed, the module and inte- tiple components for two channels in Categories 2 or gration test must be repeated, as must validation. 3 is permissible. The components in these two chan- nels employ diverse technologies. The requirement for • If changes were also required to the specification, it diverse technologies in the two channels leads to the too must be verified again, for example by review by a probability of a dangerous failure of the SRP/CS caused colleague, in order to ensure that no faults have crept in by an error in the SRESW being strongly reduced. at a different point in the specification. Accordingly, all development and verification measures and also valida- Besides the SRESW requirements, the standard sets out tion of the affected safety functions must be repeated. further requirements, more concerning the hardware, that must be met when standard components are used In view of the effort described, it is understandable that for SRP/CS. These include the avoidance and control of the influenceof a modification upon the safety functions systematic faults, and suitability for the anticipated envi- must be studied and documented systematically. Since ronmental conditions such as climate, vibration and elec- modifications may have a not inconsiderable effect upon tromagnetic compatibility (EMC). These additional requi- proper performance of the safety function, a suitable rements continue to apply irrespective of SRESW. They procedure must be set out from the outset. If appropriate, also include the requirement for basic safety principles to this should include appointment of the persons respon- be applied from Category B upwards and well-tried safety sible. principles from Category 1 upwards. In addition, the basic requirements of Category B must be met for all Catego- 6.3.10 Requirements for the software of ries, namely: the SRP/CS must be designed, constructed, standard components in SRP/CS selected, assembled and combined at least in compliance with the relevant standards, for example IEC 61131-2 for Safety-related controls are often implemented by means PLCs and IEC 61800-1/2 for frequency inverters. of standard components for industrial applications. Since the standard formulates requirements for the implemen- Development with quality assurance in accordance with tation of SRESW and SRASW, these must also be satisfied ISO 900x is not made an explicit requirement by the stan- with regard to electronically programmable standard com- dard; it can however be regarded as a basic safety prin- ponents. Restrictions exist however that do not apply to ciple with regard to the use of standard components. tested safety components. 70 6 Design of safe control systems Table 6.6 shows the possible combinations of PL and ween two channels (the difference in the technologies Category with standard components, and whether and if em ployed), the probability of a dangerous failure of the so how the requirements upon SRESW are to be met. SRP/CS beingcaused by an error in the SRESW is strongly reduced. Systematic failures and common cause failures It remains to be clarified what is meant by “technological are relevant in this context. diversity”. This means that owing to the diversity bet- Table 6.6: Requirements for the SRESW of standard components (to EN ISO 13849-1) Combination PL Category Conditions Requirements for the SRESW of the No. standard components 1 a, b B, 2, 3 • Compliance with relevant product standards No SRESW requirements are placed on • Quality-assured design as a basic safety industrial standard components. principle 2 a, b, c 1 Implementation with the use of electronic compo- nents is generally not possible, since they are not considered well-tried components in the sense of EN ISO 13849-1, Section 6.2.4 3 c, d 2, 3 • As No. 1 No SRESW requirements are placed on • Two channels employing diverse technology; industrial standard components. the required fault detection (DC) is implemen- ted by SRASW 4 c, d 2, 3 Two channels without diverse technology; the Full SRESW requirements in accordance required fault detection (DC) is implemented by with EN ISO 13849-1, Section 4.6.2 apply, SRASW including to industrial standard compo- nents. A safety analysis by the compo- nent manufacturer is required. 5 e 3, 4 Section 4.6.2 of the standard states that PL e is not possible for standard components. The requirement for “technological diversity” can nor- • The two channels employ components of the same kind mally be regarded as satisfied in the following examples: from different manufacturers, without further informa- tion on the diversity of the embedded software. In this • One channel (functional channel or test channel) scenario, it cannot normally be ruled out that the two employs components containing embedded software. manufacturers use the same embedded software com-The second channel employs solely components with- ponents, and possibly even identical hardware (brand out embedded software, i.e. mechanical, electronic, labelling). electromechanical, pneumatic or hydraulic compo- nents. • The two channels employ components of different kinds from the same manufacturer, without further informa- • The two channels employ diverse embedded software, tion on the embedded software. such as different operating systems running on identi- cal or different hardware. Requirements for SRASW Note: when identical hardware is used, particular atten- tion must be paid to the systematic capability of the The requirements upon SRASW are geared to the PL that components for the required Performance Level. must be attained by the subsystem containing the pro- grammable standard component. If for example a stan- • The two channels employ different hardware (e.g. micro- dard component is employed in one channel in diverse processors with different processor cores), since it is redundancy with a different technology (e.g. fluid power) assumed that the associated embedded software was in the other channel in Category 3 or 4, the IFA's recom- programmed in different development environments. mendation is that the requirements upon SRASW can be reduced by one PL level (e.g. from PL d to PL c) owing to The requirement for “technological diversity” can nor- the lower probability of a dangerous failure caused by mally be regarded as not being satisfied in the following systematic errors in the SRASW. This can be inferred from examples: subclause 7.4.3, “Synthesis of elements to achieve the 71 6 Design of safe control systems required systematic capability”, of IEC 61508-2 [48]. In system, beginning with an initiating event through to the case of Category 2, only the requirements upon the attainment of the safe state. In reality however, it is often SRASW of the test channel can be lowered.Further cases necessary for several SRP/CSs, each of which performs are described in IFA Report 2/2016 [43], Chapter 9. parts of the safety function, to be arranged in series as subsystems. Such subsystems may employ different 6.4 Combination of SRP/CSs as subsystems technologies and/or implement different Categories or Performance Levels. Frequently, for example, different Up to this point, this chapter has considered an SRP/CS technologies are employed on the sensor/logic level (e.g. only in the form of a complete control system that can electronics in Category 3) to those on the drive level (e.g. be mapped in its entirety to a Category or designated hydraulics in Category 1), or bought-in devices are inter- architecture with a corresponding Performance Level. linked, e.g. light curtains, electronic controls and pneu- The safety function is executed entirely by such a control matic valve level as shown in Figure 6.13. Figure 6.13: Arrangement of subsystems in series for implementation of a safety function Hazardous Fluidic actuator movement Safety PLC Electronic control logic Light curtain Fluidic control Category 2 [type 2] Category 3 Category 1 PL c PL d PL c I L O I1 L1 O1 I L O TE OTE I2 L2 O2 One of the major advantages of the PL concept over the • Control subsystem in one Category: for this case, the Categories is that it provides a method by which subsys- above explanations also apply, for example with regard tems of differing Category but similar Performance Level to the designated architectures; the contribution to the can be combined to form an overall system of mixed Cate- safety function and the interfaces to which the further gories but with a defined overall PL. In practice, different subsystems can be connected in order for the safety constellations may occur. These are discussed ingreater function to be completed must however be defined pre- detail below: cisely (see below). • The entire control system in one Category, no subsys- • Arrangement of subsystems (e.g. of differing Category) tems: for this case, the explanations given above apply, in series: a method is described below by which the PL e.g. regarding the designated architectures. and the PFH of the system as a whole can be calculated D from the values for the subsystems (PL, average proba- 72 6 Design of safe control systems bility of a dangerous failure per hour PFH ). Here too, N = number of subsystems involved in the safety function D the precise definition of the contribution to the safety function and of the interfaces must be observed. PFH = average probability of a dangerous failure per hour D in the system as a whole • Integration of “encapsulated subsystems”, e.g. in the form of externally sourced subsystems for which, of PFH = average probability of a dangerous failure per hour Di the characteristic data for quantitative determining of of the ith subsystem the PL, only the PFH and PL (or SIL) are known, and D possibly informatively the Category (refer to subclause The overall PL is then limited by: 6.2.9 and Figure 6.14 in this context). • The lowest PL of all subsystems involved in the safety • Treatment of special cases, such as the arrangement of function (limitation by non-quantifiable aspects such as subsystems in parallel or the use of subsystems in only software and systematic capability) one channel of an entire control system. • The PL determined in accordance with Table 6.1 on The arrangement in series of multiple subsystems, Page 40 from the PFH calculated in accordance with D including subsystems differing in their technology, typi- Formula 5(limitation by quantifiable aspects) cally takes the form outlined by the example shown in Figure 6.13: the light curtain, electronic control system If – in rare cases – PFH values of the subsystems involved D and pneumatic valve are arranged in series to enable in the safety function are not known, an approximate esti- them to perform the safety function (stopping of the mate of the attained overall PL can be produced from the hazardous movement in response to interruption of a subsystem PL values by means of the following alternative light beam) together. The pneumatic cylinder itself is not method in EN ISO 13849-1: a part of the control system and is not therefore subject to evaluation of its PL. • The lowest PL of all subsystems arranged in series is first determined; this is PL . low A chain is only ever as strong as its weakest link: this rule also applies to the interlinking of parts of control systems • The number of incidences of PL in the series arrange- low both of different Categories and of different Performance ment of the subsystems is then counted; this is N . low Levels. As has often been observed in practice, a hydrau- lic control system of Category 1 may, owing to the high • The overall PL can then be determined from PL and low MTTF of its components, exhibit a safety level compara- N as shown in Table 6.7. D low ble to that of a Category 3 electronic control system with a medium DC and low MTTF . Since positive and negative In the method shown in Table 6.7, a probability of failure avg D correction values for the Category are already reflected in of the subsystems that lies precisely in the middle of the PLvia the MTTF and DC , the PL for the combination the valid range (on a logarithmic scale) is assumed by D avg is geared to the lowest PL in the series arrangement, and approximation for the PL in question. low not to the lowest individual Category. A rising number of control elements and their respective contributions to the Table 6.7: PFH also increases the overall probability of failure PFH Simplified calculation of the PL for series arrangements of D D of the system as a whole. Consequently, the PL of the subsystems series arrangement can be reduced by a further level from PL N Overall PL the lowest subsystem PL if for example addition of the low low PFH values causes the threshold of the PFH to the next a ≥ 4 No PL, not permitted D D PL down to be crossed. ≤ 3 a b ≥ 3 Values for the average probability of a dangerous failure ≤ 2 b per hour PFH are normally available for all subsystems D c ≥ 3 (values for SIL and PFH to IEC 61508 [10] or IEC 62061 D ≤ 2 c [11] are also suitable). The PFH relevant to the overall PL D value can then be formed by summation of these values: d ≥ 4 ≤ 3 d N PFH =∑PFH = PFH + PFH + ... + PFH (5) e ≥ 4 D Di D1 D2 N i=1 ≤ 3 e where 73 6 Design of safe control systems Since with both methods, all subsystem PLs are always either for the quantifiable aspects (e.g. Category 1 twice at least as great as the overall PL, it is also ensured that in parallel still does not equate to Category 3, since it all measures for non-quantifiable, qualitative aspects lacksfault detection) or with regard to the qualitative (e.g. systematic failures or software) are adequately aspects (e.g. systematic failures, software, common considered in the combination. Particular attention must cause failure). Usually, the only solution is therefore a re- however be paid here to the interfaces between the sub- evaluation of the entire system; in some cases it may be systems: possible to exploit the intermediate results (e.g. the MTTF D or DC of blocks). • All connections (e.g. conductors or data communication over bus systems) must already be considered in the PL Figure 6.14: of one of the subsystems involved, or faults in the con- Mixed subsystems can be re-sorted in the safety-related block nections must be excluded or be negligible. diagram, for example by priority being given to encapsulated subsystems (“L” in this case). • The subsystems arranged in series must be compatible at their interfaces. In other words, each output status of an actuating subsystem that signals the demand of the safety function must be a suitable initiating event for initiating the safe state of the downstream subsystem. I1 O1 In two-channel systems connected in series, addition of L the subsystem PFH values may lead to minor arithmetic D errors on the unsafe side. Strictly speaking, the two out- I2 O2 puts of the first subsystem should additionally be read crossed over into the inputs of the second subsystem, Hardware-related representation: and compared. Crossed-over doubling of the input infor- three SRP/CS as subsystems mation, however, is often already implemented internally at the input level of the second subsystem. In order to prevent an unnecessarily high wiring overhead, the minor underestimation of the PFH during addition is tolerable. D I1 O1 The rules described up to this point already enable sub- L systems to be combined much more flexiblyof control systems independently of the techno- annex contains dedicated subclauses governing controls logy em ployed, as has already been mentioned. The for machines and the requirements placed upon protec- Performance Level enables different control structures tive devices. The essential safety requirements applicable em ploying different technologies to be combined easily. to the design of machines and safety components oblige The standard offers everything needed from a single manufacturers to conduct a risk assessment in order to source comprising approximately 100 pages. The methods identify any hazards associated with the machine. Three are formulated neutrally with regard to the specific appli- principles are stated, in the following order, by which cation or the technology employed, and are therefore the accident risks associated with each hazard are to be referenced by virtually all product standards for machine red uced to an acceptable level: safety (generally Type C standards). • The elimination or reduction of risks by inherently safe With entry into force of the revised 2006/42/EC Machinery design Directive [2] in December 2009, the harmonized stan- dard acquired greater importance. This can be attributed • The taking of necessary measures for protection in rela- principally to the new provision that safety-related logic tion to risks that cannot be eliminated – also described as the safety-related parts of control systems – has been included in Annex IV of the directive. • The informing of users of the residual risks, particular Annex IV products of this kind are subject to special treat- training, instruction and personal protective equipment ment under the directive, unless they are manufactured in accordance with harmonized standards the reference of Under Article 7, the observance of harmonized Euro- which is listed in the Official Journal. pean standards the reference of which is listed in the Official Journal of thethan was possible by means of the categories as described in the I2 O2 first edition of the standard in the form of EN 954-1. These subsystems may differ widely in nature, for example with Simplified logic representation: regard to their technology or Category, and may also be developed against other standards for the safety-related two SRP/CS as subsystems parts of machine controls that are based upon an SIL rather than a PL (see Figure 3.2). A further special case is the integration of subsystems Two-channel and (tested) single-channel parts may alter- that already possess a PL (or SIL) or an average proba- nate in linked subsystems. As an example, Figure 6.14 bility of dangerous failure per hour PFH as blocks in an D shows an encapsulated logic subsystem (e.g. a safety SRP/CS. As an approximate rule without inspection of the PLC) to which two-channel input and output elements are internal structure of the subsystem, the reciprocal of the connected. Since the hardware level is already abstrac- average probability of a dangerous failure per hour PFH D ted in the safety-related block diagram, the order of the may be substituted as the MTTF for the block. Since any D subsystems is in principle interchangeable. It is therefore diagnostics measures of the subsystem that may have recommended that subsystems sharing the same struc- been implemented internally have already been consi- ture be grouped together, as shown in Figure 6.14. This dered in the probability of failure, only supplementary dia- makes calculation of the PL simpler, and unnecessary gnostics measures acting externally upon the subsystem truncation effects, such as multiple capping of the MTTF may be considered for the DC of the block. More detailed D of a channel to 100 years, are avoided. information can be found in clause 2 of[32]. Clause 3 of this publication also addresses the case in which more Special cases nevertheless remain for which only rough than two functional channels are connected in parallel. rules, if any, can be stated at this time. One special case concerns the arrangement of subsystems in parallel. In A further issue that may arise in this context concerns the this case, simple, generic rules cannot be formulated assignment of a Category for a complete system that is 74 6 Design of safe control systems created in turn from subsystems for which the only avail- 6.5.2 Implementation able information is the average probability of dangerous failure per hour PFH . Besides information on the internal Where implementation takes the form of a two-hand D structure, information on the MTTF of each channel and control, this safety function can be described as fol- D on the DC , for which minimum requirements apply lows: when at least one of the two actuators S1 and S2 avg depending upon the Category, is also lacking in this case. is released, the hazardous movement of the clamping The same principle therefore applies as to parallel arran- bar and knife is interrupted, and both the clamping bar gements: the only alternative to a very rough estimation is and the knife are returned to their initial positions by re-evaluation, possibly with exploitation of intermediate spring force. A restart is prevented until both actuators results obtained. have been released and a new cycle initiated by the two-hand control. Controlled location of the operator's 6.5 Determining the PL with reference to the hands is achieved by means of two actuators that must example of a paper-cutting guillotine be operated simultaneously for the machine to be star- with diverse redundancy in the logic ted (for details, e.g. concerning immunityto defeating, control (Category 4 – PL e) see EN 574). The timing and logic of the electrical signals must be interpreted; a programmable electronic control This subclause supplements the general description with system is a suitable solution for this purpose, and will an illustration of how the PL is determined in practice. At generally also control the movement of the clamping the same time, the example described here in detail faci- bar and knife. Owing to the high forces required, these litates the reader's access to Chapter 8, which contains a parts are driven hydraulically. As described in Chapter 5 large number of circuit examples for diverse PLs, Catego- (see subclause 5.3.2), the safety function encompasses ries and forms of technology. both actuators – clamping bar and knife – since they are located in the same hazard zone. Figure 6.15 represents The text boxes with grey background shown below corres- an electrohydraulic conceptual schematic diagram show- pond to the brief descriptions in the form used in Chapter ing how the safety-related parts of control systems are 8. Additional explanations are also provided; reference to implemented in practice. As in Chapter 8, many details them for each circuit example would be too protracted in have of course been omitted from the schematic diagram Chapter 8. shown here in the interests of greater clarity. Besides the majority of functional parts of the control system required 6.5.1 Safety functions for operation of the machine within the process, certain safety-related details such as protective circuits (fuses, The example control system for a paper-cutting guillotine EMC) and “peripherals” (power supply, clock signals etc. described in Figure 5.7 is taken up again here. Of the for the logic) have also been omitted from the diagram. seven safety functions stated there, the implementation Owing to therequired single-fault tolerance and tolerance of SF2, for which the required Performance Level was of an accumulation of undetected faults, decoupling ele- found to be PL e, is described by way of example. Since ments for example are also required in practice between r the various safety functions may make use of the same the interconnected inputs of the two logic channels, in components, all safety functions must be considered order for a defective input on one channel not to cause during implementation. For example, for safeguarding interference on the other channel. It must therefore be on the operator side, the product standard governing appreciated that a conceptual schematic diagram such paper-cutting guillotines, EN 1010-3, requires electro- as this does not constitute documentation from which a sensitive protective equipment (ESPE, not shown here) for replica could be fabricated; rather, its purpose is to illus- the safety function SF3, in addition to a two-hand control trate the structure of the safety technology. (THC). 6.5.3 Functional description Safety function (SF2): A functional description explaining the circuit structure and signal paths is essential for an understanding of the • Controlled location of the operator's hands outside circuit diagram. It is intended to permit identification of the danger zone during a hazardous movement the functional process during performance of the safety function (which may take place in different channels) and the implemented test measures. 75 6 Design of safe control systems Figure 6.15: Conceptual schematic diagram of the electronic drive of a hydraulic knife drive and a hydraulic clamping bar (essential components) Knife drive Clamping bar 1A 2A Hazardous Hazardous movement movement K3 K4 1V4 2V2 1S3 P 2S1 P K6 1V3 2V1 1V5 2V3 K5 1V2 1V1 1Z2 1Z1 M 1M 1P 1S1 1S2 3 + + + + + + + +1S3 2S1 K5 K3 13 21 13 21 S1 P> S2 P> 14 22 14 22 K6 K4 K1 Input K2 Input Synchronization and Microcontroller ASIC data exchange Output Output 1V4 2V2 1V3 2V1 K3 K4 K5 K6 76 6 Design of safe control systems Functional description: 6.5.4 Safety-related block diagram • Operation of the actuators S1 and S2 of the two-hand The description of the circuit arrangement in conjunc- control initiates the hazardous movements (proces- tion with the circuit diagram and where applicable other sing cycle) of the clamping bar and the knife. Should descriptive documents (comprehensive specification) either of the actuators of the two-hand control be enables a control Category to be determined and the released during this cycle or a signal change occur actual circuit to be mapped to an abstracted safety- in the peripheral system of the machine that is not related block diagram (Figure 6.16, see Page 78). It quickly expected by the control system, the cycle is halted becomes clear from this example that the safety function and the machine assumes the safe state. is executed in two-channel mode. Category 3 or 4 may therefore be considered. The high-quality test measures, • Pressing the actuators S1 and S2 causes the rising by which combinations of faults can also be controlled, edges of the signals to be fed to the two processing suggest Category 4. This is demonstrated explicitly by the channels K1 (microcontroller) and K2 (ASIC). Provided verification step in Chapter 7, as is checking of the quan- these signals satisfy the requirements for simul- titative requirements for the MTTF , DC and CCF (see D avg taneity (500 ms) in accordance with the relevant below). The explanations provided in subclauses 6.2.8 standard, EN 574, the two processing channels set and 6.2.9 are helpfulfor implementation in the safety- the outputs (contactor relays K3 to K6) for a valid cut related block diagram. A proven procedure is to track the request. signal path, beginning at the actuator end, by asking: “How is the hazardous movement driven/prevented?”, • The two processing channels act synchronously and in order then to follow the logic through to the sensors. also mutually evaluate internal intermediate states of SISTEMA Cookbook 1 [34] describes this step “From the the cyclical signal processing operations. Deviations schematic circuit diagram to the Performance Level” in from defined intermediate states cause the machine more detail. Note in this example that actuators S1 and S2 to be halted. One processing channel is formed by a are not mutually redundant, even though they may initi- microcontroller (K1), the other by an ASIC (K2). K1 and ally appear so, since each button independently protects K2 perform background self-tests during operation. one of the user's hands. Rather, the redundancy begins within each button with the use of electrical break con- • Faults in the actuators S1/S2 and in contactor relays tact/make contact combinations. Each control channel K3 to K6 (with mechanically linked readback contacts) monitors both hands/actuators by interpreting at least are detected by cross monitoring in the processing one electrical switching contact in each actuator. The channels. safety-related block diagram therefore contains a make contact, e.g. S1/13-14, and a break contact, e.g. S2/21-22, • Failure of the valves 1V3/1V4 and 2V1/2V2 is detected in each channel. The safety-related block diagram differs by means of the pressure switches 1S3 and 2S1. substantially in this respect from the functional circuit diagram. • Failure of the valves or sticking open of 1V4 or 2V2 is detected by a strong reduction in the return speed Under certain circumstances, the actual implementation ofthe hydraulic cylinders. This situation can also be of the safety function may result in restrictions or recom- detected by the control system by suitable interpre- mendations for the application. For example, the effec- tation of the pressure signals (duration of pressure tiveness of fault detection by way of the work process is drop). by definition closely related to the application. • Failure of the valves or sticking open of 1V3 or 2V1 is detected directly by monitoring of the signal change Remarks of pressure switches 1S3 and 2S1: should a valve stick, a pressure is signalled even though no pressure • Application for example on paper-cutting guillotines should be present. (EN 1010-3) • All machine states are monitored by both processing channels. The cyclical nature of the cut operation cau- ses all system states to be cycled through, and faults 6.5.5 Input variables for quantitative can thus be detected. evaluation of the attained PL All basic information for evaluation of the attained PL is available at this point. With knowledge of the Category and of the safety-related block diagram, the MTTF and D 77 6 Design of safe control systems S1/13-14 S2/21-22 K1 K3 K4 1V4 2V2 Figure 6.16: Safety-related block diagram of S2/13-14 S1/21-22 K2 K5 K6 1V3 2V1 the SRP/CS for the selected safety function SF2 on 1S3 2S1 the paper-cutting guillotine DC can first be determined for the individual blocks, and In order to elucidate calculation of the MTTF , block “K1” D the measures against CCF also evaluated for existing will first be considered: although the conceptual schema- redundancies. This is followed by the “mathematical” tic diagram (Figure 6.15) shows only the microcontroller, steps for determining the MTTF of each channel, the this block includes further elements that are necessary D DC , and finallythe PL. for the practical functionality (e.g. crystal oscillator). All avg elements the dangerous failure of which could prevent performance of the safety function in the affected channel Calculation of the probability of failure must be considered. This generally encompasses all ele- ments in the signal path critical to safety, e.g. for decoup- • MTTF : at 240 working days per year, 8 working hours ling, readback, EMC protection or protection against over- D per day and a cycle time of 80 seconds, n is 86,400 voltage. These elements are generally necessary for the op cycles per year. For S1 and S2 and for K3 to K6, a B implementation of basic and well-tried safety principles or 10D value of 2,000,000 cycles [M] produces an MTTF of for attainment of the DC. Figure B.2 (see Page 253 shows D 232 years. For the microcontroller alone, an MTTF of this approach with reference to a further simple example. D 1,142 years is determined [D]. The same value is also The parts count method shown in Table 6.8 is suitable for substituted for the ASIC [D]. Together with the asso- use as a simple tabular method for determining the block ciated circuit arrangement, this results in an MTTF of MTTF based upon the element MTTF . (For comparison, D D D 806 years in each case for the blocks K1 and K2. The Figure B.3 on Page 255 shows the procedure for a failure manufacturer states an MTTF of 150 years [M] in each mode and effects analysis.) D case for the hydraulic valves 1V3, 1V4, 2V1 and 2V2. These values result in an MTTF for each channel of The failure rates for the elements stated in the second D 31.4 years (“high”). column were determined by means of the SN 29500data- base [49], as denoted by the code [D] under “calculation • DC : in accordance with EN ISO 13849-1, Annex E, of the probability of failure” (see subclause 7.6). Valida- avg the DC values produced for S1/S2 are: 99% (cross tion is described in greater detail in the continuation of monitoring of input signals without dynamic test with this example in subclause 7.6. Since identical elements frequent signal change); for K1/K2: 90% (self-test by may occur more than once (third column), the total failure software and cross monitoring); for K3 to K6: 99% rate for each element type is calculated and indicated in (direct monitoring by mechanically linked contacts); the fourth column. The global approximation that only half for 1V3/2V1: 99% (indirect monitoring by the pressure of the failures are dangerous yields the halved value in sensor); and for 1V4/2V2: 99% (indirect monitoring Column 5. Finally, simple summation produces the total by the function and measurement of a change in the rate of dangerous failures for block K1. Column 6 shows duration of the pressure drop). These values yield a the associated MTTF values in years, derived as the reci- D DC of 98.6% (“high”). procals of the dangerous failure rates (from Column 5, avg following conversion from hours to years). This value is • Adequate measures against common cause failure rounded to 806 years for block K1. Since the database (65 points): separation (15), overvoltage protection employed states identical failure rates for the microcon- etc. (15) and environmental conditions (25 + 10) troller and the ASIC and the circuitry is similar, the MTTF D value of 806 years also applies to block K2. • The combination of control elements satisfies Cate- gory 4 with a high MTTF per channel (31.4 years) and D a DC of 98.6%, withinthe “high” tolerance band. avg This results in an average probability of dangerous failure of 9.7 · 10-8 per hour. This satisfies PL e. 78 6 Design of safe control systems Table 6.8: Parts count method for the “microcontroller” block K1, based upon failure rates λ taken from the SN 29500 collection of data [48] (stated in FIT, i.e. 10-9 per hour) Component Failure rate λ in Number Total failure Total rate of MTTF in years as D FIT to SN 29500 rate λ in FIT dangerous a reciprocal of λ D D failures λ in FIT D Resistor, metal film 0.2 7 1.4 0.7 163,079 Capacitor, no power 1 4 4 2 57,078 Diode, general purpose 1 3 3 1.5 76,104 Optocoupler with bipolar output 15 2 30 15 7,610 Microcontroller 200 1 200 100 1,142 Crystal oscillator 15 1 15 7.5 15,221 Transistor, low-power bipolar 20 1 20 10 11,416 Plastic-sealed relay 10 1 10 5 22,831 ⬇ Total for the “microcontroller” block K1 141.7 FIT 806 ➡ years Manufacturers' data (“[M]”) are used for blocks S1/S2 and only either the make contacts (e.g. S1/13-14) or the break K3 to K6. Since the reliability data are available only for contacts (e.g. S2/21-22) are considered in each channel, S1/S2 overall (operating mechanism and break and make in addition to the operating mechanism. The assumed contact), these values can be used as an estimation erring B values are converted to MTTF values by means of the 10D D on the safe side for each of the channels, even though formulae familiar from Annex D: d · h s 240 days/year · 8 h/day s cycles n = op op· 3 ,600 = · 3,600 = 86,40 0 (6) op t h 80 s/cycle h year cycle B 2,000,000 cycles 10DEuropean Union (EU) gives rise to a presumption of conformity with the essential health and safety requirements of the Machinery Directive. Several hundred harmonized European standards detail/sup- 11 2 Introduction On the one hand, Annex IV products are not in principle on relevant national and international standards commit- subject to compulsory EC type examination1; they can, tees. for example, be placed on the market on the basis of an extended manufacturer‘s quality management system Chapter 3 deals with the generic standards governing assessed by a notified body. However, the new directive functional safety on machines and machinery installati- resulted in control systems becoming more strongly the ons. Chapter 4 presents an overview of the structure of focus of the safety analysis [7; 8]. this report with regard to application of EN ISO 13849. In its third, 2015 edition, EN ISO 13849-1 is the successor The authors hope that this report will be of genuine assis- standard to EN 954-1:1996 [9], and is already listed in the tance during design and operation activities and will pro- Official Journal of the EU. The presumption of conformity vide OSH experts with firm support in implementing the to which the 2008 version gave rise expired on 30 June requirements upon the safety-related parts of control sys- 2016. The three-year transitional period in which EN 954-1 tems. The present interpretation of the standard has been remained valid in parallel has long expired; users may tested in practice in diverse applications, and the princip- therefore use this standard, if at all, only by making les underpinning the examples have been implemented dated reference to individual subclauses of it. Part 2 of in technical form in numerous actual cases. EN ISO 13849-2 [6] was published in 2012 following revi- sion. The IFA web page at www.dguv.de/ifa/13849e servesMTTF = = = 231.5 years (7) D 0.1 · n 0.1 · 86,400 cycles/year op The operation time of electromechanical components is this case, however, the T value is greater than the assu- 10D limited to the T value (time after which 10% of the com- med mission time of 20 years, it is not relevant for further 10D ponents under analysis have failed dangerously). Since in analysis. B 2,000,000 cycles 10D T = = = 23.2 years (8) 10D n 86,400 cycles/year op The manufacturer also states an MTTF of 150 years [M] in In accordance with subclause 6.2.13, the total for one D each case for the hydraulic valves 1V3, 1V4, 2V1 and 2V2. channel (S1, S2, K1, K3, K4, 1V4, 2V2) yields an MTTF of D 31.4 years, i.e. “high”: 1 1 1 1 1 1 1 1 1 = + + + + + + = (9) MTTF 232 years 232 years 806 years 232 years 232 years 150 years 150 years 31.4 years D Since the second channel exhibits the same MTTF , sym- Validation of the assumed DC values is also described D metrization is not required as would otherwise be the in greater detail in Chapter 7. High-quality self-tests for case. example are performed for K1 and K2 by software and cross monitoring, including the special measures for vari- ant and invariant memory and the processing unit that are 79 6 Design of safe control systems required for microprocessor systems. Altogether, a DC clause 6.2.14. With exploitation of the 5% tolerance, this avg of 98.6% is produced for the SRP/CS according to sub- value is in the “high” range. ⎜ ⎛ 99% 99% 90% 99% 99% 99% 99% ⎟ ⎞ 2 ·⎜ + + + + + + ⎟ ⎜ ⎟ ⎜232years 232 years 806 years 232 years 232 years 150 years 150 years⎟ DC = ⎝ ⎠ =98,6% (10) avg ⎜ ⎛ 1 1 1 1 1 1 1 ⎟ ⎞ 2 ·⎜ + + + + + + ⎟ ⎜ ⎜ 232 years 232 years 806 years 232 years 232 years 150 years 150 years⎟ ⎟ ⎝ ⎠ The measures against common cause failure (CCF) stated 6.5.6 Several approaches for quantitative in the grey box on Page 78 are largely self-explanatory. calculation of the PL Validation is nonetheless explained in greater detail in Chapter 7. In addition, the “diversity” measure and the Determining of the PL on the basis of quantifiable aspects “use of well-tried components” measure take effect in is now almost complete at this stage. The results for the the electrical and hydraulic subsystems respectively (see Category, DC and MTTF can be used for graphical confir- avg D Annex F). With satisfaction of the requirements for CCF, a mation by means of the bar chart that PL e is attained (see DC of “high” and an MTTF of “high”, the quantitative Figure 6.17). The tabular values in Annex K of the standard avg D requirements for Category 4 are also met. or the IFA's PLC disc calculator [16] based upon them yield the following result: Category CCF DC MTTF PFH avg D D 4 OK “High” “High” 9.5 · 10-8 per hour (rounded down: (PL e) 30 years) Figure 6.17: Determining of the PL by means of the bar chart/disc calculator PFH Cat. 4, DC high D PL Cat. B (1/h) Cat. 1 3.80 Cat. 2, DC low 2.06 average Cat. 2, DC medium 1.21 probability Cat. 3 C , a D t. C 3 m , D e C d i l u o m w2 6 . . 6 9 5 4 o fa f i l d u a r n e g p e e r r o u h s our 1. Cat. 4, DC high 9.54 Performance Level Calculator © – PLC 2. 10-4 9,54 for further information and application see www.dguv.de/ifa/13849 for EN ISO 13849-1 a · 10-8 PPLL:: aa ×× 1100-5 bb ×× 1100-6 10-5 PL e cc ×× 1100-6 dd ×× 1100-7 b ee ×× 1100-8 3 · 10- 6 c MTTF D 30 [years] 1. 30 10-6 d 10-7 e 10-8 Cat. B Cat. 1 Cat. 2 Cat. 2 Cat. 3 Cat. 3 Cat. 4 DC = DC = DC = DC = DC = DC = DC = avg avg avg avg avg avg avg none none low medium low medium high 80 6 Design of safe control systems The SISTEMA software (see Annex H), available free of matic failures. Further measures are of course required charge from the IFA, is much more convenient for the in the course of implementation, for example in order to administration, documentation and calculation of all control the effects of a voltage breakdown, fluctuations intermediate results. All quantitative requirements for in voltage, overvoltage and undervoltage. Some of the determining the PL that have been described thus far can necessary measures are already evident in the selected be handled easily with this software, and all calculations design. These include: including mathematical determining of the PL are auto- mated. Use of the exact DC and MTTF values for calcu- • Use of the closed-circuit current principle: this ensures avg D lation is possible as a special option. For DC , the exact that the de-energized state cannot give rise to an actua- avg (in this case poorer) value of 98.6% isemployed for cal- tion signal (e.g. in the event of wire breakage). culation rather than exploitation of the 5% tolerance for a DC of “high” and substitution of a rounded 99% (for the • Fault detection by automatic tests: in this case, tests avg tolerances for DC and MTTF , cf. Note 2 in Tables 4 and 5 of – differing between the two channels – are performed D the standard). Dropping below the 99% mark for Category that are capable of detecting faults at an early stage and 4, still within the tolerance band, initiates a warning mes- of initiating the safe state independently of the respec- sage by SISTEMA, however. Use of the precise MTTF value tive adjacent channel. D of 31.4 years for calculation yields a result comparable to that from calculation with the rounded value of 30 years • Testing by redundant hardware: the diversity by design for MTTF “high”. The result is an average probability of provides additional control of faults caused by environ- D a dangerous failure per hour of 9.7 · 10-8 per hour (see mental influences that differ in their effects upon the Figure 6.18). different channels. This is now followed by evaluation of the non-quantifiable • Use of contactor relays with mechanically linked con- qualitative aspects for determining the PL, firstly for syste- tacts: status detection of suitable contacts enables dan- matic failures. gerous faults of the contactor relays and in some cases of other circuit components to be detected. 6.5.7 Systematic failures • Program sequence monitoring: the ASIC for example is With its diversity-oriented approach for the logic control, used to monitor the program sequence of the microcon- the selected design of the control system employs a troller channel. highly effective measure against the influence of syste- Figure 6.18: Determiningof the PL by means of SISTEMA 81 6 Design of safe control systems The reader's attention is drawn in particular to two details • THC designed to prevent defeating and thus circumven- concerning systematic failures, the first relating to the tion of the controlled location of the operator's hands application, the second to the design process: 6.5.9 Requirements concerning the software, • During design of the hydraulic system for paper-cutting specifically SRESW guillotines, consideration must be given to the inci- dence of paper dust. Contamination of hydraulic fluid The following description is of a model implementation with paper dust may for example jeopardize the safe of safety-related firmware for the microcontroller K1. The function of a paper-cutting guillotine. For this reason, software is embedded software (SRESW) for which the PL r particular attention must be paid to effective filtration of is e. Owing to the diversity-oriented approach of the logic the pressure medium. In addition, the ingress of paper control – the second channel takes the form of an ASIC dust into the hydraulic system from outside must be – the requirements in accordance with the note in sub- prevented, for example by tank vent filters and wiper clause 4.6.2 of the standard can be scaled down: “When rings on cylinder rods. using diversity in specification, design and coding, for the two channels used in SRP/CS with Category 3 or 4, PL e r • Fault-avoidance measures during development of the can be achieved with the above-mentioned measures for ASIC in accordance with the ASIC development life cycle PL of c or d.” r of IEC 61508-2. This standard makes provision for a V model for the development of an ASIC, following the The design process for the firmware is based upon V model familiar from software development. theV model in Figure 6.11, and is embedded in the manufacturer's certified quality management system. 6.5.8 Ergonomic aspects Based upon the specification for the safety-related con- trol system as a whole, the specification for the software In this example, a safety-related interface exists between safety requirements for the firmware (safety related the user and the control system: the two-hand control software requirements specification) is first written. This (THC) device, with actuators S1 and S2. Certain ergonomic document describes the contribution made by the firm- aspects must be considered here in order to prevent any ware to the safety functions of the machine, the required person from being endangered, either directly or over response times with regard to K1, responses to detected time as a result of impairing strain, during the intended faults, interfaces to other subsystems, dependencies use and reasonably foreseeable misuse of the machine. upon operating modes, etc. In addition, all fault-avoi- For the majority of machines, these user interfaces can dance measures required under subclause 6.3.2 of the be checked by means of the ergonomic machine design standard for PL c or d are defined. The specification is checklist, DGUV Informative publications 209-068 and then reviewed, for example by the safety project manager, 209-069 [30]. Aspects to be observed in this context and amendments made if appropriate. Once the specifi- include the following: cation has been approved, system design can commence. • Height and orientation of the actuators in relation to the Software architecture: an operating system is not operator in stalled on the microcontroller; instead, a number of tasks are defined which, controlled by simple task • Legroom and area of reach during operation, normally management, are executed by timer interrupt at defined in a standing position intervals. Some low-priority tasks are reserved for the standard functionsof the paper-cutting guillotine, whilst • Arrangement matched to the operating task and good the high-priority tasks are executed by the safety-related accessibility outside the danger zone functions specified above. The determinacy of these task calls is necessary for the required high synchronicity of • Ease of observation of the cutting process from the the two channels and the short response times. The cyc- location of the THC lical self-tests for the control of random hardware failures are executed during task idle times. • Minimum dimensions and shape of the actuators (ergonomic design in consideration of the requirements The design of the software architecture and of the soft- of EN 574) ware modules and functions required for implementation of the software described above are summarized in a • Easy operation with low forces, but with design meas- further document, the technical specification for the ures for the prevention of unintended operation system and module design. For fault avoidance over the entire life cycle, suitable modularization and in this case • Robust design of the buttons, and suitable marking and also clear separation of the SRESW from the non-safety- colouring related software are particularly important. Where neces- 82 6 Design of safe control systems sary for the sake of clarity, the structure and flow of the modifications and appropriate development activities in software are shown by diagrams. Further requirements accordance with the V model should be defined within the are laid down concerning the programming language to organization of development itself. be used, in this case ANSI C with compiler-specific lan- guage extensions, and the development tools, e.g. compi- 6.5.10 SRP/CS in combination ler, version management, configuration management; all have been used successfully for many years. The program- Since the entire SRP/CS are structured end-to-end in a ming guidelines and methodsfor tools-based static ana- single Category and no subsystems are combined, corres- lysis for verification of coding are also specified. Planning ponding analysis in accordance with subclause 6.4 is not of module and integration testing is also set out in this required. It is obvious nevertheless that the various com- document. Following a further review, for example by the ponents and technologies must be compatible at their software development manager, the technical specifica- interfaces. Validation aspects regarding integration are tion is approved as a specification for coding. This review addressed in Chapter 7. also verifies whether the requirements of the software specification are met. 6.5.11 Further details Coding proper now begins, in compliance with the pro- Even in this detailed circuit example, numerous safety- gramming guidelines. Besides rules for better code related design aspects can only be touched upon. A legibility, the provisions of the programming guidelines reference is therefore provided here, as in the majority of specify such things as constraints upon the use of critical the circuit examples that follow, of useful reference con- language constructs. Observance of the programming taining further explanations and referring to additional guidelines during coding is assured in-process by the use requirements. of suitable tools. For semantic verification (of the content) of the finished code against the technical specification, More detailed references the programmer conducts a walk-through with colleagues in which execution of the program and the data flow of • EN 1010-3: Safety of machinery – Safety requirements critical signals are analysed at the same time. for the design and construction of printing and paper converting machines – Part 3: Cutting machines The usual module tests are performed to check the func- (2002) +A1 (2009) tions and interfaces, firstly for correctness and secondly for compliance with the module design. This is followed• IEC 61508-2: Functional safety of electrical/electronic/ by integration of the software and tests together with the programmable electronic safety-related systems – Part hardware of the microcontroller K1. K1 is then connected 2: Requirements for electrical/electronic/programma- to the ASIC channel K2 in order to test synchronization, ble electronic safety-related systems (2010) data exchange and fault detection of the two channels in combination. All tests are documented. • EN 574: Safety of machinery – Two-hand control devices – Functional aspects; principles for This integration test may reveal that the microcontroller's design (1996) +A1 (2008) (to be replaced by performance is not as good as previously assumed. EN ISO 13851:2019) Should this be the case, the software architecture, speci- fically scheduling of the tasks and the assignment of func- Further details, in particular concerning verification and tions to them, must be modified. This would not result validation, follow in Chapter 7 in the continuation of this in changes to the specification of the software safety example of a paper-cutting guillotine. requirements; the system and module design, however, would have to be adapted and subjected once again to review in order to assure compliance with the specifica- tion. This is one example of how technical changes which become necessary during development may result in the V model being repeated in order for the modifications to be implemented in accordance with the QA requirements. The code for such modifications would be written and both the module and integration tests would have to be repeated. For the event of the firmware having to be modified after the first production batch has already been shipped, suitable measures such as an impact analysis of the 83 84 7 Verification and validation i Changes with respect to the second edition • Reference is made in subclause 7.6 tothe (BGIA Report 2/2008e): commissioning test. • The entire subclause has been comprehensively edi- • The aspect of verification of the user interface is ted. addressed by the new subclause 7.7, which follows the treatment of the subject in EN ISO 13849-2, 4.1. c). • Further details on the typical content of the verifica- tion and validation plan has been added to subclause • The example of verification and validation of the paper- 7.1.2. subclause 7.1.3 now contains further information cutting guillotine in subclause 7.8 has been updated. (references) on fault lists. The usual forms taken by the documentation required for V&V activities have also The report does not discuss the “Example of validation of been added in subclause 7.1.4. fault behaviour and diagnostic means” addressed infor- matively in the new Annex E of EN ISO 13849-2 [6]. • The information on verification of the specification and technical documentation have now been merged in a Despite the dated reference in EN ISO 13849-2 [6] to dedicated subclause in subclause 7.2. ISO 13849-1:2006, this subclause of the report is also based upon the more recent edition of EN ISO 13849- • Listing of required content has now been deleted for, 1:2015. subclause 7.5 concerning the information for use. Instead, references are provided to standards gover- ning the content and presentation of information for use. Verification and validation refer to quality assurance The process of assessment of a safety function in its measures for the avoidance of faults during the design implementation by SRP/CS is therefore a combination of and implementation of safety-related parts of control verification and validation steps that deal with both the systems (SRP/CS) that perform safety functions. Part 2 of SRP/CS as a whole, and specific aspects of them. The EN ISO 13849 [6] in particular deals comprehensivelyas a portal for the IFA‘s information on the functional safety of The purpose of the present revised IFA Report is to machine controls (Figure 2.1). The free SISTEMA software describe the application of EN ISO 13849 and in particular application (the German acronym “SISTEMA” stands for its practical implementation with reference to numerous safety of controls on machinery) is available for download model solutions. Particular attention has been attached from this portal, as are the SISTEMA project files for the to the presentation and interpretation of the new or circuit examples shown in Chapter 8. Future extensions revised requirements set out in the third edition of EN are planned to provide up-to-date assistance. ISO 13849-1. Neither the explanations nor the examples i should be regarded as an official national or European comment upon (DIN) EN ISO 13849-1. Rather, the report is For readers already familiar with BGIA Report 2/2008e, a compilation of thirty-five years‘ experience gained at the a brief summary is provided at the beginning of each Institute for Occupational Safety and Health of the Ger- chapter of this report of the essential changes with man Social Accident Insurance (IFA) in the assessment of respect to the BGIA Report 2/2008e. safety and control equipment employing various forms of technology, and the institute‘s many years of participation 1 As an alternative to EC type examination, the current Machinery Directive enables the manufacturer to perform his own conformity assessment procedure in conjunction with internal production monitoring, in areas in which harmonized standards exist. 12 2 Introduction Figure 2.1: This website provides links to all practical tools concerning the safety of machine controls 13 14 3 Generic standards concerning the functional safety of machinery control systems In addition to EN ISO 13849, which is discussed in this demand or continuous modewith terms verification and validation are also described below this subject. as V&V activities. Verification encompasses analyses and tests of SRP/CS Note: this chapter (Chapter 7) addresses the verification and their sub-aspects that have the purpose of determi- and validation process for SRP/CS in the sense of a pro- ning whether the results attained by a phase of design cess for demonstrating compliance with the standard or development satisfy the requirements for the phase EN ISO 13849. Details of the methods of stated V&V concerned, i.e. whether for example the circuit layout activities cannot be “taught” here, nor can all sub-tests corresponds to the circuit design, or whether the require- required for conformity of the product with the Machinery ments relevant to the intended applications are compiled Directive be discussed, such as those concerning pro- comprehensively (in full) in the specification. tection against electric shock, the technical (electrical, hy draulic, pneumatic) equipment, or ergonomics. Validation refers to demonstration of whether suitability is assured with regard to the imposed requirements. In 7.1 Verification and validation procedure other words, examination is performed during or at the end of the development/design process of whether the Figure 7.1 (see Page 86) shows the relevant details specified functional and design requirements upon the of the iterative process for SRP/CS design set out in safety-related part of the machine control have in general EN ISO 13849-1 [5], Figure 3, which deals with the activi- been attained, or in the context of EN ISO 13849, whether ties of verification and validation. the SRP/CS satisfies the relevant requirements of this standard for each safety function. 85 7 Verification and validation Figure 7.1: V&V activities of EN ISO 13849-1 To redesign and Iteration: From implementation repeat deter- Further and determining of the PL minationof the PL SFs (Figure 6.1)(Figure 6.1) (Figure 5.5) Evaluation of PL for SRP/CS concerning Verification 5 category, MTTF , DC , CCF D avg Software and systematic failure for Verification: no 6 each PL ≥ PL? r SF ja Validation: no 7 Requirements met? ja All SFs no 8 analysed? To risk analysis yes (EN ISO 12100) Figure 7.2 can be used for planning of the execution of The focus lies here upon the specified properties of the V&V activities including the corresponding relevant tasks safety functions and the requirements for the specified and a reasonable constructive procedure. The figure is Performance Level (refer also to subclauses 7.3 and 7.4). taken from Part 2 of EN ISO 13849, but has been simpli- EN ISO 13849-2 also specifies that ergonomic design of fied graphically in order to present the V&V activities more the user interface(s) shall be addressed by the V&V pro- clearly. cess. The most important aspects of the verification and valida- These activities should be begun as early as possible tion procedure are explained below. during development/design, in order to detect and elimi- nate faults and deviations to the specification in time. The 7.1.1 Principles for verification and validation personnel tasked with measures for verification and vali- dation should if possible not be involved in the process Verification and validation are intended to assure con- of designing the safety-related parts, i.e. they should be formity of the design of the SRP/CS with the reference able to act independently of the design and development standards. Since EN ISO 13849-1 is harmonized under process. The parties concerned may be other persons, the Machinery Directive as a Type B standard for machine departments or bodies that are not subordinate to the controls, the V&V activities must demonstrate that each design department within the organization's hierarchy. safety-relatedpart and each of the safety functions that The level of independence should be commensurate with it performs satisfies the requirements of EN ISO 13849-1. the risk, i.e. the required Performance Level (PL). r 86 7 Verification and validation Figure 7.2: Overview of the verification and validation procedure according to EN ISO 13849-2 Start Fault lists Design considerations Validation plan Validation principles (Section 7.1.3 and (Section6) (Section 7.1.2) (Section 7.1.1) Annex C) Documents (Section 7.1.4) Analysis (Section 7.1.5) Criteria for fault exclusion (Annex C) Is no analysis sufficient? yes Testing (Section 7.1.6) Safety functions (Section 7.3) Performance Level (PL) (Section 7.4) - Category Is testing no - MTTF passed? D - DC - CCF - Systematic failure yes - Software Combination/Integration Validation report (Section 7.6) (Section 7.1.7) End Verification and validation are performed methodically by content in detail. All V&V activities accompanying the analysis and testing. development/design process are set out in binding form in a verification and validation plan (V&V plan). The plan 7.1.2 Verification and validation plan should contain the following information: A verification and validation plan has the purpose of • Identification of the SRP/CS under analysis, if appropri- describing execution of the V&V process for the specified ate their components, and possible variants/variations safety functions, the safety integrity, and all operating and environmental influences that are to be taken into • Identification of the safety functions with their assign- account. The “validation process” in accordance with ment to the SRP/CS involved EN ISO 13849-2, which of course also includes the verifi- cation activities, assumes the generation of a verification • Reference list of all documents referred to (including and validation plan, but specifies neither its form nor its the standards and technical rules to be applied) with 87 7 Verification and validation descriptions of the requirements,specifications , and or inspected by a person competent in issues of quality obligations in the area of application for the SRP/CS management (QM) and quality assurance (QA). under analysis, together with internal company design rules, such as company hardware design rules and pro- Where larger or more complex overall SRP/CS are being gramming rules/guidance documents designed, an option is for the V&V plan to set out which validation activities are to be performed only once the • Reference list of the test standards to be applied (i.e. systems concerned have been installed within a machine, standards governing test methods and performance or whether alternatively automatic test machinery or sub- of testing, not product requirements: for example, the stitute simulators can be used (for example by means of IEC 60068 series governing environmental influences) “hardware in the loop” simulation). • The analyses and tests to be performed; with additional 7.1.3 Fault lists information on the sequence in which the analysis and test methods are to be performed, where specified The V&V process must examine and demonstrate the fail- ure mode behavior of the SRP/CS. The principles of fault • Indication whether and if so what demonstrations of analysis are stated in Annexes A to D of EN ISO 13849-2 compliance already exist for individual components; as faults to be considered (modes of failure) and fault including statement of the references to the legacy exclusions. Annex C of the present report describes the certificates subjects of fault lists, assumed faults/modes of failure and fault exclusions in detail. These general fault lists are • Fault lists to be applied (refer also to subclause 7.1.3 based upon past experience. A small number of further and Annex C) standards, such as IEC 61800-5-2 [20] governing the functional safety of electrical power drive systems and• Further references to documents concerning the genera- IEC 61784-3 [39] governing functionally safe transmission tion of confirmations, for example: QM manual, proce- on field buses, contain specialist fault lists. Annex A.2, dural instructions, forms/samples for V&V activities Table A.1 of IEC 61508-2 governing the functional safety of programmable electronic systems also contains certain • Personnel responsible for the respective analyses and precise details of faults in CPU, RAM, ROM and clock. tests (persons, department or body/test institute where The fault model for highly integrated microelectronic applicable) components (microprocessors, DSPs, ASICs, FPGAs, SoCs etc.) is however generally somewhat abstract in its • Specified (test) environment conditions and equip- characterization. It is highly advantageous for standard ment/test apparatus/tools/auxiliary equipment for elements (in both software and hardware) to be used for performance of the analyses and tests, together with fault diagnostic measures (self-tests, monitoring routines, further operating conditions to be observed; this infor- monitoring components), both for implementation and for mation may also be listed in the documentation for the demonstration. Examples of such standard elements are results of the individual V&V activities the standard CPU self-tests stated in BGIA Report 7/2006, Self-tests for microprocessors incorporating safety func- • The specified documentation of the test results (test tions [50]; RAM self-tests such as Galpat, March, Checker- reports/protocols) and detailed further documentation board, and numerous others; and commercial watchdog/ of performance of the V&V activities (e.g. test specifica- monitoring modules for IEC 61508/ISO 26262 applica- tions, test case specifications, checklists) tions. For components/elements not stated in the fault lists of EN ISO 13849-2, for example for novel technology, • Evaluation criteria for the analysis and test results, the manufacturer should add corresponding lists of faults including the measures to be taken in the event of fail- and fault exclusions of his own. Wherefault exclusions ure to pass an analysis/test are assumed, they shall be supported by adequate rea- soning. The fault lists supplemented by the manufacturer • Formal aspects such as document identification, versio- then form part of the technical documentation requiring ning and modification history, authors/persons respon- review. sible, release note(s), signature(s), etc. Fault lists exist in standards neither for SRESW nor SRASW The verification and validation plan should reasonably (see subclause 6.3). In the general reference, too, soft- be generated at an early stage of development (recom- ware faults are generally discussed with reference to mended: parallel to the specification), thereby delivering examples rather than in the form of comprehensive fault the full benefit for ongoing project management. It is lists. PC-based tools for static software analysis (for syn- also proven good practice to have the V&V plan reviewed tax, semantic and code-rule testing) provide very useful support and comprehensive information on faults. 88 7 Verification and validation In principle, the same faults shall be considered with quantifiable aspects PFH , MTTF , DC and CCF for the D D avg regard to common cause failures (CCF), in conjunction Performance Level PL of each SRP/CS (quantification with the possible causes of CCF and the relevant counter- documentation), including the list of measures against measures stated in Annex F. common cause failures 7.1.4 Documents for V&V activities • Complete software documentation (refer also to sub- clause 6.3) As can be inferred from Figure 7.1, detailed documentation is required for the execution of each V&V activity. This • Design rules followed for design and implementation, concerns technical documentation of relevance through- such as design rules for analog and digital circuits, pro- out the V&V process (particularly the specifications), or gramming guidelines, etc. documentation that has been produced in the course of designand creation of the SRP/CS and that may be • Substantiating documentation (certificates, test required only for single or selected analyses/tests. The reports, technical records) of components, units or following content (summary) should be given adequate SRP/CS that have already been validated. Also: sub- consideration: stantiating documentation of attained reliability values where these were attained by means other than in • Complete specification of the requirements upon the accordance with EN ISO 13849. Data and where appli- safety functions and of the requirements upon the cable substantiating documentation concerning well- design of the SRP/CS. The description of the require- tried components ments shall include all performance characteristics, properties, operating modes and anticipated states and The documents shall be complete, their content free of processes from which evaluation criteria can be derived contradictions, logically structured, easily comprehen- sible and verifiable. • Operating and environmental conditions with rating data, derived from the intended applications or from 7.1.5 Analysis the applicable standards; rating data for components An SRP/CS or sub-aspects of it are evaluated largely by • Functional description of the execution of all safety analysis. This entails both the use of analysis methods functions with description of states and processes: that can be performed manually, such as inspections, The handling of failures/faults in the SRP/CS, i.e. the reviews or walk-throughs for the specification of technical responses to and states of the SRP/CS in the possible documentation and of the accompanying information; modes of failure/fault, shall be included, as shall the and the use of analysis tools (often PC-based), such as operating concept including all user interactions circuit simulators, tools for static and dynamic hardware/ software analysis, or FMEA/FMEDA tools and fault simu- • Design description of the SRP/CS (with specifics of the lators for the analysis of components and circuits in faultmechanical, electrical, electronic, hydraulic and pneu- mode. Verification concerning operating and environmen- matic components employed) by means of suitable tal conditions pushes the scope of analysis to its limits. drawings/sketches, diagrams, plans, data and explana- New methods and processes in product development tory text: This includes, for example, general drawings, (such as model-based or virtual development methods) structure and block diagrams, process/state transition will doubtless lead to the appearance of new analysis diagrams, wiring plans, descriptions of connections methods and analysis tools. The necessary decision regar- and interfaces, conceptual schematic diagrams, circuit ding where analytical methods shall be accompanied by diagrams, electrical plans, fluid power circuit plans, tests is documented in simple form in the V&V plan. assembly plans, tables of technical data/rating data for components, if applicable data sheets 7.1.6 Tests • Fault analysis/failure mode and effects analysis (FMEA) Wherever analyses are not possible for the sub-aspect or failure mode, effects and diagnostics analysis under consideration or evaluation by analysis alone is not (FMEDA), in consideration of the applied fault lists; for adequate, tests shall be performed in order to demon- Category 4, including accumulation of faults strate that the requirements are met. Testing shall be planned systematically and executed logically, generally • Description of the technical measures taken for the con- with reference to development stages that can be imple- trol of faults (fault diagnostics measures) mented in practice, such asprototypes, functional models or software/code. The tests shall be performed on a confi- • Basic and well-tried safety principles observed during guration resembling the intended operating configuration the design process, and documented determining of the as closely as possible. The environmental conditions 89 7 Verification and validation under which the tests are to be performed shall be defi- shall be continued with respect to the as-yet unresolved nedin advance. The tests may be performed either manu- safety functions. ally or automatically. Returning to the design and implementation process also Where testing is employed for verification, the meas- means identifying the elements of the V&V process that urement uncertainty shall be reasonable. EN ISO 13849-2 were not passed and assigning them to V&V activities to provides information on the limits that are to be obser- which they must once again be subjected. For this pur- ved. pose, the V&V plan (see subclause 7.1.2) may contain sui- table elements, and entries be made in it. Subclauses 7.3 to 7.7 describe the typical V&V activities of the individual aspects: safety functions, PL, Category, The scenario of negative results shall therefore be MTTF , DC and CCF, software, user information and user addressed in the processes of SRP/CS design and deve- D interface; subclause 7.8 then describes them with refe- lopment. Accordingly, processes and measures for the rence to the example of a paper-cutting guillotine. management of defective software are required (for docu- ments, records, data, configurations, software, samples/ 7.1.7 Documentation of results prototypes, etc.). All analysis and test activities shall be documented 7.2 Verification of the specification and the together with their results. During documentation of the technical documentation results, it is important that the technical specifications and assessment standards referred to are dated or refe- By a wide margin, the document most frequently named renced by versioning; that the item under analysis/under (not only in this report) with respect to implementation test (document, software, test specimen, etc.) is uniquely of an SRP/CS is the specification. This refers to the spe- identified; that selected configurations are recorded; that cification of all requirements (technical specification), the analysis/test conditions including their setup and specification of the safety functions, specification of the procedureare included; and that all verification/valida- design (with respect of course to safety) with its focus tion points/cases are recorded together with the results. upon software integrity, and specification of the intended Formal information such as document identifiers, persons operating, environmental and application conditions. performing the test/analysis, date, signature, etc. shall Chapter 6 of this report, specifically Box 6.1, contains of course be documented. Depending upon the level of comprehensive information on the required content of the automation and the tools and equipment used for the technical specification. The use of computer-aided spe- V&V measure, the documentation of the results will vary. cification tools and formal methods for the generation of The content referred to above should however be regar- the specification is possible, albeit unusual. ded as the minimum scope of documentation. Documen- tation management consistent with the need arising from Verification thus addresses the “specification” document the V&V process is therefore appropriate. Support and and takes the form of inspection and review. Division of resources of any kind used for this purpose, ranging from the procedure into two parts has proved effective. Verifi- record forms to document management systems, may be cation is first performed by experienced personnel in the considered valuable. manufacturer's operation. This is followed by verification by a competent external body, such as a test institute. 7.1.8 Completion or iteration Verification of the entire development and design docu- The combination of different SRP/CS involved in a safety mentation is covered by clause 12 of EN ISO 13849-2. This function attains a Performance Level PL. At the end of the clause is cross-referenced to the required content of the V&V process, this PL shall be compared to the required technical documentation (clause10 of the standard). Ana- Performance Level PL for the safety function in question. lysesof operation, the average report, alternative generic standards of relevance exist probability of a dangerous failure per hour PFH 4 is eva- D in the area of functional safety2. As shown in Figure 3.1, luated by IEC 62061 (for further information, refer also to these standards are those of the IEC 61508 series [10], [12]). With certain exceptions, only the second definition and their sector standard IEC 62061 [11] for the machinery is relevant in the machinery sector and thus in IEC 62061. industry. Both of these are limited in their scope to electri- The new edition of EN ISO 13849-1 has also adopted this cal, electronic and programmable electronic systems. definition of the operating mode, and limits the scope of the standard accordingly. SIL 4 systems with higher risks A classification system involving “Safety Integrity Levels” are unknown in the area of machinery, and are not there- (SILs) is set out in IEC 61508 and IEC 62061. The SILs serve fore considered in IEC 62061 (Figure 3.2, see Page 16). as indicators of the level of safety-related reliability. The associated values are target failure measures, each com- The essential approach of the standards governing func- prising a decade3. IEC 61508 distinguishes two different tional safety (IEC 61508 and IEC 62061) developed by the applications of safety functions: International Electrotechnical Commission (IEC), namely that of defining probabilities of failure as the characteris- • Safety functions in low demand mode (max. frequency tic parameter without the specific inclusion of architec- of demands once per year) tures, initially appears more universal. The approach of EN ISO 13849-1, however, offers users the facility for • Safety functions in high demand mode or continuous developing and evaluating safety functions, ranging from mode a sensor to an actuator (e.g. a valve), under the umbrella ofare suitable activities for verification of the deve- r An adequate safety quality has been attained when the lopment/design documents (technical documentation). evaluation of “PL ≥ PL?” as shown in Figure 7.2 yields a Inspection, review and walk-through constitute typical r positive result. methods for this purpose; refer necessary for example to IEC 61508-7 [10]. If the requirements set out in the specification of the SRP/ CS are not met in full, the design and implementation pro- 7.3 Validation of the safety function cess shall also be reverted to at this stage. If the V&V acti- vities for all safety functions have been completed with a Validation of the implemented safety function(s) encom- positive result, evaluation of the SRP/CS is deemed by the passes the activities that demonstrate full compliance standard to have been completed. If not, the V&V process with the functional characteristics and performance crite- ria set out in the specification. Review of implementation 90 7 Verification and validation of the points listed in subclause 5.3.1 regarding the speci- The following analyses shall be performed: fication of safety functions is also useful for determining whether the safety function(s) have been correctly defi- • Structure and signal path analysis of the technical cir- ned and implemented. cuit documentation To permit an evidence of whether the functional require- • Evaluation of implementation and effectiveness of the ments have been met, the following sub-tests shall be fault diagnostics measures performed: • Inspection of the observance of basic safety principles • functional test • Inspection of the implementation of well-tried safety • Extended functional test of the behaviour of the SRP/ principles (Category 1 and higher) CS in response to input signals, operator processes or inputs that are atypical, unexpected, procedurally • Inspection of the use of well-tried components (Cate- in correct,or lie outside the specification (are invalid) gory 1 only) • Simulation (where possible) • Evaluation of faults to be analysed and permissible fault exclusions including their reasoning where added to • Performance tests (functional parameters, response fault lists on a case-by-case basis time, etc.) The annexes in Part 2 of the standard, and also Annex C of However, final assessment of proper integration of all this report, provide detailed assistance in execution of the safety functions on the complete machine includes a last four of the analyses stated. series of further aspects, such as the dimensioning of overruns and safety clearances. The following sub-tests shall be added if the preceding analyses are not sufficient or fault analyses performed on 7.4 Verification of the PL of the SRP/CS the test specimen are to be confirmed: This subclause describes the activities normally per- • Tests of the behaviour under fault conditions of the formed for demonstration of the attained Performance SRP/CS with fault injection, i.e. testing of the safety Level PL of a single SRP/CS. The procedure to be followed functions under fault conditions (test of the effect of for combinations of several SRP/CS is explained in sub- failure); alternatively, fault simulation where the test clause 7.6. cases with fault injection are not practicable The PL of an SRP/CS is determined on the one hand by • Use of extended functional tests to test the behaviour quantifiable aspects/values such as the MTTF , DC, CCF of the SRP/CS in the event of input signal states that D and the Category, and on the other by qualitative aspects are rare, unexpected, lie outside the specification or such as the behaviour under fault conditions of the safety are defective, and defective processes/inputs during function, the design measures for the safety-related soft- operation wareand systematic failures, and the functional beha- viour under the anticipated (maximum) operating and 7.4.2 Verification of the MTTF values D environmental conditions. Evaluation of the individual aspects is followed by a description of a procedure for The MTTF values employed for determining of the PL D checking the estimation of the PL. Like EN ISO 13849-1 should be checked at least for plausibility. This typically and -2, the present report and this subclause assume that includes evaluation of whether suitable sources are sta- the “simplified method” is selected for estimation of the ted for the origin of the values. Review of the precise rea- PL. This method has already been described.behaviour soning given for the values is also recommended for the dominant components and otherwise by random selec- 7.4.1 Verification of the Category tion for all other components. The data sources stated in subclause 6.2.12 and Annex D can for example be used for The objective of verifying the Category is to confirm that this purpose. Suitable determining of the B , T and n 10D 10D op all requirements placed upon the Category are met in the values is verified analytically, and correct calculation sub- development step under analysis; refer to subclauses sequently checked, at least for plausibility. 6.2.2 to 6.2.7 in the behaviourpresent report and sub- clauses 9.2.1 to 9.2.5 in [6]. 91 7 Verification and validation 7.4.3 Verification of the DC values • Analysis of implementation of program execution moni- toring The diagnostic coverage (DC) assigned to the blocks or, where applicable, components shall be dimensioned • Inspection and testing of the safety-related properties reproducibly. Here too, the stated origin of the values and of data communications systems; where used, identifi- the reasoning for them is typically analysed. Annex E pro- cation of certified components videsguidance concerning estimation of the DC values. This can also serve as a basis for verification. • Inspection of development documents that confirm the application of basic and well-tried safety principles and The implemented design shall be analysed regarding further measures taken, such as hardware diversity whether the fault diagnostics measures described have been implemented. For this purpose, it is generally neces- The present report does not address the evaluations of sary for the fault diagnostics functions and modules to organizational measures required by EN ISO 13849-2 [6] be identified in the development documentation, and for the avoidance of systematic failures, such as quality toestimate their effectiveness . In addition, tests of the management systems for the manufacturing process (sub- behaviour under fault conditions of the SRP/CS (failure clause 9.4 e in [6]). mode and effects testing/testing by fault injection) should show that proper fault detection is assured by the fault 7.4.6 Verification and validation of the diagnostics functions. Finally, calculation of the DC is to software avg be checked at least for plausibility. The verification activities performed in the course of spe- 7.4.4 Verification of the measures against CCF cification, design and coding of the software (inspection/ review for software specification, software design and EN ISO 13849-1, Annex F contains a points-based method code, static software analysis, module test, software for evaluation of the selected measures against common simulation, integration test) have already been described cause failures (CCF). Besides checking of attainment comprehensively in subclause 6.3. For verification of the of the total number of points and clarification that the software, too, graded software design measures shall be selected measures are described comprehensively in the specified in this context according to the PL to be attai- associated documents, analysis or testing shows that the ned. measures have actually beenimplemented. The typical V&V activities employed for this purpose include static The final development activity in the simplified “V model” hardware analysis and functional testing under environ- is that of software validation. Whether the requirements mental conditions (limit conditions). stated in the safety-related software specification con- cerning the functional behaviour and the performance 7.4.5 Verification of the technical measures criteria (e.g. time-related specifications) have been imple- against systematic failures mented correctly shall be examined. At this stage, vali- dation no longer considers the internal workings of the V&V activities concerning technical measures for the software, but its “external” behaviour, i.e. the behaviour avoidance and control of systematic failures assess at the output in response to changes at the inputs, with whether the required design measures described in the complete software integrated into the hardware. The EN ISO 13849-1, Annex G and explained further in sub- software is considered here as a “black box”, and is vali- clause 6.1.2 of this report have been implemented. Con- dated by the “black-box test”. Supplementary I/O tests firmation can typically be provided by: ensure that the safety-related input and output signals are used correctly. The functional test is then performed • Functional testing at limit values and with modified at system level (on the SRP/CS). Performance of an exten- rated values, and failure mode and effects testing/tes- ded test case with (possibly simulated) fault cases serves ting by fault injection on the supply units (e.g. voltage to demonstrate the effectiveness and correct implementa- breakdown, voltage fluctuation, overvoltage, undervol- tion of fault detection and fault handling (reaction in the tage, changes in AC current and frequency, clock change event of a fault) implemented by the software. and other phenomena and operating stresses that may lead to failure) Individual software functions that have already been cer-tified or validated by quality assurance measures in the • Testing of the resistance to interference caused by form of safety function blocks do not require re-testing. ambient influences, i.e. functional testing under spe- Evidence shall however be furnished that validation has cified environmental conditions (climatic conditions, already been performed. Where a number of such safety mechanical stress, electromagnetic compatibility, etc.); function blocks are combined for a specific project, how- see clause 10 in [6] 92 7 Verification and validation ever, the resulting safety function shall be validated as a be followed for the presentation (layout, typography, etc.) whole. of information for use. Their application during evaluation is however not mandatory. Information supplied with the In the particular case of SRESW used in SRP/CS with PL e product is usually analysed by inspection and/or review. and not developed with diversity for the two channels, the requirements for SIL 3 set out in clause 7 of IEC 61508-3 7.6 Validation of the combination and [42] shall be satisfied in full during software development. integration of SRP/CS This includes the V&V activities required in the clauses concerned. Individual SRP/CS shall be validated separately prior to combination. In order for systematic faults to be avoided Should the safety-related software subsequently be modi- during the combination/integration of SRP/CS, the fol- fied, it shall be reverified and revalidated on an appropri- lowing V&V activities shall be performed: ate scale. The verification and validation plan described in subclause 7.1.2 can and should serve as an aid to plan- • Inspection of the design documents that altogether ning for this purpose. describe implementation of the safety function con- cerned A further area of software verification concerns configura- ble, parameterizable and programmable SRP/CS. Where • Comparison of the characteristic data for the interfaces parameterization and programmability are software-between the SRP/CS (e.g. voltages, currents, pressures, based, implementation and effectiveness of the measures information data) shall also be demonstrated consistent with the require- ments of EN ISO 13849-1, subclause 4.6.4, and thus with • FMEA/fault analysis of the combination/integration the configuration tools employed (parameterization/ programming programs where applicable) as a mandatory • Functional test part of the V&V activities. These activities involve both analyses of the documentation of these tools and tests on • Extended functional test the items themselves. • Checking of simplified determining of the overall PL 7.4.7 Checking of the assessment of the PL from the PLs of the individual SRP/CS, as described in subclause 6.4. Checking that the PL has been assessed properly for each SRP/CS particularly entails comprehension of proper Integration of (multiple) SRP/CS is not – yet – synony- application of the assessment method employed, inclu- mous with their commissioning with the associated com- ding correct calculations. missioning tests on a machine. The validation activities stated here, supplemented by the highly advantageous If the PL was assessed by means of the simplified pro- interface test/“I/O test”, are however suitable for this cedure, a check can be performed with reference to purpose without restriction. Figure 6.10 of whether the correct PL for the SRP/CS was determined from the Category, MTTF and DC values Retrofitting safety technology or integrating new SRP/CS D avg confirmed beforehand. into existing machine controls may present a particular challenge. Planning of the above V&V activities in good 7.5 Verification of the information for use time, applying them thoroughly irrespective of the pres- sures that may arise, possibly not before installation on Important information on safe use of the SRP/CS shall site, and documenting the activities from end to end con- be made available in the form of instruction handbooks, tributesubstantially to SRP/CS being integrated reliably. assembly instructions, rating plates and maintenance instructions. These documentation elements, de scribed 7.7 Verification of the user interface in their entirety as the information for use, and accor- (ergonomic design) ding to the Machinery Directive, also including the sales brochures(!), shall be evaluated to ascertain whether Requirements set out in EN ISO 13849 concerning the they include all the content stated in clauses 9 and 11 of ergonomics of the user interface refer to universal design EN ISO 13849-1. EN ISO 13849 does not set out any rules targets such as the prevention of hazardous action, cir- of its own concerning the form of the documentation cumvention/manipulation of the SRP/CS, general ergo- (language, digital or print form). The requirements (and nomic principles such as simplicity, and the ergonomic committee decisions) at the level of the Machinery Direc- principles referenced in EN ISO 12100 [3] and ISO 9355 tive apply. General guiding principles such as those of [52]. At the same time, it explicitly requires consideration IEC 82079-1, Preparation of instructions for use [51], can to be given to foreseeable incorrect operation. 93 7 Verification and validation If further guidance documents are required for verification ments with reference to the requirements of the relevant of the user interfaces, application of design guidelines standard governing two-hand controls, EN 574 [55]. The such as the following may be advantageous: VDI/VDE underlying conditions to be met are stated in the system 3850, Development of usable user interfaces for technical specification and confirmed by validation. The verification plants [31]; the VDMA guide to software ergonomics and now being performed confirms proper implementation the design of user interfaces [53]; and EN ISO 9241-11, of the terms, in this case by calculation of the PL with the Ergonomics of human-system interaction– Part 11: Usabi- aid of the SISTEMA software tool. This PL is attained in the lity [54]. calculation of the probability of failure in consideration of all quantifiable aspects. All requirements concerning Finally, this subclause is intended to confirm the view the qualitative aspects, such as the behaviour under fault that the use of SRP/CS – and also software modules and conditions of the safety function, including the measu- tools – that have already been certified or type-examined res for fault detection implemented in the safety-related considerably simplifies and accelerates verification and software, the measures against systematic failures and validation of circuitry for safety functions. the behaviour under environmental conditions, are also adequately met for PL e. 7.8 Verification and validation with reference to the example of a paper The above conclusions were clearly reached at different cutting guillotine with diverse points in time during development, or could in fact only redundancy in the logic control have been reached during certain phases. Demonstration (Category 4 – PL e) of satisfaction of the EMC requirements, for example, is not possible until a prototype has been fabricated. The general description of verification and validation of The validation/verification activities below do not consti- safety functions and PL is supplemented in this subclause tute a sequence that must be strictly followed. Rather, the by an explanation of the V&V activities for the practical intention here is to demonstrate the work entailed by the example of the paper cutting guillotine described in sub- relevant phases of the V&V model with reference to the clauses 5.7 and 6.5. It is assumed at this point that all example of the SF2. necessary documents and a prototype of the machine are available. Based upon the documents, the steps of veri- 7.8.2 Validation of the safety-related require- ficationand validation will be shown here for a represen- ments (refer also to Block 7 in Figure 7.1) tative example of the safety functions, “SF2 – Con trolled location of the operator's hands outside the danger zone Fault lists during a hazardous movement” (subclause 5.7.3). The available documents include the verification and valida- The PL is determined based upon the fault lists according tion plan, which describes the activities required in the to EN ISO 13849-2 [6]. various phases (subclause 7.1.2). Owing to the level of the hazard potential, it is advisable to have the work per- Documents formed by independent persons, for example from a diffe- rent department (subclause 7.1.1). As already stated in subclause 7.1.4, analysis/testing is conducted with reference among other things to circuit This subclause observes the definition of verification diagrams, parts lists, the complete specification, functio- and validation stated in the introduction in clause 7. Fre- nal description, and also the design description, fault/ quently however, the boundaries are blurred, and precise failure mode effects analysis, the software specification classification difficult. An example is testing, for example and software documentation. of software. These tests are also referred to in the refe- rence as validation, the purpose of which is to determine Documentation whether the program or parts of it fulfil their function (as stated in the specification). These steps could also be All analysis and test results shall be documented in wri- described as verification. ting. The criteria for evaluation of whether a test has or has not been passed are important and are contained in 7.8.1 Verification of the attained PL the verification and validation plan. (refer also to Block 6 in Figure 7.1) Validation of the safety function An estimation of the risk showed that a Performance Level PL of e shall beone standard, even though the functions may involve In low demand mode, the dimension for the safety is the different technologies. Part 1 of EN ISO 13849 is accompa- average probability of a dangerous failure of a safety func- nied by a Part 2 with the title of “Validation”. The present tion at the point in time of the demand: PFD . In the high edition, published in 2012, also considers the current avg Machinery Process sector sector Figure 3.1: Scope of generic SRP/CS employing standards gover- • Electrical/electronic/ SRECS SIS ning functional programmable safety; SRP/CS: electronik systems safety-related part • Hydraulic systems IEC 62061 IEC 61511 of a control system; • Pneumatic systems SRECS: safety-rela- • Mechanical systems … ted electrical control system; SIS: safety E/E/PE system in the form of instrumented sys- EN ISO 13849 IEC 61508 • Programmable electrical/ tem; E/E/PE system: electronic/programmable electrical/electro- electronic systems nic/programmable electronic system 2 In this context, functional safety means that potential hazards that arise as a consequence of failures of a control system, i.e. a malfunction, are dealt with. 3 In addition, deterministic requirements are imposed that must be satisfied in the level concerned. 4 In the second edition of IEC 61508:2010 – but not in its sector standard, IEC 62061 – the PFH was reformulated as the “average frequency of a dangerous failure of the safety function”. The original abbreviation (PFH) was however retained (without the “D” suffix in IEC 61508). 15 3 Generic standards concerning the functional safety of machinery control systems Probability of a dangerous failure per hour (PFH ) D 10-4 10-5 10-6 10-7 10-8 3 · 10-6 EN ISO 13849-1 PL a b c d e Figure 3.2: The Performance SIL No 1 2 3 (4) correspondence Level (PL) and IEC 62061 Safety Integrity (IECattained for the desired safety function In order to check the functional requirements upon the r SF2. This analysis is consistent with the requirement in safety function, a functional test is performed, supple- EN 1010-1 [28], which further details the technical require- mented by an extended functional test for testing of the 94 7 Verification and validation behaviour of the safety function in response to rare or tage fail, the clamping bar and the knife are returned to non-defined inputs. A possible example of such a test is their initial positions by spring force. testing of the response of the SRP/CS when a valid cut request from the two-hand control is accompanied by a Plausibility tests can be cited in this context as an fault signal, for example on peripheral equipment or initi- example of well-tried safety principles: mechanically ated by a stop command from a light curtain. Performance linked contacts in the contactor relays K3 to K6 are read tests of functional aspects are also conducted. These back by both channels. Tests are performed to demon- include, for example, a check of the time to be observed strate proper functioning of readback. for synchronous actuation in accordance with EN 574 [55]. Only when the two actuators S1 and S2 are operated • Verification of the MTTF values D within an interval of ≤ 0.5 seconds may output signals be generated for actuation of the clamping bar and the knife. The value of 150 years, substituted for the valves 1V3, 1V4, 2V2 and 2V1, is considered here by way of example The tests and analyses stated above for the specified for verification of the MTTF values (see Figure 6.15). The D safety characteristics have been passed. manufacturer's figure was obtained from a reliable source, and its plausibility was confirmed bycomparison with the Verification of the PL of the SRP/CS corresponding value in Table C.1 of EN ISO 13849-1 [5] (see Table D.2 of the present report). The conditions stated by • Verification of the Category The essential terms of reference for the Category of the Design features SRP/CS are laid down at an early stage of development, based upon the complete or binding specification. • The requirements of Category B, basic and well-tried Category 4 was also selected for the determined PL e. safety principles, are observed. Owing to diversely r Verification of the specification showed that the circuit redundant processing channels (microcontroller structure based upon it (diverse redundancy, see also and ASIC), a single fault does not result in loss of subclause 6.5.2) satisfies the requirements for a Cate- the safety function, and systematic faults are largely gory 4. prevented. For the two-hand control, as envisaged in this case, • The safety-oriented switching position is assumed tests of the behaviour under fault conditions are perfor- from any position by cancellation of the control med on a prototype with reference to the development signal. documentation. This verifies whether the requirements overall for a Category 4 are also met in this case. Testing • All electrical signals, including those of the pressure is performed by the controlled injection of faults. The sensors, are processed in a multi-channel control SRP/CS shall respond to the injected faults in the man- system. ner specified. An analysis is first performed, followed by testing, to ascertain the behaviour when, for example, • The actuators S1 and S2 of the two-hand control individual contactor relays are no longer capable of satisfy IEC 60947-5-1. executing switching commands, or of how the SRP/CS react when one of the two actuators S1 or S2 is actuated • K3 toK6 possess mechanically linked contacts accor- with a delay, or not at all. The safety function shall be ding to IEC 60947-5-1, Annex L [56]. The associated assured at all times when a single fault is injected into break contacts for monitoring of the make contacts the SRP/CS. A single fault shall be detected at or prior are monitored in the respective adjacent channel. to the next execution of the safety function. Should the fault not be detected, an accumulation of further faults • All conductors carrying signals are laid either separa- shall not result in loss of the safety function. The expec- tely or with protection against mechanical damage. ted safe response for each injected fault is described in the associated test protocol and the behaviour of • The software (SRESW) is programmed in accordance the SRP/CS commented with the evaluation criterion of with the requirements for PL d (downgraded owing to “passed” or “not passed”. diversity) and the guidance in subclause 6.3. Observance of the de-energization principle as an • Fault-avoidance measures in development of the ASIC example of basic safety principles can be demonstrated are performed in accordance with the ASIC develop- by the injection of interruptions and evaluation of the ment life cycle (V model) of IEC 61508-2 [48]. response to them. Should for example the supply vol- 95 7 Verification and validation the manufacturer for assumption of the MTTF value (e.g. rent technologies of K1 and K2 are the reasoning for the D oil changes) are described in the instruction handbook 20 points assigned for diversity. and it is assumed that these conditions are observed in operation. • Verification of the measures against systematic failures • Verification of the DC values The observance of basic and well-tried safety principles is a highly effective measure againstsystematic fail- A DC of 90% is confirmed for K1 and K2, based upon ures. The activities for verification of the Category also self-diagnostics. This includes a cross monitoring of encompass checking of whether both types of safety input signals and intermediate results (from the micro- principle have been observed. The results of the analy- controller and the ASIC), monitoring of the timing and ses and tests performed for that purpose can thus also logic of program execution, and detection of static be used for assessment in this phase. internal and peripheral failures. Further tests are a CPU test in the channel containing the microcontroller, in Besides the tests, an inspection is performed during which all commands used are tested, and tests of ade- development of the documentation describing the quate quality of the random-access memory (RAM) and basic and well-tried safety principles applied and the read-only memory (ROM). Tests of comparable quality measures for the control and avoidance of systematic to those in the parallel channel are performed in the failures according to subclause 6.1.2 of this report and second channel (ASIC). It shall be demonstrated by Annex G of the standard. The purpose of this inspection verification that the measures described in the specifi- is assessment of whether the principles and measures cation have been implemented correctly. have been adequately considered during the develop- ment process. The contactor relays K3, K4, K5 and K6 are assigned a DC of 99%. This is appropriate owing to the plausibility An example of the control of systematic system failures testing by readback of the mechanically linked con- is that the safety-related software monitors execution tacts of the contactor relays. The plausibility tests that of the program sequence for errors. The effectiveness of have already been checked during verification of the processmonitoring is tested by injected faults. Category also serve at this point to demonstrate proper operation. In order to demonstrate the capacity of the SRP/CS to withstand the specified environmental conditions, tests The pushbuttons S1 and S2 are assigned a DC of 99%. are performed under all anticipated and predictable The reasoning for this is cross monitoring and a fre- adverse conditions for factors including temperature, quent signal change. This assumption is confirmed by humidity and electromagnetic interference. This con- verification. This assumption will be proven by a fault- stitutes an example of a measure for the avoidance of case test at another point. systematic failures. The limits for the temperature and humidity under which the paper-cutting guillotine may The valves 2V1, 2V2, 1V3 and 1V4 are monitored cycli- be operated are set out in the specification, which is cally indirectly by the pressure switches 2S1 and 1S3. confirmed by verification of the document. Since the positions of the valves can be queried for their plausibility parallel to the machine cycle, a value • Verification of the software of 99% for the DC is regarded as reasoned. Here too, the assumption is confirmed on the prototype by fault tests Development and validation of the software are on the valves. described in detail in subclause 6.3. At this point, the software is also verified, i.e. testing is performed of • Verification of the measures against CCF proper operation and also of the response times of the software integrated in the hardware. Testing takes the The minimum requirements for measures against com- form of functional tests (black box tests) and extended mon cause failure are satisfied, with at least 65 points. functional tests in which firstly, the safety-related input Further measures are also effective in parts of the signals shall be processedcorrectly to safety-related control system. 15 points are allowed for implementa- output signals, and secondly, test cases with injected tion of the measure “physical separation between the faults are executed in order to verify the specified fault- signal paths”. Correct implementation of the measure mode responses of the firmware of the microcontroller shall be demonstrated by an analysis of development K1. In other words: it is clarified whether the require- documentation such as circuit diagrams, and by tests ments of the specification have been implemented on the hardware. The diversity employed for K1 and K2 correctly in the software. makes a substantial contribution to the CCF: the diffe- 96 7 Verification and validation • Checking of the assessment of the PL 7.8.3 Examination of whether all safety functions have been analysed The simplified procedure according to EN ISO 13849-1 (see also Block 8 in Figure 7.1) was applied for estimation of the PL. Its correct application is confirmed. Calculation of the MTTF in The V&V activities shown here for SF2 are conducted for D accordance with subclause 6.2.11 and Annex D and of all safety functions performed by the SRP/CS (SF1 to SF6). the average diagnostic coverage DC in accordance The additional effort is however low, since many safety avg with Annex E is checked, as is correct determining of the functions employ the same hardware. The analyses and PL from the previously confirmed Category, MTTF , and tests shall show that the safety functions have been D DC values by means of the bar chart shown in Figure implemented correctly. Once all safety functions have avg 6.10. been analysed, evaluation according to EN ISO 13849-1 and -2 is complete. • Verification of the information for use The information for use shall be reviewed concerning the two-hand control. This alsoincludes explanation of the function in conjunction with the safety objectives that are to be attained. It is immaterial when the infor- mation for use of the SRP/CS passes review, including with regard to the following points: description of the intended use; statement of information on the PL and the Category (including dated reference to the stan- dard); explanation of all operating modes; description of the safeguards and safety functions with response times, environmental conditions for operation and external interfaces; information and technical data on transport, safe erection, commissioning and mainte- nance. Here too, the result of the review shall be recor- ded in writing. • Validation of the combination and integration of SRP/CS The safety function described is implemented by an SRP/CS. Since the different technologies, electronic and hydraulic, are however combined within this SRP/CS, certain tests that are necessary when SRP/CS are com- bined should also be performed here, unless they have already been included in validation of the Category. These tests include comparison of the interface data between the technologies employed, and functional tests and extended functional tests. 97 98 8 Circuit examples for SRP/CS i Changes with respect to the second edition The description in each example is structured as follows: (BGIA Report 2/2008e): • Safety function • Example Nos 8, 26 and 36 deleted • Functional description • New example No 38 on hydraulic valve drive inserted • Design features • Substantially modified examples: Nos 17, 19 and 24 • Remarks • Calculation of the probability of failure • More detailed references This report began by addressing the design of safe con- trol systems in general terms. Subclauses 5.7, 6.5 and 7.6 Under “safety function”, the name of the safety function then illustrated, with reference to the example of a paper- is stated together withthe events that trigger it and the cutting guillotine, how the methods for the design of safe required safety responses. control systems can be implemented. The methods for determining the PL are described step by step here and The “functional description” describes the essential in EN ISO 13849-1; some of these steps however, such as safety-related functions, based upon a conceptual sche- deriving the safety-related block diagram from the circuit matic diagram. The behaviour in the event of a fault is diagram, require some practice. SISTEMA Cookbook 1 [33] explained, and measures for fault detection are stated. provides guidance on deriving the safety-related block diagram and the SISTEMA file from the circuit diagram. The particular characteristics in the design of the example However, owing to the variety of possible safety functions in question, such as the application of well-tried safety and their implementation, the individual steps do not principles and the use of well-tried components, are listed lend themselves to generic description. For this reason, under the “design features”. this chapter will now present the evaluation of numerous circuit examples that implement the safety functions The circuit diagrams are conceptual schematic diagrams in various Categories and Performance Levels and by that are limited solely to presentation of the safety means of different technologies. In the circuit examples, function(s) with the relevant components required for this the concept of a control system generally covers only the particular purpose. In the interests of clarity, certain addi- safety-related parts of control systems. The examples are tional circuitry that is normally required has been omit- limited to essential aspects, and therefore serve primarily ted, for example that for the assurance of electric shock to illustrate the methodology. Importance was attached protection, for control of overvoltage/undervoltage and in their selection to a wide spectrum oftechnologies and overpressure or low pressure, for the detection of insula- possible applications. Readers familiar with the 1997 tion faults, short-circuits and earth faults for example on report [9] on the Categories for safety-related control sys- lines routed externally, or for assurance of the required tems to EN 954-1 will recognize some of the examples, to resistance to electromagnetic disturbance. Circuit details which for example calculation of the probability of failure that are not essential for determining the safety-related has been added. Compared to the BGIA Report 2/2008e block diagram have thus been deliberately omitted. Such [57], certain examples that are no longer up to date have details include protective circuitry in the electrical sys- been deleted; one new example has however also been tem, such as fuses and diodes, for example in the form of added. The examples are an interpretation of the Catego- free-wheeling diodes. The diagrams also omit decoupling ries, and have been compiled by the authors based upon diodes in circuits in which sensor signals, for example, many years of experience with safety-related machine are read in redundantly into multiple logic units. This control systems and work on national and European stan- arrangement is intended to prevent an input becoming an dards committees. The examples serve to provide desig- output on redundant systems in the event of a fault, and ners with effective guidance for their own developments. thus influencing the second channel. These components Since the examples were created by different authors, are all essential in order for a control system to be imple- some variation inevitably exists, for example in their mented in accordance with a Category and a Performance presentation of details or in the reasoning behind certain Level. In accordance with the fault lists in EN ISO 13849-2, numerical data. All calculationsfor the circuit examples issues such as the influence of conductor short circuits were performed with the aid of Version 2.0 of the SISTEMA must of course also be considered in relation to the safety software application (see Annex H), the version available function concerned and the conditions of use. All compo- at the time of production of this report. Further circuit nents used must therefore be selected with consideration examples, including SISTEMA files, are also described in for their suitability according to their specification. Over- IFA Report 4/2018e, “Safe drive controls with frequency dimensioning is one of the well-tried safety principles. inverters” [22]. 99 8 Circuit examples for SRP/CS Further examples are listed in the technology-specific appro priate attention must be paid to this aspect, since remarks on fluid power technology. mis judgements or inadequate implementation of these meas ures could lead to a deterioration in the fault tole- Design features are stated only where they are relevant to rance or probability of failure. As an aid to understanding the safety functions described. This is generally a “safety- of the circuit examples and for their practical implementa- related stop function, initiated by a safeguard”. Other tion, the reader‘s attention is therefore drawn to Chapter 7 safety functions, such as the “prevention of unexpected and Annex C, in which, for example, the basic and well- start-up” or a “manual reset function” and “start/restart tried safety principles are described in detail. function” are not considered in all examples. If manually operated equipment (pushbuttons) is used for the imple- Finally, reference is made to “more detailed references”, mentation of such safety functions, it must be ensured where available. that where the safety function is implemented in conjunc- tion with electronics, in particular, it must be initiated by For each form of technology,61508) Level (SIL) represen- ting the probability Safeguarding Safeguarding of a dangerous against low risks against high risks failure per hour topics of Part 1. Annexes A to D of Part 2 contain compre- EN ISO 13849-1, as the successor standard to EN 954-1, hensive material on the subjects of “basic safety prin- attempts the balancing-act of uniting both the determini- ciples“, “well-tried safety principles”, “well-tried compo- stic approach of the Categories and the aspect of safety nents” and “fault lists”. Details can be found in Annex C reliability with the definition of the Performance Level (PL) of the present report. (see also [13]). Numerically, corresponding classes (see Figure 3.2) exist which permit rapid preliminary estima- The apparent overlap in regulatory scope of the two tions for practical day-to-day use. spheres of standardization initially appears unfavoura- ble to manufacturers of control systems and other users In the sense of the standard, the designated architectures of standards. Both EN ISO 13849-1 and IEC 62061 are are more an optional facility (simplified approach) than a harmonized standards under the Machinery Directive. requirement. They should however be regarded as a key Parts 1 to 4 of IEC 61508 have the status of basic safety element in simplification of the probabilistic approach standards from the IEC perspective (with the exception of implemented in EN ISO 13849, and their application is simple systems); this series of standards cannot however one of the tenets of this report. The scope of IEC 62061 be harmonized under the Machinery Directive, even as a indicates that it also covers complex, e.g. programmable European standard. This situation prompts for example electronics. Although this is correct, the development of the following questions: “SRECSs” (see Figure 3.1) employing this technology must nonetheless satisfy the requirements of the standard in • What standard(s)certain comments of a gene- the release (break operation) of a button already pressed. ral nature are made in the following technology-specific subclauses in order to provide a better understanding of Where relevant to the example concerned, particular refe- the examples and for implementation of the Categories. rence is made under “Remarks” to aspects specific to a Some of the circuit examples represent “control systems possible application. involving multiple technologies”. These “mixed” circuit examples are based upon the concept, enshrined in the Under “Calculation of the probability of failure”, a descrip- standard, that a safety function is always implemented by tion is provided of calculation of the PL from the para- “reception”, “processing” and “switching”, irrespective of meters Category, MTTF , DC and CCF, based upon the the technology employed. D avg safety-related block diagram derived from the conceptual schematic diagram. The Category is determined from the 8.1 General technology-related remarks on functional description and the design features. the example control systems The MTTF values employed in the calculations are marked 8.1.1 Electromechanical controls D as manufacturer‘s values (“[M]” for manufacturer), typical values from databases (“[D]” for database), or values from Electromechanical controls primarily employ electrome- EN ISO 13849-1 (“[S]” for standard). In accordance with chanical components in the form of control devices (e.g. the standard, priority should be given to manufacturers‘ position switches, selector switches, pushbuttons) and data. For certain components, neither reliable manufactu- switchgear (contactor relays, relays, contactors). These rers‘ data nor database values were available at the time devices have defined switching positions. They do not of production of the report. In this case, use was made of generally change their switching state unless actuated the parts count method for estimation of typical example externally or electrically. When selected properly and values (marked “[E]” for estimated). TheMTTF values in used as intended, they are largely immune to disturbance, D this chapter should therefore be regarded in some cases such as electrical or electromagnetic interference. In this more as estimates. respect they differ, in some cases considerably, from electronic equipment. Their durability and failure mode The presentation of the assumed measures for diag- can be influenced by suitable selection, dimensioning nostics (DC) and against common cause failure (CCF) is and arrangement. The same applies to the conductors limited to general information. Specific values for these employed, when suitably routed within and outside the two criteria are dependent upon the implementation, the electrical compartments. application and the manufacturer. It is therefore possible for different DC values to be assumed for similar compo- For the reasons stated above, the electromechanical com- nents in different examples. Here too, all assumptions ponents generally satisfy the “basic safety principles”, regarding DC and CCF must be reviewed in real-case and in many cases are also to be regarded as “well-tried implementations; the assumed values are not binding components” for safety applications. This holds true, and are intended solely for the purpose of illustration. however, only when the requirements of IEC 60204-1 [25] for the electrical equipment of the machine/installation The focus in the presentation lies more upon the Cate- are observed. In some cases, fault exclusions are possi- gories in the form of the “resistance to faults”, the block ble, for example on a control contactor with regard to pick- diagram and the “mathematical” methods for deter- up in the absence of a control voltage, or non-opening of mining the PL. Conversely, some sub-steps, such as a break contact with direct opening action on a switch to fault exclusion, basic and well-tried safety principles or IEC 60947-5-1 [56], Annex K. meas ures againstsystematic faults (including software) are mentioned only briefly. During implementation, 100 8 Circuit examples for SRP/CS Detailed information on the modelling of electromechani- ting temperature range and thus the operating viscosity cal components can be found in Annex D. range of the hydraulic fluid. If necessary, heating and/or cooling equipment must be provided in conjunction with 8.1.2 Fluid power controls closed-loop temperature control (refer also to Annex C in this context). On fluid power installations, the area of valves, i.e. valves controlling hazardous movements or states, should in The drive elements and the components for energy con- particular be considered a “safety-related part of the versions and transmission in fluid power systems gene- control system”. The fluid power circuits listed below rally lie outside the scope of the standard. constitute example arrangements only. As a rule, the required safety functions can also be implemented by On pneumatic systems (see Figure 8.2, Page 102), the means of alternative control logic employing appropriate components for the prevention of hazards associated valve types, or for that matter in some cases by additional with energy conversion and the maintenance unit for mechanical solutions such as hold devices or brakes. compressed air conditioning must be considered from a safety perspective in conjunction with the valve area. In On hydraulic systems (see Figure 8.1), measures for pres- order for the possible energy conversions to be controlled sure limitation in the system (1V2) and for filtration of the with consideration for safety aspects, an exhaust valve is hydraulic fluid (1Z2) must also be considered in this con- frequently used in conjunction with a pressure switch. In text. The components 1Z1, 1S1 and 1S2 shown in Figure 8.1 the circuit examples in this chapter, these components are present in the majority of hydraulic systems and are are marked0V1 (exhaust valve) and 0S1 (pressure switch). of great importance, particularly for the condition of the The maintenance unit 0Z (see Figure 8.2) generally con- hydraulic fluid and consequently for the valve functions. sists of a manual shut-off valve 0V10, a filter with water The reservoir breather filter 1Z1 arranged on the fluid separator 0Z10 with monitoring of the contamination of reservoir prevents the ingress of external dirt. The fluid the filter, and a pressure control valve 0V11 (with ade- level indicator 1S2 ensures that the fluid level remains quately dimensioned secondary venting). The pressure within the specified limits. The temperature indicator 1S1 indicator 0Z11 satisfies the requirement for monitoring of constitutes suitable measures for limitation of the opera- the system parameters. 1A Drive elements Scope of the Components to perform safety-related part of the safety function, the control system e.g. valves 1Z2 1V2 Possibly relevant Power transformer to observance of the Power transmission 1V1 basic and well-tried safety principles 1Z1 M 1S1 1S2 1M 3 1P Figure 8.1: Scope of EN ISO 13849 for hydraulic systems 101 8 Circuit examples for SRP/CS 1A Drive elements Components to perform Scope of the the safety function, safety-related part of e.g. valves the control system Components to prevent hazards in the event of power fluctuations Possibly relevant 0Z to observance of the 0Z11 0V11 0Z10 basic and well-tried safety principles 0V10 Figure 8.2: “Maintenance unit” Scope of EN ISO 13849 for pneumatic systems Besides the safety-related part of the control system, safety function may however also be a defined pressure the fluid power circuits presented as examples in this level or a pressure release, for example. chapter contain only the additional components that are required for an understanding of the fluid power system The structures of most fluid power control systems areor are directly related to the control technology. The engineered in Categories 1, 3 or 4. Since Category B req uirements that must be met by fluid power systems are already requires observance of the relevant standards and described in full in [58; 59]. [60 to 63] are further relevant of the basic safety principles, Category B and 1 fluid power standards. control systems do not differ essentially in their control structure, but only in the higher safety-related reliability The majority of control system examples are electrohy- of the relevant valves. For this reason, this report does draulic or electropneumatic controls. A range of safety not present any Category B fluid power control systems. requirements on these control systems are satisfied by Further information on hydraulics and pneumatics can be the electrical part of the control system, for example the found on the IFA website (www.dguv.de/ifa, Webcode: requirement for energy changes on electrohydraulic con- d1029520). trol systems to be controlled. 8.1.3 Electronic and programmable electronic On the control examples described here, the required control systems safety function is the stopping of a hazardous movement or the reversal of a direction of movement. Prevention of Electronic components are generally more sensitive to unexpected start-up is implicitly included. The required external environmental influences than electromechanical 102 8 Circuit examples for SRP/CS components. If no particular measures are taken, the use In contrast to electromechanical circuits, purely electronic of electronic components at temperatures below 0°C is circuits often have the advantage that a change of state subject to substantially greater constraints compared to can be forced dynamically. This permits attainment of the electromechanical components. In addition, environmen- required DC at appropriately short intervals and without tal influences exist that are virtually irrelevant to electro- alteration of the state of external signals (forced dyna-mechanical circuit elements but that present crucial prob- mics). lems for electronic systems, namely any electromagnetic disturbances that are coupled into electronic systems in Decoupling measures are required between different the form of conducted disturbance or electromagnetic channels in order to prevent common cause failures. fields. In some cases, greater effort is required in order These measures generally consist of galvanically isolated for adequate resistance to disturbance to be attained for contacts, resistor or diode networks, filter circuits, opto- industrial use. Fault exclusion is virtually impossible on couplers and transformers. electronic components. In consequence, safety cannot in principle be guaranteed by the design of a particular Systematic failures may lead to simultaneous failure of component, but only by certain circuit concepts and by redundant processing channels if this is not prevented by the application of appropriate measures for the control of timely consideration, in particular during the design and faults. integration phase. The use of principles such as closed- circuit current, diversity or overdimensioning enables According to the fault lists for electrical/electronic compo- electronic circuits to be designed to be robust. Measures nents to EN ISO 13849-2, the faults of short circuit, open that render the processing channels insensitive to the circuit, change of a parameter or a value, and stuck-at physical influences encountered for example in an indus- faults are essentially assumed. These are without excep- trial environment should not be ignored. Such influences tion fault effects that are assumed to be permanent. Tran- include temperature, moisture, dust, vibration, shock, sient (sporadically occurring) faults such as soft errors corrosive atmospheres, electromagnetic influences, vol- caused by charge reversal of a capacitor in a chip owing tage breakdown, overvoltage and undervoltage. to high-energy particles such as alpha particles can gene- rally be detected only with difficulty and controlled for the ACategory 1 SRP/CS must be designed and manufac- most part by structural measures. tured with the use of well-tried components and well-tried safety principles. Since complex electronic components The failure mode of electronic components is frequently such as PLCs, microprocessors or ASICS are not deemed difficult to evaluate; generally, no predominant failure well-tried in the sense of the standard, this report con- mode can be defined. This can be illustrated by an tains no corresponding examples of Category 1 electro- example: if a relay or contactor is not actuated electrically, nics. i.e. current does not flow through its coil, there is no rea- son for the contacts to close when the component is used The circuit examples include a statement of the effec- within the constraints of its specification. In other words, tiveness, i.e. the associated Performance Level, of the a de-energized relay or contactor does not switch on of its required measures for fault avoidance/fault control for own accord in response to an internal fault. The situation the programmable electronics. Further details can be is different for the majority of electronic components, found in subclause 6.3. Should ASICs be employed in a such as transistors. Even if a transistor is blocked, i.e. in development, measures for fault avoidance are required the absence of a sufficiently high base current, the possi- in the development process. Such measures can be found bility still cannot be excluded of it suddenly becoming for example in IEC 61508-2 [48], which specifies a V model conductive without external influence as a result of an for the development of an ASIC, based upon the V model internal fault, and consequently under certain circumstan- familiar from software development. ces initiating a hazardous movement. This drawback, from a safety perspective, of electronic components must The following points areworthy of mention, since such also be controlled by a suitable circuit concept. Where issues arise in practice: highly integrated modules are used, in particular, it may not be possible to demonstrate that a device or item of • Generally, two channels of an SRP/CS must not be rou- equipment is completely free of faults even at the begin- ted through the same integrated circuit. For optocoup- ning of its mission time, i.e. at commissioning. Even at lers, this requirement means for example that they must component level, manufacturers are no longer able to be housed in separate enclosures when they are used demonstrate freedom from faults with 100% test coverage to process signals from different channels. for complex integrated circuits. A similar situation exists for the software of programmable electronics. • The influence of operating systems etc. must also be considered where programmable electronics are employed. A standard PC and typical commercial ope- 103 8 Circuit examples for SRP/CS rating system is not suitable for use in a safety-related 8.2 Circuit examples control system. The required freedom from faults (or realistically, low incidence of faults) cannot generally Table 8.1 shows an overview of circuit examples 1 to be demonstrated with reasonable effort, or will not 38. Further examples can be found in [22]. Table 8.2 be attainable, on an operating system that was not (Page 105) contains an alphabetical list of the main abbre- de signed for safety-related applications. viations used in the circuit examples. Note: In the examples containing multiple safety func- tions (17, 19, 23, 24), only the first safety function of the example is shown in the safety-related block diagram. Table 8.1: Overview of the circuit examples Attained PL Implemented Technology/example No. Category Pneumatics Hydraulics Electrics b B 1, 4 c 1 2 3, 38 5,6, 7 c 2 9 c 3 10, 24 d 2 11 12 13 d 3 14 15, 16 15, 16, 17, 18, 19, 20, 21, 22, 23, 24 e 3 25 27 28, 29, 30 e 4 31 32, 33 33, 34, 35, 37 104 8 Circuit examples for SRP/CS Table 8.2: Overview of the abbreviations employed in the circuit examples Abbreviation Full form [D] B or MTTF values from databases (refer for example to Section D.2.6) 10D D [E] Estimated B or MTTF values (see above) 10D D [M] B or MTTF values based upon manufacturers‘ information 10D D [S] B or MTTF values based upon data listed in EN ISO 13849-1 (refer for example to Table D.2 of this report) 10D D µC Microcontroller B Nominal lifetime: the average number of switching cycles (operations) until 10% of the considered components 10 fail B Nominal lifetime (dangerous): the average number of switching cycles (operations) until 10% of the considered 10D components fail dangerously CBC Clutch/brake combination CCF Common cause failure CPU Microprocessor (central processing unit) DC Diagnostic coverage DC Average diagnostic coverage avg ESPE Electro-sensitive protective equipment FIT Number of failures in 109 component hours (failures in time) FMEA Failure mode and effects analysis FI Frequency inverter M Motor MPC Multi-purpose control MTTF Mean time to dangerous failure D n Mean annual number of operations op PFH Average probability of a dangerous failure per hour D PL Performance Level PL Required Performance Level r PLC Programmable logic controller RAM Random-access memory (variable memory) ROM Read-only memory (invariable memory) SBC Safe brake control; provides an output signal to control a brake/clamping device SDE Safe de-energization; exhausting of part of an installation SLS Safely limited speed (see Table 5.2) SRASW Safety-related application software SRESW Safety-related embedded software SRP/CS Safety-related partof a control system SS1-r, SS1-t Safe stop 1 (see Table 5.2) SS2-r, SS2-t Safe stop 2 (see Table 5.2) SSC Safe stopping and closing, trapping of compressed air in the piston chambers without closed-loop position control STO Safe torque off (see Table 5.2) T Mean time until 10% of the considered components fail dangerously 10D THC Two-hand control 105 8 Circuit examples for SRP/CS 8.2.1 Position monitoring of movable guards by means of proximity switches – Category B – PL b (Example 1) L B1 Motor starter Q1 U < M 3~ Figure 8.3: Position monitoring of movable guards by means of proximity switches Safety function • Safety-related stop function, initiated by a safeguard: actuation of the proximity switch when the movable guard (safety guard) is opened initiates the safety function STO (safe torque off). Functional description • Opening of the movable guard (e.g. safety guard) is detected by a proximity switch B1 that acts upon the undervoltage release of a motor starter Q1. The dropping out of Q1 interrupts or prevents hazardous movements or states. • The safety function cannot be maintained with all component failures, and is dependent upon the reliability of the components. • Removal of the protective device is detected. • B1 contains no internal monitoring measures. No further measures for fault detection are implemented. Design features • Basic safety principles are observed and the requirements of Category B are met. Protective circuits (such as con- tact protection) as described in the initial paragraphs of Chapter 8 are implemented. The closed-circuit current principle of the undervoltage release is employed as the basic safety principle. • A stable arrangement of the safeguard (safety screen) is assured for actuation of the proximity switch. • Depending upon the design of the proximity switch, bypassing of safe operation maypresen- Sicherheitsanforderungen der Maschinenrichtlinie wird ted. Based upon this information, the report can be used aufgezeigt und mögliche Verfahren zur Risikoabschätzung to select the required Performance Level PL for safety werden vorgestellt. Auf der Basis dieser Informationen r functions in control systems. The Performance Level erlaubt der Report die Auswahl des erforderlichen Perfor- PL which is actually attained is explained in detail. The mance Level PL für steuerungstechnische Sicherheits- r requirements for attainment of the relevant Performance funktionen. Die Bestimmung des tatsächlich erreichten Level and its associated Categories, component reliability, Performance Level PL wird detailliert erläutert. Auf die levels of diagnostic coverage, software safety and measu- Anforderungen zum Erreichen des jeweiligen Performance res for the prevention of systematic and common-cause Level und seine zugehörigen Kategorien, auf die Bauteil- failures are all discussed comprehensively. Background zuverlässigkeit, Diagnosedeckungsgrade, Softwaresicher- information is also provided on implementation of the heit und Maßnahmen gegen systematische Ausfälle sowie requirements in real-case control systems. Numerous Fehler gemeinsamer Ursache wird im Detail eingegangen. example circuits show, down to component level, how Hintergrundinformationen zur Umsetzung der Anforde- Performance Levels a to e can be engineered in the selec- rungen in die steuerungstechnische Praxis ergänzen das ted technologies with Categories B to 4. The examples Angebot. Zahlreiche Schaltungsbeispiele zeigen bis auf provide information on the safety principles employed die Ebene der Bauteile hinunter, wie die Performance and on components with well-tried safety functionality. Level a bis e mit den Kategorien B bis 4 in den jeweiligen Numerous literature references permit closer study of the Technologien technisch umgesetzt werden können. Sie examples provided. The report shows how the require- geben dabei Hinweise auf die verwendeten Sicherheits- ments of EN ISO 13849-1 can be implemented in enginee- prinzipien und sicherheitstechnisch bewährte Bauteile. ring practice, and thus makes a contribution to consistent Zahlreicheshould be applied for compliance accordance with IEC 61508. The scope for the use of with the Machinery Directive? SRP/CS developed against the standards originating at IEC is emphasized by the new edition of EN ISO 13849-1. • Where they overlap in their scope, do the standards This means that such SRP/CS can be considered equally yield equivalent results? valid when used for the implementation of safety func- tions under EN ISO 13849-1. • Are the classification systems of the standards, such as Categories, Performance Level (PL) and Safety Integrity Decisive arguments from the point of view of users in the Level (SIL), compatible? field for selecting EN ISO 13849 as a basis for the imple- mentation of functional safety in the area of machinery • Can devices which have been developed in observance may be considered to be the cross-discipline approach of one of the two standards be employed during imple- with regard to technology, and the simplified approach to mentation of a safety function in accordance with a quantification with the use of the designated architectu- different standard? res. This includes the detailed consideration of non-elec- trical and electromechanical components. Large-volume For attainment of the greatest possible compatibility producers of a safety component, such as a programma- with IEC, and if possible to permit merging of the two ble logic controller (PLC) for safety applications, will of spheres of standardization in the long term and also to course in particular wish to serve other world markets enable the benefits of the probability approach to be in addition to that of machinery, and will therefore base exploited without abandonment of the proven Categories, 16 3 Generic standards concerning the functional safety of machinery control systems their development activity upon IEC 61508 in addition to in 2012. The result ofbe possible in a reasonably foreseeable manner. Bypassing can be made more difficult, for example by particular conditions for installation, such as shrouded installation (see also EN ISO 14119). • The power supply to the entire machine is switched off (stop Category 0 to IEC 60204-1). 106 8 Circuit examples for SRP/CS B1 Q1 Calculation of the probability of failure • MTTF : B1 is a conventional proximity switch on a safety screen with an MTTF of 1,100 years [M]. For the under- D D voltage release of the motor starter Q1, the B value approximates to the electrical durability of 10,000 switching 10 cycles [M]. On the assumption that 50% of failures are dangerous, the B value is produced by doubling of the 10D B value. Assuming actuation once daily of the proximity switch, an n of 365 cycles per year for Q1 produces 10 op an MTTF of 548 years. For the combination of B1 and Q1, the MTTF for each channel is 365 years. This value is D D capped to the arithmetical maximum value for Category B, i.e. 27 years (“medium”). • DC and measures against common cause failures are not relevant in Category B. avg • The electromechanical control system satisfies Category B with a medium MTTF (27 years). This results in an D average probability of dangerous failure of 4.2 · 10–6 per hour. This satisfies PL b. More detailed references • EN ISO 14119: Safety of machinery – Interlocking devices associated with guards – Principles for design and selection (2013) • IEC 60204-1: Safety of machinery – Electrical equipment of machines. Part 1: General requirements (2016) Figure 8.4: Determining of the PL by means of SISTEMA 107 8 Circuit examples for SRP/CS 8.2.2 Pneumatic valve (subsystem) – Category 1 – PL c (Example2) hazardous 1A movement well-tried valve for 1V1 safety-related applications further loads and control systems 0S1 P 0V1 0Z Figure 8.5: Pneumatic valve for the control of hazardous movements Safety functions • Safety-related stop function: stopping of the hazardous movement and prevention of unexpected start-up from the rest position, implemented by safety sub-function SSC. • Only the pneumatic part of the control system is shown here, in the form of a subsystem. Further safety-related parts of control systems (e.g. safeguards and electrical logic elements) must be added in the form of subsystems for completion of the safety function. Functional description • Hazardous movements are controlled by a directional control valve 1V1 that is well-tried for safety applications. • Failure of the directional control valve may result in loss of the safety function. The failure is dependent upon the reliability of the directional control valve. • No measures for fault detection are implemented. • Should trapped compressed air pose a further hazard, additional measures are required. Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. 108 8 Circuit examples for SRP/CS 1V1 • 1V1 is a directional control valve with closed centre position, sufficient overlap, spring-centred central position and fatigue-resistant springs. • The safety-oriented switching position is attained by cancellation of the control signal. • The manufacturer/user must confirm that the directional control valve is a component that is well-tried for safety applications (of sufficiently high reliability). • The safety function can also be attained by a logical arrangement of suitable valves. Calculation of the probability of failure • MTTF : a B value of 20,000,000 switching cycles [S] is assumed for the directional control valve 1V1. At 240 D 10D working days, 16 working hours and a cycle time of 10seconds, n is 1,382,400 cycles per year and the MTTF is op D 145 years. This is also the MTTF value per channel, which is capped to 100 years (“high”). D • DC and measures against common cause failures are not relevant in Category 1. avg • The pneumatic control satisfies Category 1 with a high MTTF (100 years). This results in an average probability of D dangerous failure of 1.1 · 10-6 per hour. This satisfies PL c. Following the addition of further safety-related parts of control systems in the form of subsystems for completion of the safety function, the PL may under certain circum- stances be lower. In consideration of the estimation erring on the safe side as described above, a value of 14 years is produced for the operation time (T ) before the wearing directional control valve 1V1 must be replaced. 10D More detailed reference • VDMA technical rule 24584: Safety functions of regulated and unregulated (fluid) mechanical systems (08.16) Figure 8.6: Determining of the PL by means of SISTEMA 109 8 Circuit examples for SRP/CS 8.2.3 Hydraulic valve (subsystem) – Category 1 – PL c (Example 3) hazardous * movement 1A well-tried valve for safety-related applications 1V3 a b 1Z3 1V2 1V1 1Z2 1Z1 M 1S1 1S2 Figure 8.7: 1M 3 1P Hydraulic valve for the control of hazardous movements Safety functions • Safety-related stop function: stopping of the hazardous movement and prevention of unexpected start-up from the rest position • Only the hydraulic part of the control system is shown here, in the form of a subsystem. Further safety-related parts of control systems (e.g. safeguards and electrical logic elements) must be added in the form of subsystems for completion of the safety function. Functional description • Hazardous movements are controlled by a directional controlvalve 1V3 that is well-tried for safety applications. • Failure of the directional control valve may result in loss of the safety function. The failure is dependent upon the reliability of the directional control valve. • No measures for fault detection are implemented. 110 8 Circuit examples for SRP/CS 1V3 Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. • 1V3 is a directional control valve with closed centre position, sufficient overlap, spring-centred central position and fatigue-resistant springs. • The safety-oriented switching position is attained by cancellation of the control signal. • Where necessary, the manufacturer/user must confirm that the directional control valve is a component that is well-tried for safety applications. • The following specific measures are implemented to increase the reliability of the directional control valve: a pres- sure filter 1Z3 upstream of the directional control valve, and suitable measures on the cylinder to prevent dirt from being drawn in by the piston rod (e.g. effective wiper on the piston rod, see * in Figure 8.7) Calculation of the probability of failure • MTTF : an MTTF of 150 years is assumed for the directional control valve 1V3 [M]. This is also the MTTF value per D D D channel, which is capped to 100 years (“high”). • DC and measures against common cause failures are not relevant in Category 1. avg • The hydraulic control satisfies Category 1 with a high MTTF (100 years). This results in an average probability of D dangerous failure of 1.1 · 10-6 per hour. This satisfies PL c. Following the addition of further safety-related parts of the control system in the form of subsystems for completion of the safety function, the PL may under certain circumstances be lower. Figure 8.8: Determining ofthe PL by means of SISTEMA 111 8 Circuit examples for SRP/CS 8.2.4 Stopping of woodworking machines – Category B – PL b (Example 4) L L K1 S1/Off Q1 S2/On Q1 Figure 8.9: Combination of electromechanical Q1 control equipment and a simple electronic braking device for stopping of woodworking machines 112 trats gnikarB Electronic braking device Q1 M 3~ Safety function • Actuation of the Off pushbutton leads to SS1-t (safe stop 1, time controlled), a controlled stopping of the motor within a maximum permissible time. Functional description • Stopping of the motor is initiated by actuation of the Off button S1. The motor contactor Q1 drops out and the bra- king function is initiated. The motor is braked by a direct current, which is generated in the braking device K1 by a phase-angle control with thyristors, generating a braking torque in the motor winding. • The stopping time must not exceed a maximum value (e.g. 10 seconds). The level of braking current required for this purpose can be set by means of a potentiometer on the braking device. • After expiration of the maximum braking time, the thyristor is no longer activated and the current path for the braking current is interrupted. The stopping process corresponds to a stop of Category 1 in accordance with IEC 60204-1. • The safety function cannot be maintained with all component failures, and dependents upon the reliability of the components. • No measures for fault detection are implemented. 8 Circuit examples for SRP/CS S1 Q1 K1 Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. Protective circuits (such as contact protection) as described in the initial paragraphs of Chapter 8 are implemented. The de-energi- zation principle (closed current principle) is applied as abasic safety principle. For protection against unexpected start-up after restoration of the power supply, the control system is provided with a latching. • S1 is a pushbutton with direct opening action to IEC 60947-5-1, Annex K. S1 is therefore considered as a well-tried component. • Contactor Q1 is a well-tried component in consideration of the additional conditions in accordance with Table D.3 of EN ISO 13849-2. • The braking device K1 is constructed entirely from simple electronic components such as transistors, capacitors, diodes resistors and thyristors. The safety-related behaviour is determined by the selection of the components. Internal measures for fault detection are not implemented. Application • On woodworking machines or comparable machines on which unbraked stopping would result in an impermissibly long run-down of the hazardous tool movements. The control of the braking function on woodworking machines must be designed such that at least PL b is achieved (prEN ISO 19085-1:2014). Calculation of the probability of failure • The pushbutton S1 and the contactor Q1 are combined for the calculation in SISTEMA to a subsystem that meets the requirements of Category 1. The braking device K1 forms a separate subsystem in Category B. • S1 is a pushbutton with direct opening action according to IEC 60947-5-1, Annex K. • MTTF : A B value of 20 · 106 switching cycles [M] is specified for the pushbutton S1. B value of 1,300,000 swit- D 10D 10D ching cycles [S] at nominal load is assumed for the contactor Q1. At 300 working days, 8 working hours and a cycle time of 2 minutes, n is 72,000 cycles per year. The MTTF is 2,777 years for the pushbutton S1 and 180 years for op D Q1. Together, this results to an MTTF of 169 years, which in accordance with the standard isreduced to 100 years D (“high”) for the subsystem. The contactor Q1 has a limited operation time (T ) of 18 years. Its replacement in good 10D time is recommended. The MTTF for the braking device K1 was determined using the parts count method. The com- D ponent information from the parts list and the values from the SN 29500 database [48] yield an MTTF of 518 years D [D]. This is also reduced to 100 years (“high”). • DC and measures against common cause failures are not relevant in Category B and Category 1. avg • The subsystem S1/Q1 satisfies Category 1 with a high MTTF (100 years). This results in an average probability of D dangerous failure of 1.1 · 10-6 per hour. This satisfies PL c. • The subsystem K1 satisfies Category B with a high MTTF (100 years). This results in an average probability of D dangerous failure of 4.2 · 10-6 per hour. This satisfies PL b. • For the safety-related stop function, the resulting average probability of dangerous failure is 5.4 · 10-6 per hour. This satisfies PL b. 113 8 Circuit examples for SRP/CS Figure 8.10: Determining of the PL by means of SISTEMA 114 8 Circuit examples for SRP/CS 115 8 Circuit examples for SRP/CS 8.2.5 Position monitoring of movable guards – Category 1 – PL c (Example 5) L + Open B1 Q1 Closed M Q1 3~ Figure 8.11: Position monitoring of movable guard for the prevention of hazardous movements (STO – safe torque off) Safety function • Safety-related stop function, initiated by a guard: opening of the movable guard initiates the safety function STO (safe torque off). Functional description • Opening of the movable guard (e.g. safety guard) is detected by a position switch B1 with direct opening contact, whichactuates a contactor Q1. The dropping out of Q1 interrupts or prevents hazardous movements or states. • The safety function cannot be maintained with all component failures, and is dependent upon the reliability of the components. • No measures for fault detection are implemented. • Removal of the protective device is not detected. Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. Protective circuits (such as contact protection) as described in the initial paragraphs of Chapter 8 are implemented. The closed-circuit current principle is employed as a basic safety principle. Earthing of the control circuit is regarded as a well-tried safety principle. • Switch B1 is a position switch with direct opening contact in accordance with IEC 60947-5-1, Annex K and is there- fore regarded as a well-tried component. The break contact interrupts the circuit directly mechanically when the safeguard is not in the safe position. • Contactor Q1 is a well-tried component provided the additional conditions in accordance with Table D.3 of EN ISO 13849-2 are met. 116 8 Circuit examples for SRP/CS B1 Q1 • A position switch is employed for position monitoring. A stable arrangement of the safeguard is assured for actua- tion of the position switch. The actuating elements of the position switch are protected against displacement. Only rigid mechanical parts are employed (no spring elements acting in the direction of the actuating force). • The actuating stroke for the position switch complies with the manufacturer‘s specification. Calculation of the probability of failure • MTTF : an MTTF of 20 · 106 switching cycles [M] is stated for B1. At 365 working days, 16 working hours per day and D D a cycle time of 10 minutes, the n for these components is 35,040 cycles per year,and the MTTF is 5,707 years. For op D the contactor Q1, the B value corresponds under inductive load (AC 3) to an electrical durability of 1,300,000 swit- 10 ching cycles [M]. If 50% of failures are assumed to be dangerous, the B value is produced by doubling of the B 10D 10 value. The above assumed value for n results in an MTTF of 742 years for Q1. The combination of B1 and Q1 results op D in an MTTF of 656 years for each channel. This value is capped to 100 years (“high”). D • DC and measures against common cause failures are not relevant in Category 1. avg • The electromechanical control system satisfies Category 1 with a high MTTF (100 years). This results in an average D probability of dangerous failure of 1.1 · 10-6 per hour. This satisfies PL c. The PL of b is therefore surpassed. r More detailed reference • IEC 60947-5-1: Low-voltage switchgear and controlgear – Part 5-1: Control circuit devices and switching elements – Electromechanical control circuit devices (2009) + A1 (2012) Figure 8.12: Determining of the PL by means of SISTEMA 117 8 Circuit examples for SRP/CS 8.2.6 Start/stop facility with emergency stop device – Category 1 – PL c (Example 6) L S1 Emergency stop S2 Q1 Q1 START S3 STOP M 3~ Q1 Figure 8.13: Combined start/stop facility with emergency stop device Safety function • Emergency stop function, STO – safe torque off by actuation of the emergency stop device Functional description • Hazardous movements or states are de-energized by interruption of the control voltage of contactor Q1 when the emergency stop device S1 is actuated. • The safety function cannot be maintained with all component failures, and is dependent upon the reliability of the components. • Nomeasures for fault detection are implemented. Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. Protective circuits (such as contact protection) as described in the initial paragraphs of Chapter 8 are implemented. The closed-circuit current principle is employed as a basic safety principle. The control circuit is also earthed, as a well-tried safety principle • The emergency stop device S1 is a switch with positive mode of actuation in accordance with IEC 60947-5-5, and is therefore a well-tried component in accordance with Table D.3 of EN ISO 13849-2. • The signal is processed by a contactor (stop Category 0 to IEC 60204-1). • Contactor Q1 is a well-tried component provided the additional conditions in accordance with Table D.3 of EN ISO 13849-2 are observed. Remarks • The function for stopping in an emergency is a protective measure that complements the safety functions for the safeguarding of hazard zones. 118 8 Circuit examples for SRP/CS S1 Q1 Calculation of the probability of failure • MTTF : S1 is a standard emergency stop device according to EN ISO 13850. It is manufactured in accordance with D IEC 60947-5-5. In accordance with EN ISO 13849-1, Table C.1, a B value of 100,000 switching cycles may be 10D applied in this case for emergency stop devices, irrespective of the load [S]. For the contactor Q1, the B value cor- 10 responds under inductive load (AC 3) to an electrical durability of 1,300,000 switching cycles [M]. On the assump- tion that 50% of failures are dangerous, the B value is produced by doubling of the B value. If the start/stop 10D 10 facility is assumed to be actuated twice a day on 365 working days and the emergency stop device to be actuated twelve times aan international survey conducted EN ISO 13849. during work on ISO/IEC 17305 showed clearly that the 13849 standards predominated in application among The table previously found in identical form in the intro- machine manufacturers and end users. As shown in ductions of EN ISO 13849-1 and IEC 62061 for selection Figure 3.3, EN ISO 13849-1 was used by 90%, i.e. the great of the appropriate standard for the relevant application majority of the 715 persons surveyed. Development of the has now been deleted from both standards. A guidance planned ISO/IEC 17305 standard was the subject of hea- document on application of EN ISO 13849-1 and IEC 62061 ted discussion among experts. The protracted discussions during the design of safety-related machine controls had resulted in the project being at least two years behind exists, although it has received little attention. As a sector its original schedule. The working group was already standard of IEC 61508, IEC 62061 naturally describes the aware of the essential need to consider backward compa- aspect of “management of functional safety” very expli- tibility to EN ISO 13849-1 and IEC 62061. Straightforward citly. Development and verification of embedded software application of the new standard and retention of existing to EN ISO 13849-1 is based upon the essential require- methods were explicit objectives. The question whether ments for safety-related software that are currently stan- a new standard would have met these objectives and dard practice and are also described in IEC 61508. Broad whether it would have been able to replace the existing agreement exists however that requirements from the standards cannot be answered. In October 2015, two standards should not be mixed. The ISO/TR 23849 ISO/TC 199 took the decision to abandon the work on a guidance document [14] was developed by members of joint standard andyear, then at a resulting n of 742 cycles per year, Q1 has an MTTF of 35,040 years. This is also the op D MTTF for the channel, which is capped to 100 years (“high”). D • DC and measures against common cause failures are not relevant in Category 1. avg • The electromechanical control system satisfies Category 1 with a high MTTF (100 years). This results in an average D probability of dangerous failure of 1.1 · 10-6 per hour. This satisfies PL c. More detailed references • EN ISO 13850: Safety of machinery – Emergency stop – Principles for design (2015). • IEC 60204-1: Safety of machinery – Electrical equipment of machines. Part 1: General requirements (2016). Figure 8.14: Determining of the PL by means of SISTEMA 119 8 Circuit examples for SRP/CS 8.2.7 Undervoltage release by means of an emergency stop device – Category 1 – PL c (Example 7) L S1 Emergency Motor stop starter Q1 U < M 3~ Figure 8.15: Emergency stop device acting upon the undervoltage release of the supply disconnecting device (motor starter) Safety function • Emergency stop function, STO (safe torque off) by actuation of the emergency stop device acting upon the under- voltage release of a motor starter, where appropriate the supply disconnecting device. Functional description • Hazardous movements or states are interrupted upon actuation of the emergency stop device S1 by undervoltage release of the supply disconnecting device, in this case in the form of a motor starter Q1. • The safety function cannot be maintained with all component failures, and is dependent upon the reliability of the components. • No measures for fault detection are implemented. Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. Protective circuits (such ascontact protection) as described in the initial paragraphs of Chapter 8 are implemented. The closed-circuit current principle of the undervoltage release is employed as the basic safety principle. • The emergency stop device S1 is a switch with positive mode of actuation in accordance with IEC 60947-5-5, and is therefore a well-tried component in accordance with Table D.3 of EN ISO 13849-2. • The motor starter Q1 is to be considered equivalent to a circuit breaker in accordance with Table D.3 of EN ISO 13849-2. Q1 may therefore be regarded as a well-tried component. • The power supply to the entire machine is switched off (stop Category 0 to IEC 60204-1). Remarks • The function for stopping in an emergency is a protective measure that complements the safety functions for the safeguarding of hazard zones. 120 8 Circuit examples for SRP/CS S1 Q1 Calculation of the probability of failure • MTTF : S1 is a standard emergency stop device according to EN ISO 13850. It is manufactured in accordance with D IEC 60947-5-5. In accordance with EN ISO 13849-1, Table C.1, a B value of 100,000 switching cycles may be 10D applied in this case for emergency stop devices, irrespective of the load [S]. For the undervoltage release of the motor starter Q1, the B value approximates to the electrical durability of 10,000 switching cycles [M]. On the 10 assumption that 50% of failures are dangerous, the B value is produced by doubling of the B value. At actua- 10D 10 tion of the emergency stop device twelve times a year and a resulting n of 12 cycles per year, Q1 has an MTTF of op D 16,666 years. This is also the MTTF for the channel, which is capped to 100 years (“high”). D • DC and measures againstcommon cause failures are not relevant in Category 1. avg • The electromechanical control system satisfies Category 1 with a high MTTF (100 years). This results in an average D probability of dangerous failure of 1.1 · 10-6 per hour. This satisfies PL c. More detailed references • EN ISO 13850: Safety of machinery – Emergency stop – Principles for design (2015). • IEC 60204-1: Safety of machinery – Electrical equipment of machines. Part 1: General requirements (2016) Figure 8.16: Determining of the PL by means of SISTEMA 121 8 Circuit examples for SRP/CS 8.2.8 Stopping of woodworking machines – Category 1 – PL c (Example 8) i This example has been deleted, since the technology is no longer relevant. 122 8 Circuit examples for SRP/CS 123 8 Circuit examples for SRP/CS 8.2.9 Tested light barriers – Category 2 – PL c with downstream Category 1 output signal switching device (Example 9) +UB Q1 S2 S1 START STOP K2 K3 I1.0 I1.1 I1.2 I1.3 Inputs PLC R2 Outputs O1.0 O1.1 O1.2 K2 K2 K1 R1 L K2 K1 Q1 F1 Fn Figure 8.17: Testing of light M 3 barriers with a 1st light barrier nth light barrier standard PLC Safety function • Safety-related stop function, initiated by a protective device: when the light beam is interrupted, a hazardous movement is halted (STO – safe torque off). Functional description • Interruption of a light beam of the n cascaded light barriers F1 to Fn triggers a de-energization command both by relays, by de-energization of the contactor relay K2, and via the PLC output (O1.1) of the test channel. The hazardous movement is then halted by means of the main contactor relay Q1. • The light barriers are tested before each start of the hazardous movement following pressing of the start buttonS2. For this purpose, the PLC output O1.2 de-energizes the light barrier transmitter in response to a software command. The reaction of the receiver (K2 drops out again) is monitored on the PLC inputs I1.1 and I1.2. Provided the behavi- our is free of faults, K2 locks in via O1.2, and the hazardous movement can be initiated by the releasing of S2. K1 is de-energized via O1.0, and the main contactor relay Q1 actuated via O1.1. • Should a fault in one of the light barriers or in K2 be detected by the test, the outputs O1.1 and O1.2 are deactiva- ted, and an actuating signal is no longer applied to the main contactor relay Q1. • In the event of global failure of the PLC (output O1.0 at low potential, outputs O1.1 and O1.2 at high potential), interruption of a light beam results in de-energization of K2, independently of the PLC. In order to ensure this inde- pendence, the light barrier outputs are decoupled from the PLC by the decoupling diode R2. Under unfavourable circumstances, the light barriers can be re-activated by K2 by actuation of the start button, and the main contactor relay Q1 thus actuated. In this case, (only) the test equipment would have failed. Failure of the test equipment is detected owing to the probability of a functionally defective process under these circumstances. • During the test, actuation of Q1 by K1 and O1.1 is blocked. 124 8 Circuit examples for SRP/CS F1 F2 F3 K2 Q1 R2 K3 Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. Protective circuits (such as contact protection) as described in the initial paragraphs of Chapter 8 are implemented. • Special light barriers with suitable optical characteristics (aperture angle, extraneous lightimmunity, etc.) to IEC 61496-2 are employed. • Several light barriers can be cascaded and monitored by only two PLC inputs and a relay or contactor relay. • The contactor relays K1 and K2 possess mechanically linked contact elements in accordance with IEC 60947-5-1, Annex L. The main contactor relay Q1 possesses a mirror contact in accordance with IEC 60947-4-1, Annex F. • The standard components F1 to Fn and K3 are employed in accordance with the guidance in subclause 6.3.10. • The software (SRASW) is programmed in accordance with the requirements for PL b (reduction of the requirements in the test channel owing to diversity) and the guidance in subclause 6.3.10. • The start button S2 must be located outside the hazard zone and at a point from which the hazard zone is visible. • The number, arrangement and height of the light beams must comply with EN ISO 13855 and IEC 62046. • Should an arrangement for the safeguarding of hazard zones permit stepping behind the sensing field, further measures are required, such as a restart interlock. The start button S2 can be used for this purpose. To this end, the PLC K3 compares the duration for which the button is pressed with maximum and minimum values. Only if the conditions are met is a start command deemed valid. Remarks • The example is intended for use in applications with an infrequent demand of the safety function. This enables the requirement for the designated architecture for Category 2 to be satisfied, i.e. “testing much more frequent than the demand of the safety function” (cf. Annex G). • Following triggering of a stop, the light barriers remain deactivated until the next start. This enables a hazard zone for example to be entered without this being “registered” by the circuit.The behaviour can be modified by corres- ponding adaptation of the circuit. Calculation of the probability of failure • By way of example, three light barriers F1 to F3 are considered for calculation of the probability of failure. Safeguar- ding of a second hazard zone constitutes a further safety function for which calculation is performed separately. • For calculation of the probability of failure, the overall system is divided into two subsystems, “light barriers” and “main contactor relay” (Q1). For the “light barriers” subsystem: • F1, F2, F3 and K2 constitute the functional path of the Category 2 circuit structure; the PLC K3 (including decoupling diode R2) constitutes the test equipment. S2 and K1 have the function of activating testing of the light barrier, and are not involved in the calculation of the probability of failure. • MTTF : an MTTF of 100 years [E] is assumed for each of F1 to F3. The B value for K2 is 20,000,000 cycles [S]. D D 10D At 240 working days, 16 working hours and a cycle time of 180 seconds, n is 76,800 cycles per year. Testing as op described above doubles this value, to an n of 153,600 cycles per year with an MTTF of 1,302 years for K2. op D 125 8 Circuit examples for SRP/CS These values yield an MTTF of 32 years (“high”) for the functional channel. An MTTF of 50 years [E] is assumed for D D K3. Compared to this value, the MTTF value of 228,311 years [S] for the decoupling diode R2 is irrelevant. D • DC : the reasoning for the DC of 60% for F1 to F3 is the functional test as described. The DC of 99% for K2 is avg derived from direct monitoring in K3 with the aid of mechanicallylinked contact elements. The averaging formula returns a result of 61% (“low”) for DC . avg • Adequate measures against common cause failure (85 points): separation (15), diversity (20), overvoltage protec- tion etc. (15) and environmental conditions (25 + 10) • The combination of the control elements in the “light barriers” subsystem satisfies Category 2 with a high MTTF D of the functional channel (32 years) and low DC (61%). This results in an average probability of dangerous failure avg PFH of 1.9 · 10-6 per hour. D The following assumptions are made for the “main contactor relay” subsystem: • B = 1,300,000 cycles [S] with an n of 76,800 cycles per year. This leads to an MTTF of 169 years, which in 10D op D accordance with the standard is capped to 100 years. The structure satisfies Category 1; DC and common cause avg failures are not therefore relevant. The resulting average probability of dangerous failure is 1.1 · 10-6 per hour. • Addition of the average probabilities of dangerous failure of the two subsystems results in a PFH of 3.0 · 10-6 per D hour. This satisfies PL c. • If it is anticipated that a demand will be made upon the safety function more frequently than assumed for the Cate- gory 2 designated architecture (the ratio is lower than 100:1, i.e. more frequently than once every 5 hours), this can be allowed for accordance with Annex K, Note 1 of the standard by an additional penalty of 10% down to a ratio of 25:1. In the case with three light barriers under consideration here, the “light barriers” subsystem still attains a PFH of 2.1 · 10-6 per hour. The average probability of dangerous failure PFH of 3.2 · 10-6 per hour only attains PL b, D Dhowever. For PL c to be attained, the number of light barriers would for example have to be reduced, or compo- nents with a higher MTTF employed. D • In consideration of the estimation erring on the safe side as described above, an operation time (T ) of 17 years is 10D produced for specified replacement of the wearing component Q1. More detailed references • IEC 61496-1: Safety of machinery – Electro-sensitive protective equipment – Part 1: General requirements and tests (2012) and Corrigendum 1 (2015). IEC, Geneva, Switzerland 2012/2015 • IEC 61496-2: Safety of machinery – Electro-sensitive protective equipment – Part 2: Particular requirements for equipment using active opto-electronic protective devices (AOPDs) (2013). IEC, Geneva, Switzerland 2013 • IEC 62046: Safety of machinery – Application of protective equipment to detect the presence of persons (2018). IEC, Geneva, Switzerland 2018 • EN ISO 13855: Safety of machinery – Positioning of safeguards with respect to the approach speeds of parts of the human body (2010). 126 8 Circuit examples for SRP/CS Figure 8.18: Determining of the PL by means of SISTEMA 127 8 Circuit examples for SRP/CS 8.2.10 Tested light barriers – Category 2 – PL c with downstream Category 1 output signal switching device (Example 10) i Changes with respect to the second edition (BGIA Report 2/2008e): The safety function was redefined and the associated safety-related block diagram adapted. The former block S3/S4 was changed to S3. PL and PFH values for PLC and contactors were replaced by manufacturers‘ values. D Figure 8.19: Stopping of a PLC-driven frequency inverter drive following an emergency stop command + UB L S5 K3 START K1 S3 Q1 K5 S3.1 S3.2 I0 I1 I2 I3 I4 I5 Inputs S4 Q1 PLC S4.1 S4.2 K4 T1 Outputs O0 O1 O2 Frequency K1 inverter K2 S1S2 Start / stop STOP ON + U Q1 + U B K2 B 1st shut-off path K1 K3 K3 C1 with d d e r l o a p y -out Q1 2nd d s e h la u y t e -o d ff path K2 M 3~ Safety function • Actuation of the emergency-stop device S3 causes the drive to be stopped in a controlled manner (SS1-t – safe stop 1 with STO following expiry of a deceleration time). Functional description • The hazardous movement is stopped if either the stop button S1 or one of the emergency stop devices S3 or S4 is actuated. Only actuation by means of the emergency-stop device S3 is considered in this example. The drive is halted in an emergency in response to actuation of S3: first by deactivation of the emergency stop safety module K4, accompanied by shut-off of the contactor relays K1 and K2. Opening of the make contact K1 on the input I4 of the PLC K5 causes the starting signal on the frequency inverter (FI) T1 to be cancelled via the PLC output O2. Redun- dantly to the K1-K5-T1 chain, opening of the make contact K2 upstream of the contactor relay with drop-out delay K3 128 8 Circuit examples for SRP/CS S3.1 K1 K5 T1 K4 S3.2 K2 K3 C1 Q1 initiates a braking timer; upon timeout of the braking timer, the actuating signal for the mains contactor Q1 is inter- rupted. The timer setting is selected such that under unfavourable operating conditions, the machine movement is halted before the mains contactor Q1 has dropped out. • Functional stopping of the drive following a stop command is initiated by opening of the two break contacts of the stop button S1. As with stopping in an emergency, thestatus is first queried by the PLC K5 via the input I0, and the FI is shut down by resetting of the PLC output O2. Redundantly to this process, the contactor relay K3 is shut-off – with drop-out delay provided by the capacitor C1 – and following timeout of the set braking time, the activation signal to the mains contactor Q1 is interrupted. • In the event of failure of the PLC K5, the frequency inverter T1, the mains contactor Q1, the contactor relays K1/ K2 or the contactor relay with drop-out delay K3, stopping of the drive is nevertheless assured, since two shut-off paths independent of each other are always present. Failure of the contactor relays K1 and K2 to drop out is detec- ted – at the latest following resetting of the actuated emergency stop device – by monitoring of the mechanically linked break contacts within the emergency stop safety module K4. Failure of the contactor relay K3 to drop out is detected – at the latest before renewed start-up of the machine movement – through feedback of the mechanically linked break contact to the PLC input I3. Failure of the mains contactor Q1 to drop out is detected by the mirror con- tact read in on the PLC input I3. Welding of this mirror contact is detected by the mechanically linked auxiliary make contact on the PLC input I2. In the event of a fault in the capacitor C1, the measured drop-out time of the contactor relay K3 differs from the time specified in the PLC. The fault is detected and leads to the machine being shut down and to operating inhibition of the machine. Organizational measures ensure that each emergency-stop device is actuated at least once a year. Design features • Basic and well-tried safety principlesto suspend the working group‘s activi- both standards committees and was published in 2010 by ties. No sooner had the work officially stopped however, ISO and IEC. Its core messages are: than it became clear that the topic would not rest. Recom- mendations are therefore to be formulated for whether • The methods described by the two standards differ, but and if so how a future joint project concerning functional can attain a comparable level of risk reduction. safety could be conducted jointly by the two standards organizations. Both standards will be revised in the near • Activities merging the two standards require adequate future in the course of “routine maintenance”. The results experience with their application in practice. of the work conducted to date on ISO/IEC 17305 will be taken up in both standards. The IEC proposed merging of the two standards to form an ISO/IEC standard as long ago as 2011, and began work 100 Size of company ≤ 250 employees 90 Size of company > 250 employees 80 70 60 50 40 30 20 10 0 E N 9 45-1 E N I S O 1 3 8 4 9-1 E N I S O 1 3 8 4 9- 2 I E C 6 2 0 61 I E C 61511 I E C 615 0 8 N o n e Standard employed 17 % ni ,seinapmoc fo noitroporP Figure 3.3: Standards used by machine manu- facturers and end users as revealed by a survey conducted in 2012/2013 by ISO and IEC into the merging of EN ISO 13849-1 and IEC 62061 4 Report and standard: an overview i of the safety-related parts of control systems, based upon Changes with respect to the second edition Figure 4.1, which corresponds to Figure 3 of the standard. (BGIAare observed and the requirements of Category B are met. Protective circuits (such as contact protection) as described in the initial paragraphs of Chapter 8 are implemented. • The contactor relays K1, K2 and K3 possess mechanically linked contacts in accordance with IEC 60947-5-1, Annex L. • The pushbuttons S1, S3 and S4 possess direct opening contacts in accordance with IEC 60947-5-1, Annex K. • The contactor Q1 possesses a mirror contact in accordance with IEC 60947-4-1, Annex F. • The standard components K5 and T1 are employed in accordance with the guidance in subclause 6.3.10. • The software (SRASW) is programmed in accordance with the requirements for PL b (downgraded owing to diversity) and the guidance in subclause 6.3.10. • Delayed attainment of standstill by the second shut-off path alone in the event of a fault must not involve an un acceptably high residual risk. • The SRP/CS of the emergency stop safety module K4 satisfies all requirements for Category 3 and PL d. Calculation of the probability of failure Only the probability of failure of the emergency stop function is calculated. • The emergency-stop device S3 is equipped with two break contacts S3.1 and S3.2. The manufacturer states a B of 10D 127,500 cycles for each of the blocks S3.1 and S3.2. With actuation annually and a resulting n of 1 cycle per year, op the MTTF of each contact is 1,275,000 years. The emergency stop safety module K4 is a tested safety component. D Its probability of failure is 3.0 · 10-7 per hour [M], and is added at the end of the calculation. 129 8 Circuit examples for SRP/CS The following applies for the probability of failure of the downstream two-channel structure: • MTTF : the PLC K5 has an MTTF of ten years [S]. Thefrequency inverter has an MTTF of 35 years [M]. The capacitor D D D C1 is included in the calculation with an MTTF of 45,662 years [D]. At a B value of 5,000,000 cycles [M] and a rate D 10D of operations of daily energization on 240 working days, the result is an MTTF of 208,333 years for K1 and K2. At a D B value of 2,000,000 cycles [M] and at 240 working days, 16 working hours and a cycle time of 3 minutes, the n 10D op is 76,800 cycles per year and the MTTF 260 years for K3. At a B value of 600,000 cycles [M] and at 240 working D 10D days, 16 working hours and a cycle time of 3 minutes, the n is 76,800 cycles per year and the MTTF 7.8 years for op D Q1. These values produce a symmetrized MTTF for the channel of 60 years (“high”). D • DC : an adequate test rate of the emergency-stop devices is assured (refer to the information in subclauses 6.2.14 avg and D.2.5.1). Fault detection of the blocks S3.1 and S3.2 is achieved by cross monitoring in K4 (DC = 90%). Fault detection by the process in the event of failure of actuation of the deceleration ramp leads to a DC of 60% for K5. For T1, the DC is 60%, likewise as a result of fault detection by the process. K1 and K2 exhibit a DC of 99% owing to the integral fault detection in K4. For K3, the DC is 99% owing to fault detection by K5. For C1, the DC is 60% owing to testing in the PLC of the timing element with the FI shut-off by way of the drop-out time of the contactor relay K3. For Q1, the DCis then 99% owing to direct monitoring in K5. The averaging formula for the DC yields a result of avg 64% (“low”). • Adequate measures against common cause failure (75 points): separation (15), diversity (20), FMEA (5) and envi- ronmental conditions (25 + 10) • The two-channel combination of the control elements satisfies Category 3. This yields an average probability of dangerous failure PFH of 3.9 · 10-7 per hour. This satisfies PL d. Addition of the probability of dangerous failure of D K4 and S3 yields an overall probability of failure of 7.4 · 10-7 per hour. This also then satisfies PL d. • The wearing contactor Q1 should be replaced after approximately 7.8 years (T ). 10D More detailed references • Werner, C.; Zilligen, H.; Köhler, B.; Apfeld, R.: Safe drive controls with frequency inverters. IFA Report 4/2018. 3rd ed. Published by: Deutsche Gesetzliche Unfallversicherung e.V. (DGUV). Berlin, Germany 2019 (will be published in Summer 2019). www.dguv.de/ifa, Webcode: e635980 • IEC 61800-5-2: Adjustable speed electrical power drive systems – Part 5-2: Safety requirements – Functional (2016) 130 8 Circuit examples for SRP/CS Figure 8.20: Determining of the PL by means of SISTEMA 131 8 Circuit examples for SRP/CS 8.2.11 Tested pneumatic valve (subsystem) – Category 2 – PL d (Example 11) K1 1S1 G hazardous 1A movement 1S1 K1 K1 1V1b 1V1 1V1a a b K1 Inputs PLC further loads and Outputs control systems 0S1 P 0V1 0V1 K1 0Z Figure 8.21: Pneumatic valve with electronic testing for the control of hazardous movements Safety functions • Safety-related stop function: stopping of a hazardous movement and prevention of unexpected starting from the rest position, implemented by SSC and in the event of detected faults (failure detection) by SDE • Only the pneumatic part of the control system is shownhere, in the form of a subsystem. Further SRP/CS (e.g. safeguards and electrical logic elements) must be added in the form of subsystems for completion of the safety function. 132 8 Circuit examples for SRP/CS 1V1 1S1 K1 0V1 Functional description • Hazardous movements are controlled by a directional control valve 1V1. • Failure of the directional control valve 1V1 between functional tests may result in loss of the safety function. The failure is dependent upon the reliability of the directional control valve. • Testing of the safety function is forced via the PLC K1 by means of a displacement measurement system 1S1. Testing takes place at suitable intervals and in response to a demand of the safety function. Detection of failure of 1V1 leads to the exhaust valve 0V1 being switched off. • Interruption of the hazardous movement by means of the exhaust valve 0V1 generally results in a longer overrun. The distance from the hazard zone must be selected in consideration of the longer overrun. • The test function must not be impaired by failure of the directional control valve. Failure of the test function must not lead to failure of the directional control valve. • Should trapped compressed air pose a further hazard, additional measures are required. Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. • 1V1 is a directional control valve with closed centre position, sufficient overlap and spring-centred central position. • The safety-oriented switching position is attained by cancellation of the control signal. • Testing may for example take the form of checking of the time/distance characteristic (displacement measurement system 1S1) of the hazardous movements in conjunction with the switching position of the directional control valve, with evaluation in a PLC (K1). • K1 mustnot be used for the electrical drive of 1V1. • In order to prevent a systematic failure, the higher-level de-energization function (acting upon exhaust valve 0V1 in this example) is checked at suitable intervals, e.g. daily. • For use in applications with infrequent operator intervention in the hazard zone. This enables the requirement of the designated architecture for Category 2 to be satisfied. The requirement is for testing to be performed immedia- tely when a demand is made upon the safety function, and for the total time for detection of the failure and placing of the machine in a non-hazardous state, for example in consideration of the overrun, which depends upon factors including the depressurization and switching times of the valves (depressurization in this case is at a higher level via the valve 0V1), to be shorter than the time to attainment of the hazard (see also EN ISO 13855 and cf. sub- clause 6.2.14). • The standard component K1 is employed in accordance with the information in subclause 6.3.10. • The software (SRASW) is programmed in accordance with the requirements for PL b (downgraded owing to diver- sity) and the information in subclause 6.3. 133 8 Circuit examples for SRP/CS Calculation of the probability of failure • MTTF of the functional channel: a B value of 20,000,000 switching cycles [S] is assumed for the directional con- D 10D trol valve 1V1. At 240 working days, 16 working hours per day and a cycle time of 5 seconds, n is 2,764,800 swit- op ching cycles per year and the MTTF is 72.3 years. This is also the MTTF value for the functional channel. D D • MTTF of the test channel: an MTTF value of 150 years [E] is assumed for the displacement measurement system D D 1S1. An MTTFvalue of 50 years [E] is assumed for the PLC K1. A B value of 20,000,000 cycles [S] applies for the D 10D exhaust valve 0V1. At actuation once daily on 240 working days, the MTTF value for 0V1 is 833,333 years. The D MTTF of the test channel is thus 37.5 years. D • DC : the DC of 60% for 1V1 is based upon comparison of the distance/time characteristic of the hazardous move- avg ment in conjunction with the switching status of the directional control valve. This is also the DC (“low”). avg • Adequate measures against common cause failure (85 points): separation (15), diversity (20), overvoltage protec- tion etc. (15) and environmental conditions (25 + 10) • The combination of the pneumatic control elements satisfies Category 2 with a high MTTF (72.3 years) and low D DC (60%). This results in an average probability of dangerous failure of 7.6 · 10-7 per hour. This satisfies PL d. avg The addition of further SRP/CS in the form of subsystems for completion of the safety function may under certain circumstances result in a lower PL. The wearing element 1V1 should be replaced approximately every seven years (T ). 10D More detailed reference • VDMA technical rule 24584: Safety functions of regulated and unregulated (fluid) mechanical systems (08.16) Figure 8.22: Determining of the PL by means of SISTEMA 134 8 Circuit examples for SRP/CS 135 8 Circuit examples for SRP/CS 8.2.12 Tested hydraulic valve (subsystem) – Category 2 – PL d (Example 12) K1 1S3 G hazardous 1A movement 1S3 1V3b 1V3a K1 K1 1V3 K1 Inputs a b PLC Outputs Q1 L 1V2 Q1 1V1 1Z2 1Z1 M 1S1 1S2 Figure 8.23: 1M 1P 3 Hydraulic valve with electronic testing for the control of hazardous movements Safety functions •Safety-related stop function: stopping of a hazardous movement and prevention of unexpected start-up from the rest position • Only the hydraulic part of the control system is shown here, in the form of a subsystem. Further safety-related control components (e.g. safeguards and electrical logic elements) must be added in the form of subsystems for completion of the safety function. Functional description • Hazardous movements are controlled by the directional control valve 1V3. • Failure of the directional control valve 1V3 between functional tests may result in loss of the safety function. The probability of failure is dependent upon the reliability of the directional control valve. • Testing of the safety function is forced via the PLC K1 by means of a displacement measurement system 1S3. Testing takes place at suitable intervals and in response to a demand of the safety function. Detection of a failure of 1V3 leads to the hydraulic pump 1M/1P being switched off by the contactor Q1. 136 8 Circuit examples for SRP/CS 1V3 1S3 K1 Q1 • Interruption of the hazardous movement by the hydraulic pump generally results in a longer overrun. The distance from the hazard zone must be selected in consideration of the longer overrun. • The test function must not be impaired by failure of the directional control valve. Failure of the test function must not lead to failure of the directional control valve. Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. • 1V3 is a directional control valve with closed centre position, sufficient overlap and spring-centred central position. • The safety-oriented switching position is attained by cancellation of the control signal. • Testing may for example take the form of checking of the distance/time characteristic (displacement measurement system 1S3) of the hazardousmovements in conjunction with the switching position of the directional control valve, with evaluation in a PLC (K1). K1 must not be used for the electrical drive of 1V3. • In order to prevent a systematic failure, the higher-level de-energization function (acting upon the hydraulic pump in this example) is checked at suitable intervals, e.g. daily. • For use in applications with infrequent operator intervention in the hazard zone. This enables the requirement of the designated architecture for Category 2 to be satisfied. The requirement is for testing to be performed immedi- ately upon a demand being made upon the safety function, and for the total time for detection of the failure and placing of the machine in a non-hazardous state, for example in consideration of the overrun, to be shorter than the time to attainment of the hazard (see also EN ISO 13855 and cf. subclause 6.2.14) • The standard component K1 is employed in accordance with the information in subclause 6.3.10. • The software (SRASW) is programmed in accordance with the requirements for PL b (downgraded owing to diver- sity) and the information in subclause 6.3. Calculation of the probability of failure • MTTF of the functional channel: an MTTF of 150 years is assumed for the directional control valve 1V3 [M]. This is D D also the MTTF value for the functional channel, which is first capped to 100 years. D • MTTF of the test channel: an MTTF value of 91 years [M] is assumed for the displacement measurement system D D 1S3. An MTTF value of 50 years [E] is assumed for the PLC K1. A B value of 1,300,000 cycles [S] applies for the D 10D contactor Q1. At actuation once daily on 240 working days, the MTTF value for Q1 is 54,166 years.The MTTF of D D the test channel is thus 32.3 years. The MTTF of the functional channel must therefore be reduced to 64.5 years in D accordance with the underlying analysis model. • DC : the DC of 60% for 1V3 is based upon the comparison of the distance/time characteristic of the hazardous avg movement in conjunction with the switching status of the directional control valve. This is also the DC (“low”). avg • Adequate measures against common cause failure (85 points): separation (15), diversity (20), overvoltage protec- tion etc. (15) and environmental conditions (25 + 10) 137 8 Circuit examples for SRP/CS • The combination of the control elements satisfies Category 2 with a high MTTF (75 years) and low DC (60%). D avg This results in an average probability of dangerous failure of 8.7 · 10-7 per hour. This satisfies PL d. The addition of further SRP/CS in the form of subsystems for completion of the safety function may under certain circumstances result in a lower PL. Figure 8.24: Determining of the PL by means of SISTEMA 138 8 Circuit examples for SRP/CS 139 8 Circuit examples for SRP/CS 8.2.13 No-load sensing system for studio hoists – Category 2 – PL d (Example 13) + K22 B1 K8 Watchdog + UB s P u o p w p e l r y + Trigger + K2 K16 + & L1 L2 L3 K19 Slack-cable detection K7 Voltage K3 K17 monitoring & K9 K10 K20 K4 K18 + & K1 RESET K21 K5 K6 & ≥1 K19 K20 + B2 K13 K19 K21 K11 Micro- + Figure 8.25: controller K14 K20 + M Combined M1 K12 + 3~ electromechanical Slack-cable detection K15 K21 and programmable RxD Remote control electronic control system for the IR Up prevention of IRreceiver transmitter down no-load states on studio hoists Safety function • No-load/slack-cable detection: should a slack cable or suspension element be detected on a studio hoist, the downward movement is stopped (STO – safe torque off). Functional description • Studio hoists driven by electric motors are widely used in studio and stage applications. During downward move- ment, the cable may become slack should the load stick or tilt or come to rest on other objects. In such cases, a risk exists for example of the obstruction suddenly giving way, the load slipping, and danger consequently arising for persons in the hazard zone. • Upward and downward movements of the studio hoist can for example be controlled by means of an infrared remote control. This function is not evaluated here; it must, however, always be implemented with consideration for safety. • In order for the studio hoist to be prevented from falling in the event of breakage of one suspension element, the load is borne by two suspension elements. A slack-cable switch B1/B2 with a break-contact element/make-contact element combination is fitted to each suspension element. • The microcontroller K1 evaluates the switching states of the slack-cable switches B1 and B2. Via logic gates K2/K3 and optocoupled transistor amplifiers K16/K17, K1 also controls the contactor relays K19 and K20 for the upward and downward movements of the studio hoist. • The switching states of the contacts of the slack-cable switches B1 and B2 are evaluated by the microcontroller K1 and tested for plausibility. For testing of the inputs used on the microcontroller, forced dynamics is employed on the signals from the slack-cable switch B1. This involves the microcontroller forcing a temporary signal change via the logic gates K5 and K6, in order to ascertain whether the inputs are still able to transmitReport 2/2008e): The changes between the second and third editions of the standard, and its future development, are discussed at • References updated the end of the chapter. • New subclause 4.4 concerning changes arising from 4.1 Identification of safety functions and the third edition of the standard, 2015 their properties • Subclause 4.5 (formerly 4.4) concerning future deve- The design and assessment process begins with a well- lopment of the standard updated tried concept, that of the definition of one or more safety functions (SFs). The procedure is shown in Figure 4.1 by blocks 1 to 3, and is described in greater detail in Chap- This chapter cross-references the further chapters and ter 5. The question to be answered is: in what way do annexes of this report to the standard. At the same time, the safety-related parts of the control system contribute it provides an overview of the iterative process for design towards reducing the risk of a hazard on a machine? From risk analysis (EN ISO 12100) 1 Identification of safety functions (SFs) 2 Specification of the characteristics of each SF 3 Determination of required PL (PL) r 4 Realisation of SFs, identification of SRP/CSs Evaluation of PL for SRP/CSs concerning 5 Category, MTTF D , DC avg , CCF Software and systematic failure For each SF Verification: no 6 PL ≥ PL ? r yes Validation: no 7 requirements met? Figure 4.1: yes Iterative process for the design of safety- related parts of control systems: All SFs no SF = safety function; PL = Performance 8 analysed? Level; PL = required Performance Level; r SRP/CS = safety-related part of a control To risk analysis yes system; MTTF = mean time to dange- D (EN ISO 12100) rous failure; DC = average diagnostic avg coverage; CCF =the signal change. Forced dynamics of the signals of one slack-cable switch is sufficient. 140 8 Circuit examples for SRP/CS B1 K10 K6 K1 K2 K16 K3 K17 K19 K20 K22 B2 K11 K12 K9 K5 K7 K8 K4 K18 K13 K14 K15 K21 • Self-tests of the integrated units such as the ALU, RAM and ROM are performed in the microcontroller K1. The vol- tage monitor K7 monitors the supply voltage generated by means of K22. Faults in the microcontroller are detected by temporal monitoring of the program sequence in the watchdog K8. The components K19 to K21 for control of the studio hoist‘s upward and and downward movements are monitored by means of readback – decoupled by optocouplers K13 to K15 – in the microcontroller. Should a fault be detected, the studio hoist is shut off at a higher level by the component detecting the fault via the contactor relay K21, actuated by logic gate K4 and decoupled by optocoupler K18. If the watchdog K8 is not retriggered in time by the microcontroller K1, the movement of the studio hoist is stopped from K8 via all logic gates K2 to K4. Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. Protective circuits as described in the initial paragraphs of Chapter 8 are implemented. • A slack cable is detected redundantly for both suspension elements via the two slack-cable switches B1 and B2. These switches contain position switches with direct opening action in accordance with IEC 60947-5-1, Annex K. • A stable arrangement is assured for the operating mechanism of the slack-cable switches. • K19 to K21 possess mechanically linked contact elements to IEC 60947-5-1, Annex L. • The software (SRESW) for K1 is programmed in accordance with the requirementsfor PL d and the information in subclause 6.3. Remarks • DIN 56950-2, subclause 5.2.1 requires two suspension elements in order to prevent a studio hoist and its load from falling. • Visual inspections and maintenance of the suspension elements must be performed at suitable intervals. • Parts of the circuit structure as shown are not explicitly designed to prevent possible hazards resulting from un expected movement of the studio hoist. • As the calculation of the probability of failure shows, the circuit structure used attains PL d for the safety function under consideration here. Use of the risk graph to determine the required Performance Level PL with the para- r meters S2, F1 and P1 in accordance with DIN 56950-2, subclause A.1.2.3.3 results in a PL of c, provided the stu- r dio hoist is operated under supervision and only by skilled personnel. Should this not be the case, a PL of d is r required. Calculation of the probability of failure • Components are grouped into blocks in Figure 8.25 in the interests of clarity. K9 to K15 each contain one optocoup- ler and two resistances. K16 to K18 additionally each contain a transistor for driving the downstream contactor relays. • For application of the simplified procedure for estimation of the achieved PL, the components in the circuit are assigned to the blocks of the designated architecture for Category 2 as follows: I: B1 L: K10, K6, K1, K2, K16, K3, K17, K22 O: K19, K20 TE: B2, K11, K12, K9, K5, K7, K8, K4, K18, K13, K14, K15 OTE: K21 141 8 Circuit examples for SRP/CS • MTTF : the MTTF values required for the calculation were sourced primarily from EN ISO 13849-1 [S], and from D D SN 29500-2 and SN 29500-14 [D]. The following valuesare substituted for B1 and B2: B : 100,000 cycles [E]; 10D n : 10 cycles per year. For the contactor relays K19 to K21: B : 400,000 cycles [S]; n : 10 cycles per day on op 10D op 365 working days. An MTTF of 1,141 years [D] is substituted for the microcontroller K1. The following MTTF values D D are sub stituted for the electronic components [D]: 4,566 years for the watchdog K8, 5,707 years for the optocoup- lers K9 to K18, 22,831 years for the logic gates K2 to K6, 38,052 years for the voltage monitor K7, 45,662 years for transistors and 228,310 years for resistors. An MTTF of 228 years [E] is assumed for the power supply K22. Summa- D tion of the failure rates for all components of the functional channel (blocks I, L and O) produces an MTTF value of D 128 years. This value is capped to 100 years (“high”) in accordance with the requirements of the standard. • The MTTF of the test channel is produced by summation of the failure rates of all components of blocks TE and D OTE. The resulting value of 389 years is greater than or equal to half of the MTTF of the functional channel. D • DC : the DC is 60% for B1, K10 and K6 owing to cross monitoring of B1 and B2 in K1 with a low demand rate upon avg the safety function. The DC is 60% for K1 owing to temporal monitoring of program sequence and self-tests of sim- ple effectiveness. The DC is 99% for K2, K3, K16, K17, K19 and K20 owing to direct monitoring by means of mecha- nically linked contact elements. For K22, the DC is 99%. The averaging formula returns a result of 93% (“medium”)for DC . avg • Adequate measures against common cause failure (65 points): separation (15), overvoltage protection (15) and environmental conditions (25 + 10) • The combination of the control elements satisfies Category 2 with a high MTTF of the functional channel D (100 years) and medium DC (93%). This results in an average probability of dangerous failure PFH of avg D 2.3 · 10-7 per hour. This satisfies PL d. More detailed references • DIN 56950-2: Entertainment technology – Machinery installations – Part 2: Safety requirements for studio hoists (09.14). Beuth, Berlin, Germany 2014 • DGUV Information 215-310: Sicherheit bei Veranstaltungen und Produktionen – Leitfaden für Theater, Film, Hör- funk, Fernsehen, Konzerte, Shows, Events, Messen und Ausstellungen (formerly BGI 810). Published by: Deutsche Gesetzliche Unfallversicherung e.V. (DGUV), Berlin, Germany 2016 http://publikationen.dguv.de/dguv/pdf/10002/215-310.pdf • SN 29500: Ausfallraten – Bauelemente – Erwartungswerte. Published by: Siemens AG, Corporate Technology, Technology & Innovation Management, Munich, Germany 2004-2014 142 8 Circuit examples for SRP/CS Figure 8.26: Determining of the PL by means of SISTEMA 143 8 Circuit examples for SRP/CS 8.2.14 Pneumatic valve control (subsystem) – Category 3 – PL d (Example 14) hazardous 2Z1 movement 1A 2S1 G 1S1 P 1V1 2V1 0S1 further loads and P control systems 0V1 0Z Figure 8.27: Tested pneumatic valves for redundant control of hazardous movements Safety functions • Safety-related stop function: stopping of the hazardous movement and prevention of unexpected start-up from the rest position, implemented by safety sub-functions SSC and SBC • Only the pneumatic part of the control system is shown here, in the form of a subsystem. Further SRP/CS (e.g. safeguards and electrical logic elements) must be added in the form of subsystems for completion of the safety function. Functional description • Hazardous movements are controlled/stopped redundantly by a directional control valve 1V1 anda brake 2Z1 on the piston rod respectively. The brake 2Z1 is actuated by a control valve 2V1. • Failure of one of these valves or of the brake alone does not result in loss of the safety function. • The directional control valve and the brake are actuated cyclically in the process. 144 8 Circuit examples for SRP/CS 1V1 2V1 2Z1 2S1 1S1 • The functioning of the control valve 2V1 is monitored by means of a pressure switch 2S1. Certain faults on the unmonitored directional control valve 1V1 and the unmonitored brake 2Z1 are detected in the work process. In addition, the overrun (distance/time characteristic) during the braking process (dynamic) and/or at start-up of the machine (static) is monitored with the aid of a displacement measurement system 1S1 on the piston rod. An accu- mulation of undetected faults may lead to loss of the safety function. • Testing of the safety function is implemented at suitable intervals, for example at least every eight working hours. • The test function must not be impaired by failure of the brake. Failure of the test function must not lead to failure of the brake. • Should trapped compressed air pose a further hazard, additional measures are required. Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. • The directional control valve 1V1 features a closed centre position with sufficient overlap and spring-centred central position. • The safety-oriented switching position is assumed from any position by cancellation of the control signal. • Signals from the pressure monitor 2S1 and the displacement measurement system 1S1 are processed for example in the upstream electrical logic (not shown). Calculation of the probability of failure • MTTF : B values of 20,000,000 cycles [S] are assumed forthe valves 1V1 and 2V1. At 240 working days, D 10D 16 working hours and a cycle time of 15 seconds, n is 921,600 cycles per year. The MTTF for 1V1 and 2V1 is thus op D 217 years. A B value of 5,000,000 switching cycles [M] is substituted for the mechanical brake on the piston rod 10D 2Z1. This results in an MTTF of 54 years for the mechanical brake. Overall, the resulting symmetrized MTTF value D D per channel is 75 years (“high”). • DC : pressure monitoring of the control signal for the brake results in a DC of 99% for the control valve 2V1. The avg DC for the directional control valve 1V1 is 60% owing to fault detection through the process. Start-up testing of the mechanical brake yields a DC of 75% for 2Z1. Averaging thus produces a DC of 76.5% (“low”). avg • Adequate measures against common cause failure (85 points): separation (15), diversity (20), overvoltage protec- tion etc. (15) and environmental conditions (25 + 10) • The combination of the pneumatic control elements satisfies Category 3 with a high MTTF per channel (75 years) D and low DC (76.5%). This results in an average probability of dangerous failure of 1.1 · 10-7 per hour. This satisfies avg PL d. The addition of further SRP/CS in the form of subsystems for completion of the safety function may under certain circumstances result in a lower PL. • The wearing brake 2Z1 should be replaced at intervals of approximately five years (T ). 10D 145 8 Circuit examples for SRP/CS More detailed reference • VDMA technical rule 24584: Safety functions of regulated and unregulated (fluid) mechanical systems (08.16) Figure 8.28: Determining of the PL by means of SISTEMA 146 8 Circuit examples for SRP/CS 147 8Circuit examples for SRP/CS 8.2.15 Protective device and hydraulics controlled by PLC – Category 3 – PL d (Example 15) hazardous + + Laser scanner 1A movement S1 START F1 1V5 a b K1 K1 1S3 K1 K1 1S3 Inputs G 1V4 1V3 Safety PLC Outputs K1 1V5a 1V5b 1V2 1V3 Figure 8.29: 1V1 1Z2 Detection zone monitoring by 1Z1 laser scanner with M 1S1 1S2 1M 1P 3 electrohydraulic deactivation of the hazardous movement Safety function • Safety-related stop function, initiated by a protective device: penetration of the laser scanner‘s detection zone results in stopping of the hazardous movement. Functional description • The laser scanner F1 monitors, with its detection zone, the area in which movement of the cylinder 1A may present a danger to the operator. The output signal of the laser scanner is read in on two channels by the safety PLC K1. Following any violation of the detection zone, the next movement must be enabled by actuation of a start button S1 evaluated in K1 (restart interlock). K1 controls the movement of 1A with the aid of the hydraulic part of the control system. • The hydraulic part of the control system comprises a two-channel arrangement. The first channel comprises direc- tional control valve 1V3, which acts upon the pilot-operated non-return valve 1V4. In the closed position, 1V4 blocks movements of 1A. The second channel consists of the directional control valve 1V5, which in its closed centre posi- tion also prevents movement of 1A. • 1V5 is actuated cyclically in the process. 1V3 and 1V4 close only in the event of violation of the detection zone (demand of the safety function), but at least once per shift. • Direct position monitoring 1S3 is implemented on 1V4 and evaluated in K1 as a fault detection measure. Faultsin 1V5 can be detected via the process owing to the function. An accumulation of undetected faults in the hydraulic part of the control system may lead to loss of the safety function. 148 8 Circuit examples for SRP/CS 1V3 1V4 F1 K1 1V5 1S3 Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. Protective circuits (such as contact protection) as described in the initial paragraphs of Chapter 8 are implemented. • Faults in the conductors to F1 and K1 must not be hazardous in their effects. For this purpose, faults are detected as they arise, and the safe state is initiated. Alternatively, fault exclusion to EN ISO 13849-2, Table D.4 must be possible for conductor short circuits. • The laser scanner F1 and safety PLC K1 are tested safety components for use in PL d that satisfy Category 3 and the relevant product standards. • The directional control valve 1V5 features a closed centre position with sufficient overlap and spring-centred central position. The position of 1V4 is monitored electrically, since 1V4 is not switched cyclically. • The software (SRASW) is programmed in accordance with the requirements for PL d and the information in sub- clause 6.3. • It is assumed that each output of the safety PLC is driven by both processing channels of the PLC. Should this not be the case, the outputs that drive 1V3 and 1V4 are driven by one channel of the PLC, the output that drives 1V5 by the other. Calculation of the probability of failure • Since the laser scanner F1 and the safety PLC K1 are available for purchase as safety components, their probabi- lities of failure are added at the end of the calculation (F1: PFH = 8.0 · 10-8 per hour[M], K1: PFH = 2.5 · 10-9 per D D hour [M]). For the hydraulic part of the control system, the probability of failure is calculated as shown below. • MTTF : values of 150 years [M] are assumed for the valves 1V3 to 1V5. Overall, this results in a symmetrized MTTF D D value of 88 years (“high”) for the two channels. • DC : a DC of 99% for 1V4 is produced by direct monitoring in K1 with the aid of the position monitor 1S3. Owing to avg the close coupling of 1V3 and 1V4, this results in 1V3 being monitored indirectly at the same time with a DC of 99%. The DC of 60% for 1V5 is based upon fault detection in the process with cyclical actuation. Averaging thus produces a DC of 86% (“low”). avg • Adequate measures against common cause failure (90 points): separation (15), diversity (20), FMEA (5), overvol- tage protection etc. (15) and environmental conditions (25 + 10) • The combination of the control elements in the hydraulic part satisfies Category 3 with a high MTTF per channel D (88 years) and low DC (86%). This results in an average probability of dangerous failure of 6.2 · 10-8 per hour for avg the hydraulic system. • Altogether, the average probability of dangerous failure PFH is (8.0 + 0.25 + 6.2) · 10-8 per hour = 1.4 · 10-7 per hour. D This satisfies PL d. 149 8 Circuit examples for SRP/CS More detailed reference • Bömer, T.: Hinweise zum praktischen Einsatz von Laserscannern (code 310 243). In: IFA-Handbuch Sicherheit und Gesundheitsschutz am Arbeitsplatz. 2nd ed. Suppl. XII/99. Published by: Deutsche Gesetzliche Unfallversicherung e. V. (DGUV), Berlin, Germany. Erich Schmidt, Berlin, Germany 2003 – loose-leaf ed. www.ifa-handbuchdigital.de/310243 Figure 8.30: Determining of the PL bymeans of SISTEMA 150 8 Circuit examples for SRP/CS 151 8 Circuit examples for SRP/CS 8.2.16 Earth-moving machine control system with bus system – Category 2/3 – PL d (Example 16) Figure 8.31: Control of hazardous movements of an earth-moving machine Hazardous 1A movement 1S4 K4 G 1V4 a b R1 R2 1V3 K4 1V2 1V1 1Z2 1Z1 M 1S1 1S2 1M 1P 3 1V4b + K7 R2 S1 K8 MPC Measurement amplifier Serial data 1V4a transmission + line K5 K1 K3 R1 Message 1 Bus µC 1 transceiver 1 K6 Measurement amplifier K2 K4 1S4 Message 2 Bus transceiver 2 µC 2 1V3 152 8 Circuit examples for SRP/CS K1 S1 K3 K5 R1 K6 K7 R2 K8 1V4 K2 K4 1S4 1V3 Safety functions • Safety-related stop function: stopping of the hazardous movement and prevention of unexpected start-up from the rest position of tools on earth-moving machinery. • Further safety-related functions, such as that for preventing an incorrect direction of movement being selected for tools on the earth-moving machine, are not considered in this example. Functional description • The multi-purpose control (MPC) S1 converts the operator‘s manual movement of it into electronic messages. It sends these messages cyclically over a serial data communications line (bus system) to the logic control. This generates control signals for the hydraulics, which in turn executes the working movements of the earth-moving machine desired by the operator. • The message 1 sent by the MPC S1 reaches the microcontroller K3 via the bus transceiver K1. From message 1 and in accordance with the algorithms stored in the software, K3 generates the analog signals required for actuation of the proportional valve 1V4. The resistances R1/R2 and the measuring amplifiers K6/K8 have the function of cont- rolling the output currents for the proportional valve. Thecommon cause failure 19 4 Report and standard: an overview In the first instance, a machine should be constructed is conducted to ascertain whether the required risk such that it is no longer able to present a hazard in use reduction, the target PL value (block 6 in Figure 4.1), can r (inherent safety). The second step is then that of reducing be attained by means of the planned implementation the risk of any hazard that may still arise. This can be (blocks 4 and 5 in Figure 4.1) with the actual PL value. attained by protective measures, which often comprise The steps of blocks 4 and 5 are described in detail in a combination of protective equipment and safe control. Chapter 6. Following the tradition of the previous control In order for these protective measures to attain a defined system reports, Chapter 8 of this report also contains quality in consideration of the risk, an essential step is a large number of formulated circuit examples for all that of risk assessment, as required by the Machinery control technologies and each Category. In addition, the Directive and described in EN ISO 12100 [3]. Protective general descriptions contained in Chapters 5, 6 and 7 are devices are regarded in the sense of EN ISO 13849-1 accompanied by a comprehensive description of a circuit (safeguards) together with the safe control as the safety- example (paper cutting guillotine). This provides the related part of a control system. Together, they execute a developer with an illustrative explanation of the methods safety function; they may for example prevent unexpected and parameters described below. start-up when an operator enters a hazard zone. Since a machine can easily have several safety functions (for Safety-related parts of control systems are able to exert example for automatic and setupmicrocontroller K4 receives a redundant message 2 from S1 via the bus transceiver K2. Within the response time/process safety time, K4 checks the correct displacement of the proportional valve 1V4, as signalled by the position measuring system 1S4 integrated into 1V4, for plausibility against the desired position determined from message 2. Should faults be detected, K4 switches off the hydraulic pressure at a higher level by means of the directional control valve 1V3, and places the system in the safe state. Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. Protective circuits (such as contact protection) as described in the initial paragraphs of Chapter 8 are implemented. • The MPC is a safety component suitable for use in PL d and satisfies the requirements for Category 3. • In accordance with the functional description, processing of the control information and actuation of the valves are effected within a Category 2 structure. Within this structure, K4 and 1S4 form the test channel with 1V3 as the shut- off element of the test channel. • Owing to the continual monitoring of 1V4 by K4 through 1S4, failure of 1V4 can be detected as soon as a demand is made upon the safety function. 1V3 must execute the safe response within the response time in order for the struc- ture of the control to satisfy Category 2. Abrupt switching of 1V3 at a higher level must not give rise to hazards. • The proportional valve 1V4 and the directional control valve 1V3 have a closed position/closed centre position, spring centred central position, and sufficient overlap. • The software (SRESW) for K3 and K4 is programmed in accordance with the requirements for PL d and the informa- tion in subclause 6.3. 153 8 Circuit examplesfor SRP/CS • Data transfer from the MPC to the logic control is safe in accordance with GS-ET-26/IEC 61784-3. The data commu- nications protocol employed contains redundant messages with comparison between K3 and K4, and measures for detection of the following transmission errors: repetition, loss, insertion, incorrect sequence, corruption, delay and masquerade (see also subclause 6.2.18). The residual error rate Λ is lower than 1 · 10-8 per hour and thus con- tributes, as specified in the assessment standards, less than 1% towards the maximum permissible probability of failure of the safety function. Modelling is in Category 4; the resulting component in the calculation of the overall probability of failure is negligible. Remarks • An emergency motion function of the earth-moving machine, which is not shown here, may be required; if so, it must be implemented at a higher level. Calculation of the probability of failure • The multi-purpose control S1 is a commercial safety component. The associated probability of failure is added at the end of the calculation (PFH = 3.0 · 10-7 per hour [E]). For the remaining part of the control system, the probabi- D lity of failure is calculated below. • MTTF of data communication: an MTTF of 11,416 years [D] is assumed for the bus transceivers K1 and K2. This is D D capped in Category 4 to the maximum value of 2,500 years. • DC of data communication: DC = 99% for K1 and K2 by cross monitoring of the messages in the microcontrollers avg K3 and K4. • The calculated probability of failure of data communication is a PFH of 9.1 · 10-10 per hour. D • Adequate measures against common cause failure (65 points): separation (15), overvoltage protection (15) and environmental conditions (25 + 10). This analysis also applies to the downstreamparts of the control system. • MTTF of the functional channel of the logic and hydraulic control system: in accordance with SN 29500-2, an MTTF D D of 878 years [D] is considered for the microcontroller K3, including its peripherals. The following values are substi- tuted for the further electrical components [D]: 45,662 years for the switching transistors K5 and K7, 228,311 years for the resistances R1 and R2, and 1,142 years for the measuring amplifiers K6 and K8. An MTTF of 150 years [S] is D assumed for the proportional valve 1V4. The MTTF value of the functional channel is thus 104 years. D • MTTF of the test channel of the logic and hydraulic control: in accordance with SN 29500-2, an MTTF of 878 years D D [D] is considered for the microcontroller K4, including its peripherals. An MTTF of 75 years [E] is assumed for the D position measuring system 1S4. An MTTF of 150 years [S] is assumed for the directional control valve 1V3. The D MTTF value of the test channel is thus 47 years. Use of the simplified procedure described in the standard for esti- D mation of the quantifiable aspects of the PL is conditional upon the MTTF of the test channel being greater than D half the MTTF of the functional channel. The MTTF value of the functional channel is therefore reduced to 94 years. D D • DC of the functional channel of the logic and hydraulic control: the DC for K3 is 60% owing to cross monitoring avg with K4 and self-tests of simple effectiveness by means of software; the DC for the remaining electrical compo- nents is 90% owing to fault detection in K4 by means of the position measuring system 1S4. The DC for 1V4 is 99% owingto direct monitoring of the position via 1S4 in K4. The averaging formula for DC produces a result of 93% avg (“medium”). • The logic and hydraulic control satisfies Category 2 with a high MTTF of each channel (94 years) and medium DC D avg (93%). This results in an average probability of dangerous failure PFH of 2.5 · 10-7 per hour. D • The average probability of dangerous failure of the safety function is produced by addition of the proportions for the MPC, the data communication and the logic and hydraulic control, yielding a PFH of 5.5 · 10-7 per hour. This D satisfies PL d. 154 8 Circuit examples for SRP/CS More detailed references • ISO 15998: Earth-moving machinery – Machine control systems (MCS) using electronic components – Performance criteria and tests (04.08). ISO, Geneva, Switzerland 2008 • IEC 61784-3: Industrial communication networks – Profiles – Part 3: Functional safety fieldbuses – General rules and profile definitions (2016). IEC, Geneva, Switzerland 2016 • Grundsätze für die Prüfung und Zertifizierung von „Bussystemen für die Übertragung sicherheitsrelevanter Nachrichten“ (GS-ET-26) (03.14). Published by: Fachbereich Energie Textil Elektro Medienerzeugnisse, Cologne, Germany 2014. www.dguv.de, Webcode: d14884 • SN 29500: Failure rates of components – Expected values. Published by: Siemens AG, Corporate Technology, Technology & Innovation Management, Munich, Germany 2004-2014 Figure 8.32: Determining of the PL by means of SISTEMA 155 8 Circuit examples for SRP/CS 8.2.17 Cascading of guards by means of safety modules – Category 3 – PL d (Example 17) Figure 8.33: Cascading of guards by means of safety modules (emergency stop function, STO) + S1 L S1.1 S1.2 K1 Q1 Safeguard 1 Open B2 B1 T1 n desired Closed Controller K2 FI inhibit Q1 Open Safeguard 2 M Closed B3 3 B3.1 B3.2 K3 Q1 Shown in the actuated position156 8 Circuit examples for SRP/CS B2 Q1 K2 B1 T1 Safety functions • Safety-related stop function, initiated by a guard: opening of the moveable guard initiates the safety function STO (safe torque off): Guard 1 with type 1 position switches (loading) Guard 2 with type 2 position switch (unloading) • Emergency stop function, STO – safe torque off by actuation of the emergency stop device Functional description • Actuation of the emergency stop device S1 possessing two direct opening contacts causes hazardous movements or states to be de-energized redundantly via the safety module K1, by interruption of the control voltage of the con- tactor Q1 and selection of the controller inhibit of the frequency inverter T1. • In addition, a hazard zone is guarded by two moveable guards (e.g. one each for loading and unloading). Opening of guard 1 is detected by two position switches B1/B2 employing a break contact/make contact combination, and evaluated in a central safety module K2. The latter can interrupt or prevent hazardous movements or states in the same way as K1. Guard 2 is monitored by a type 2 position switch with the contacts B3.1 and B3.2 and a safety module K3, also acting upon Q1 and T1. • The safety function is retained in the event of a component failure. • The majority of component failures are detected and lead to operating inhibition. The position switches B1 and B2 on guard 1 are monitored for plausibility in the associated safety module. The safety module also employs internal diagnostics measures. • The electrical contacts B3.1 and B3.2 are monitored for plausibility in the associated safety module K3. This also employs internal diagnostics measures. • Faults in the contactor Q1 are detected by means of mirror contacts and their readback in K2 and K3. Additionalreadback in K1 is not necessary, since a demand for the emergency stop function is much less frequent. A part of the faults in T1 are detected by the process. A small number of faults are not detected by the controller. • Organizational measures ensure that the emergency-stop device is actuated at least once a year. Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. Protective circuits (such as contact protection) as described in the initial paragraphs of Chapter 8 are implemented. • A stable arrangement of the guards is assured for actuation of the position switches. • The emergency stop device S1 with the direct opening contacts S1.1 and S1.2 satisfies EN ISO 13850. • The contacts of the position switches B2 and B3 have direct opening action in accordance with IEC 60947-5-1, Annex K. • The supply conductors to the position switches B1, B2 and B3 are laid separately or with protection. • The contactor Q1 possesses mirror contacts in accordance with IEC 60947-4-1, Annex F. 157 8 Circuit examples for SRP/CS • The safety modules K1, K2 and K3 satisfy all requirements for Category 4 and PL e. • The frequency inverter T1 has no integral safety function. Remarks • The emergency stop function is a complementary protective measure to EN ISO 12100 [3]. Calculation of the probability of failure • Each of the three safety functions can be presented in three subsystems. The safety-related block diagram shows the safety-related stop function by way of example for one of the safeguards, since only one guard is opened at any given time. A comparable safety function with a virtually identical calculation of the probability of failure applies to the second guard. Reasoning must be provided for fault exclusion forbreakage of the actuator of the position switch B3. The probability of failure of the subsystems is calculated as follows. • S1 is a standard emergency stop device to EN ISO 13850. A B value of 100,000 switching cycles for each contact 10D can be substituted for emergency stop devices, irrespective of the load [S]. Three actuations per year is assumed for n . In consideration of the total switching operations of Q1 caused by actuation of the safeguards, this value is op not applied during further analysis of the two safety functions. • MTTF (guard 1, loading): switch B1 is a position switch with make contact. The B is 1 · 105 switching cycles [M]. D 10D For the position switch B2 with direct opening action and roller actuation, the B is 20 · 106 switching cycles [M]. 10D At 220 working days, 16 working hours per day and a cycle time of 10 minutes, n is 21,120 cycles per year for op these components, and the MTTF is 47.3 years for B1 and 9,469 years for B2. D For the contactor Q1, the B value corresponds under inductive load (AC 3) to an electrical durability of 1,000,000 10 switching cycles [M]. If 50% of failures are assumed to be dangerous, the B value is produced by doubling of the 10D B value. Since Q1 is involved in both safety-related stop functions, double the value assumed above for n yields 10 op an MTTF of 473 years. The MTTF for the frequency inverter T1 is 20 years [M]. Altogether, the symmetrized MTTF D D D value per channel in the subsystem Q1/T1 is 68.9 years (“high”). The position switch B1 exhibits a limited opera- tion time of 4.7 years. Its replacement in good time is recommended. • MTTF (guard2, unloading): for the position switch B3 with separate actuator and the direct opening contacts B3.1 D and B3.2, a B value of 4,000,000 cycles [M] is stated for each contact. At 220 working days, 16 working hours per 10D day and a cycle time of 10 minutes, n for these components is 21,120 cycles per year, and the MTTF 1,893 years. op D For the contactor Q1, the B value corresponds under inductive load (AC 3) to the electrical durability of 1,000,000 10 switching cycles [M]. Since 50% of failures are assumed to be dangerous, the B value is produced by doubling of 10D the B value. Since the contactor Q1 is involved in both safety-related stop functions (loading and unloading), dou- 10 bling the value assumed for n yields an MTTF of 473 years. The MTTF for the frequency inverter T1 is 20 years [M]. op D D Altogether, the symmetrized MTTF value per channel in the subsystem Q1/T1 is 68 years (“high”). D • DC : the DC of 99% for B1 and B2/B3 is based upon plausibility monitoring in K2/K3. This corresponds to the DC avg avg for the subsystem. The DC of 99% for the contactor Q1 is derived from readback of the contact position in the safety modules. Fault detection by the process yields a DC of 60% for the frequency inverter T1. Averaging thus results in a DC of 62% (“low”) for the subsystem Q1/T1. An adequate test rate of the emergency-stop device is assured (refer avg to the information in subclauses 6.2.14 and D.2.5.1). • Adequate measures against common cause failure in the subsystems S1.1/S1.2, B2/B1, B3.1/B3.2 and Q1/T2 (65, 70 or 85 points): separation (15), protection against overvoltage etc. (15) and environmental conditions (25 + 10), well-tried components in B2/B1 (5),diversity in Q1/T1 (20) • The subsystems B1/B2 and B3.1/B3.2 correspond to Category 4 with a high MTTF and high DC (99%). This results D avg in an average probability of dangerous failure of 3.3 · 10-8 per hour and 2.5 · 10-8 per hour. The subsystem Q1/ T1 satisfies Category 3 with a high MTTF (68.9 years) and low DC (62%). This results in an average probability D avg of dangerous failure of 1.8 · 10-7 per hour for the safety function of “position monitoring of interlocking devices (guard 1, loading)”. 158 8 Circuit examples for SRP/CS • For the safety function of “position monitoring of interlocking devices (guard 2, unloading)”, the average probabi- lity of dangerous failure is 2.1 · 10-7 per hour. This corresponds in both cases to PL d. • The average probability of dangerous failure for the emergency stop function is 2.0 · 10-7 per hour. This satisfies PL d. Figure 8.34: Determining of the PL by means of SISTEMA 159 8 Circuit examples for SRP/CS 8.2.18 Position monitoring of movable guards – Category 3 – PL d (Example 18) + Open L B1 Q1 Q2 Q1 B2 Closed Q2 K1 I1.0 I1.1 I1.2 I1.3 Inputs PLC M 3 Outputs O1.0 O1.1 Q1 Q1 Figure 8.35: Redundant position Q2 monitoring of a movable guard in diversified technology (electromechanical Shown in the actuated position and programmable electronic) Safety function • Safety-related stop function, initiated by a guard: opening of the movable guard (safety guard) initiates the safety function STO (safe torque off). Functional description • Opening of the movable guard (e.g. safety guard) is detected by two position switches B1 and B2 employing a break contact/make contact combination. The position switch B1 with direct opening contact actuates a contactor Q2, which interrupts/prevents hazardous movements or stateswhen it drops out. The position switch B2 with make contact is read in by a standard PLC K1, which can bring about the same de-energization response by actua- tion of a second contactor Q1. • The safety function is retained in the event of a component failure. • The switching position of B1 is also read into the PLC K1 by means of a make contact, and is compared for plausibi- lity with the switching position of B2. The switching position of the contactors Q1 and Q2 is likewise monitored in K1 by mirror contacts. Component failures in B1, B2, Q1 and Q2 are detected by K1 and lead to operating inhibition owing to the dropping-out of Q1 and Q2. Faults in the PLC K1 are detected only by the function (fault detection by the process). 160 8 Circuit examples for SRP/CS B1 Q2 B2 K1 Q1 Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. Protective circuits (such as contact protection) as described in the initial paragraphs of Chapter 8 are implemented. • A stable arrangement of the guard is assured for actuation of the position switch. • B1 is a position switch with a dirct opening contact in accordance with IEC 60947-5-1, Annex K. • The supply conductors to the position switches are laid separately or with protection. • Faults in the actuating and operating mechanism are detected by the use of two position switches differing in the principle of their operation (break and make contacts). • Q1 and Q2 possess mirror contacts in accordance with IEC 60947-4-1, Annex F. The PLC K1 satisfies the normative requirements described in subclause 6.3. Calculation of the probability of failure • MTTF : the position switch B1 with roller actuation exhibitsmodes), it is important their risk-reducing effect only if the safety function was for careful consideration to be given to each individual correctly defined from the outset. During the ensuing hazard and the associated safety function. implementation, quality criteria are applied in the form of the quality of the components employed (lifetime), The safety function can be assumed by parts of the their interaction (dimensioning), the effectiveness of machine control system or by components required in diagnostics (e.g. self-tests) and the fault tolerance of the addition to it. In both cases, these parts are safety-related structure. These parameters determine the average pro- parts of control systems. Although the same hardware bability of a dangerous failure per hour (PFH ) and thus D may well be involved in the performance of different the attained PL. EN ISO 13849-1 places the methods by safety functions, the required quality of the risk reduc- which the PL is calculated at the user‘s discretion. Even tion for each SF may differ. In the standard, the quality the highly complex Markov modelling method may there- of the risk reduction is defined by the term “Performance fore be used, subject to the parameters stated above. Level” (PL). The result of the risk assessment determines The standard, however, describes a much simplified the level of the PL value required for the safety function. procedure, namely the use of designated architectures This specification for the design of the control system is with application of a bar chart (see Page 61, Figure 6.10), de scribed as the “required Performance Level”, PL. How in which the modelling of the PL is already taken up. r is the PL obtained? Experts interested in the bar chart‘s derivation will find it r in Annex G. The risk of a hazard on a machinea B of 20 · 106 switching cycles [M]. For position D 10D switch B2 (make contact), the B is 100,000 switching cycles [M]. At 365 working days, 16 working hours per day 10D and a cycle time of 1 hour, n for these components is 5,840 cycles per year and the MTTF is 34,246.6 years for B1 op D and 171 years for B2. For the contactors Q1 and Q2, the B value corresponds under inductive load (AC 3) to an elec- 10 trical durability of 1,300,000 switching cycles [M]. On the assumption that 50% of failures are dangerous, the B 10D value is produced by doubling of the B value. The above assumed value for n results in an MTTF of 4,452 years 10 op D for Q1 and Q2. An MTTF value of 15 years [M] is substituted for the PLC, doubling of which results in an MTTF value D of 30 years. The combination of B1 and Q2 results in an MTTF of 3,940 years for the first channel; B2, K1 and Q2 D contribute to an MTTF of 25.4 years in the second channel. Altogether, the MTTF value symmetrized over both D D channels is 70 years per channel (“high”). The position switch B2 exhibits a limited operation time of 17.1 years. Its replacement in good time is recommended. • DC : the DC of 99% for B1 and B2 is based upon plausibility monitoring of the two switching states in the PLC K1. avg The DC of 99% for the contactors Q1 and Q2 is derived from readback via mirror contacts, also in K1. Owing to the possibility of fault detection by the process, a DC of 60% is assumed for K1. Averaging thus produces a DC of avg 66.2% (“low”). • Adequate measuresagainst common cause failure (65 points): separation (15), overvoltage protection etc. (15) and environmental conditions (25 + 10) • The combination of the control elements satisfies Category 3 with a high MTTF (70 years) and low DC (66.2%). D avg This results in an average probability of dangerous failure of 1.6 · 10-7 per hour. This satisfies PL d. 161 8 Circuit examples for SRP/CS Figure 8.36: Determining of the PL by means of SISTEMA 162 8 Circuit examples for SRP/CS 163 8 Circuit examples for SRP/CS 8.2.19 Interlocking device with guard locking – Category 3 – PL d (Example 19) i Changes with respect to the second edition (BGIA Report 2/2008e): The example was comprehensively revised. Figure 8.37: Position monitoring of an interlocking device by means of guard locking Guard locking Open safety guard Mains B1 + L Stop B2 B2.1 B2.2 K4 B3 K4 Start K5 K6 K5 L Open K1 K7 S1 B4 M n = 0 n 3 ~ K2 K4 K5 K5 K4 Safety functions • Guard locking (PL d): access to a hazardous movement is prevented by means of a guard door with guard locking. • Release of guard locking: opening of the safety guard is possible only once the motor has come to a halt. Functional description • Access to a hazardous movement is prevented by a guard door with guard locking until the moving part has come to rest (guard locking safety function). The door is held closed by a spring-actuated pin (the locking element) of a solenoid that prevents the actuator being withdrawn from the switch head until the locking solenoid is actuated. • According to the manufacturer, the guard locking has a fail-safe locking element. 164 8 Circuit examples for SRP/CS B2.1 K4 Guard locking K2 Mechanic B2.2 K5 •When the guard door is open, unexpected start-up of the motor is prevented in two channels by the interlock safety function (not shown). • The pin of the locking element acts directly upon the direct opening contacts B2.1 and B2.2, which are connected to a safety module K2. • The hazardous movement can be started only when the guard door is closed and guard locking activated, since the enabling circuits of K1 and K2 are connected in series. • Actuation of the stop button causes the contactor relays K4 and K5 to drop out. Once the motor has reached a standstill, guard locking can be opened by actuation of the latching switch S1 (safety function: release of guard locking). The stationary state of the motor is detected by two-channel monitoring B4, K7. Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. Protective circuits (such as contact protection) as described in the initial paragraphs of Chapter 8 are implemented. • B1 is an electromechanical guard locking device with fail-safe locking element. Fault exclusion can be assumed for the mechanical components of the guard locking device, including mechanical failure of the locking element and the actuator, when the following conditions are met: – Use in accordance with the operating manual, in particular the installation instructions and technical data (e.g. actuating radius, actuating velocity) – Prevention of working loose – The static forces on the guard locking device are lower than the locking force stated on the data sheet – No dynamic forces arise, since current flows through the unlocking solenoid only when the guard door is closed; refer in this context also to DGUV Informative publication 203-079 concerning the selection and fitting of inter- locking devices – The device is not used asa mechanical stop – The actuator is mounted such that it cannot be removed – Regular maintenance is performed – Positive coupling following fitting – Adequate mechanical strength of all mounting and functional elements – Dropping of the door does not lead to the actuator being used outside the range specified by the manufacturer – Damage that could be caused by foreseeable external influences (such as the ingress of dirt or dust; mechanical shock) is prevented by the form of mounting or need not be anticipated under the given conditions of use • B2.1 and B2.2 are switching elements of the guard locking device with direct opening contacts in accordance with IEC 60947-5-1, Annex K. The manufacturer states a B value for the purposes of calculation. 10D • B3 is a direct opening contact in accordance with IEC 60947-5-1, Annex K, and has the purpose of monitoring the door position. • K4 and K5 possess mechanically linked contacts to IEC 60947-5-1, Annex L. • The safety modules K1 and K2 detect cross-circuits and shorts to earth, and satisfy the requirements of Category 4, PL d of EN ISO 13849-1. • The stationary state monitor consists of the sin/cos encoder B4 and the standstill monitor K7. Both satisfy the requirements of Category 4 and PL e. 165 8 Circuit examples for SRP/CS Calculation of the probability of failure • Fault exclusion can be assumed for the mechanism of the guard locking device B1. Note: On guard locking devices with fail-safe locking element, fault exclusion is possible only in accordance with the manufacturer‘s information. • The manufacturer states a B value of 3,000,000 cycles [M] each for the switching elements B2.1 and B2.2. At 10D actuation once every 10 minutes, n is 17,520 cycles per year and the MTTF is 1,712 years.op D • The contactor relays K4 and K5 have a B value of 1,000,000 cycles [M]. At actuation once every 10 minutes, n is 10D op 17,520 cycles per year and the MTTF is 570 years. D • The manufacturer states a PFH of 3.0 · 10-9 per hour [M] for the safety module K2. D • DC : the DC of 99% for the contacts B2.1 and B2.2 is attributable to direct monitoring in K2. The DC of 99% for K4 avg and K5 is attributable to direct monitoring in K2 by means of mechanically linked contacts. Averaging results in a DC of 99% (“high”). avg • Adequate measures against common cause failure (70 points): separation (15), FMEA (5), overvoltage protection etc. (15) and environmental conditions (25 + 10) • For the safety function “access to a hazardous movement is prevented by means of a guard door with guard locking”, the average probability of dangerous failure PFH is 5.2 · 10-8 per hour. This satisfies PL e. However, since D the position switch (B2) for monitoring of the locking element and the associated actuating mechanism is present only once, the PL is limited to d. • For the safety function “release of guard locking: opening of the guard is possible only once the motor has come to a halt”, the probability of failure is determined only by the sin/cos encoder B4 and the standstill monitor K7. According to the manufacturer‘s information, the PFH for the sin/cos encoder B4 is 1.2 · 10-8 per hour. A PFH of D D 2.0 · 10-8 per hour is stated for the standstill monitor K7 [M]. The PFH of this safety function is 3.2 · 10-8 per hour. More detailed reference • DGUV Informative publication 203-079: Auswahl und Anbringung von Verriegelungseinrichtungen 203-079(12/2015). Published by: Deutsche Gesetzliche Unfallversicherung e.V. (DGUV), Berlin, Germany 2015. http://publikationen.dguv.de/dguv/pdf/10002/203-079.pdf • Principles of testing and certification for interlocking devices with solenoid guard-locking. GS-ET-19E (2015). www.bgetem.de, Webcode: 12700341 166 8 Circuit examples for SRP/CS Figure 8.38: Determining of the PL by means of SISTEMA 167 8 Circuit examples for SRP/CS 8.2.20 Safe stopping of a PLC-driven drive – Category 3 – PL d (Example 20) Figure 8.39: Safe stopping of a PLC-driven frequency inverter drive following a stop or emergency stop command or following tripping of a protective device (in this case, an ESPE) +U EMERGENCY STOP B START/ S4 S2 K1 K2 S4.1 S4.2 ACKNOWLEDGEMENT L Q1 K4 I0 I1 I2 I3 I4 I5 I6 Inputs K3 Q1 PLC Outputs +U B T1 O0 O1 O2 O3 * ESPE * Fast stop FI K3 ON K2 with S3 STO +U Q1 B 1st shut-off path ESPE Start/Stop 2nd shut-off path (delayed) STO1 K2 +U STO2 B STOP S1 K1 +U M1 B Q1 M K1 C1 Q2 with drop-out delay Brake 3 * optional Safety function • Safety-related stop function: following a stop command, an emergency stop command or tripping of a protective device, the drive is halted (SS1-t – safe stop 1, STO is activated with a time delay). Functional description • The hazardous movement is interrupted redundantly if either the stop button S1 or the protective device K3 – shown in the circuit diagram as electro-sensitive protective equipment (ESPE) – is activated. The drive is halted in an emergency following actuation of the emergency stop device S4. In all three cases, stopping is initiated via the output O3 of the PLC K4 by deactivation of the “Start/Stop” input on the frequency inverter (FI) T1. Redundantly to this process, the input “STO2” on T1 is deactivated byde-energization of the contactor relay K1 (with the use of the capacitor C1 for drop-out delay). A further shut-off path exists on the “STO1” input on T1 via the output O2 of the PLC K4: this also causes the brake Q2 to be applied. The first shut-off path is thus implemented directly by the PLC K4; conversely, the second shut-off path employs relay technology and delayed drop-out. The timer settings for O2 in the PLC program and for K1 are selected such that the machine movement is halted even under unfavourable operating conditions. 168 8 Circuit examples for SRP/CS S4.1 K4 T1 Stop T1 S4.2 K2 K1 C1 • Should a “fast stop” input with a particularly short deceleration phase be available on the FI, an ESPE may be connected to it if desired, as shown on the circuit diagram. This option is not considered further below. • In the event of failure of the PLC K4, the “Start/Stop”, “STO1” or “STO2” frequency inverter inputs, the contactor relay K1 with drop-out delay or the contactor relay K2, stopping of the drive is nevertheless assured, since two mutually independent shut-off paths are always present. Failure of the contactor relays K1 or K2 to drop out is detected – at the latest before renewed start-up of the machine movement – by the feedback of the mechanically linked break-contact elements to the PLC inputs I3 and I4. Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. Protective circuits (such as contact protection) as described in the initial paragraphs of Chapter 8 are implemented. • Owing to the use of an FI with STO, the contactor Q1 is no longer absolutely essential for de-energization of the supply voltage. The FI must be suitable for rampingup and braking. • For comparison of command disconnection on the “STO1/STO2” inputs on the FI, a duration of sufficient length is selected to allow for variation in the drop-out delay of K1. • The contactor relays K1 and K2 possess mechanically linked contact elements in accordance with IEC 60947-5-1, Annex L. • The contacts of the stop button S1 and of the emergency stop device S4 are direct opening contacts in accordance with IEC 60947-5-1, Annex K. • The standard component K4 is employed in accordance with the information in subclause 6.3.10. • The software (SRASW) is programmed in accordance with the requirements for PL c (downgraded owing to diver- sity) and the guidance in subclause 6.3.10. • If the brake Q2 is provided for functional reasons only, i.e. it is not involved in performance of the safety function, it is disregarded in the calculation of the probability of failure, as in this example. A condition for this procedure is that coasting down of the drive in the event of a failure of the stop function, in which case de-energization is effected by means of STO alone, must not be associated with an unacceptably high residual risk. The involvement of a brake in performance of the safety function in conjunction with the use of an FI is described in Example 23 (revolving door control). • The ESPE K3, for example in the form of a light curtain, satisfies the requirements for Type 4 to IEC 61496-1 and IEC 61496-2, and for PL e. Calculation of the probability of failure • The probability of failure PFH of safe stopping initiated by the emergency stop device S4 or by the ESPE is calcu- D lated. The “fast stop” function of the FI and the facility for de-energization of the power supplyto the FI via Q1 are not considered in the calculation of the probability of failure of the safety function. • The FI T1 with STO is available for purchase as a safety component; its probability of failure is added at the end of the calculation (1.5 · 10-8 per hour [M]). The stop function of the FI is modelled in the first channel of the block diagram (T1stop). The FI with STO would in fact be modelled in the second channel of the block diagram; a model with a turnkey safety component including PFH in a single channel is however not covered by the standard. The D FI T1 and its STO function are therefore considered as a single subsystem. This estimation therefore errs on the safe side. 169 8 Circuit examples for SRP/CS Safe stop initiated by the emergency stop device S4: • MTTF : the following MTTF values are estimated: 50 years for K4 and 100 years for the stop function T1stop of D D the FI [E]. At a B value of 100,000 cycles [S] each and an n of 12 cycles per year, the MTTF for S4.1 and S4.2 is 10D op D 83,333 years. At a B value of 400,000 cycles [S] and at 240 working days, 8 working hours and a cycle time of 10D 6 minutes, the n for K1 is 19,200 cycles per year and the MTTF 208 years. At a B value of 400,000 cycles [S] and op D 10D actuation once daily on 240 working days, the MTTF for K2 is 16,667 years. The capacitor C1 is considered in the D calculation with an MTTF of 45,662 years [D]. These values yield a symmetrized MTTF of each channel of 72 years D D (“high”). • DC : fault detectionby the process results in a DC of 60% for T1stop, and in combination with internal self-tests avg in a DC of 60% for K4. Testing of the timing element with the FI de-energized results in a DC of 99% for K1. Testing of the timing element with the FI de-energized in combination with fault detection by comparison in the FI at a demand of the safety function results in a DC of 90% for C1. For S4.1, S4.2 and K2, DC is 99% owing to plausibility testing in K4. An adequate test rate of the emergency-stop device is assured (refer to the information in subclauses 6.2.14 and D.2.5.1). The averaging formula for DC returns a result of 65% (“low”). avg • Adequate measures against common cause failure (85 points): separation (15), diversity (20), overvoltage protec- tion etc. (15) and environmental conditions (25 + 10) • The combination of the control elements satisfies Category 3 with a high MTTF of each channel (72 years) and D a low DC (65%). Together with the FI T1, this results in an average probability of dangerous failure PFH of avg D 1.7 · 10-7 per hour. This satisfies PL d. Safe stop initiated by the ESPE K3: • The ESPE K3 is available as a commercial safety component. Its probability of failure PFH is 3.0 · 10-8 per hour [M], D and is added at the end of the calculation. • The probability of failure of the “PLC/electromechanical” two-channel structure is calculated using the same MTTF D and DC values as above. The component K2 however is not involved in performance of this safety function. The results are: an MTTF for each channel of 72 years (“high”) and a DC of 65% (“low”). For Category 3, this yields an D avg average probabilitycan be reduced not only by the control system, but also for example by a guard, The Categories continue to be the basis upon which the such as a guard door, or by personal protective equip- PL is determined. Their definition remains essentially ment, such as safety goggles. Once it has been establis- unchanged since the first edition of the standard; since hed what part is to be played by the protective measures the second edition however, additional requirements provided by the control system, the required Performance have been imposed upon the component quality and the Level PL is determined quickly and directly with the aid of effectiveness of diagnostics. Adequate measures against r a simple decision tree, the “risk graph”. Is the associated common cause failure are required in addition for the injury irreversible (e.g. death, loss of limbs), or reversible Categories 2, 3 and 4 (see Table 4.1). (e.g. crushing injuries, which can heal)? Is the operator present in the danger zone frequently and for long periods Table 6.2 (Page 50) provides a summary of the Catego- (e.g. more frequently than once every fifteen minutes), or ries. An essential aspect when the proposed simplified infrequently and briefly? Is the operator still able to avoid calculation method is used is the presentation of the an accident (e.g. owing to slow machine movements)? Categories as logical block diagrams, termed “designated These three questions determine the PL. Details can be architectures”. r found in subclause 5.4, examples in Annex A. Since the Categories require analysis of the faults (avoi- 4.2 Design and technical implementation of dance and control of failures), additional aspects concern the safety functions the reliability of the individual components, their failure modes, and fault detection by automatic diagnostic Once the requirements upon the safety-related parts measures. Fault listsof dangerous failure PFH of 1.5 · 10-7 per hour. The overall probability of failure is determined by D addition, resulting in a PFH of 2.0 · 10-7 per hour. This also satisfies PL d. D More detailed references • Werner, C.; Zilligen, H.; Köhler, B.; Apfeld, R.: Safe drive controls with frequency inverters. IFA Report 4/2018e. 3rd ed. Published by: Deutsche Gesetzliche Unfallversicherung e.V. (DGUV), Berlin, Germany 2019 (will be published in Summer 2019). www.dguv.de/ifa, Webcode: e635980 • IEC 61496-1: Safety of machinery – Electro-sensitive protective equipment – Part 1: General requirements and tests (2012) and Corrigendum 1 (2015). IEC, Geneva, Switzerland 2012/2015 • IEC 61496-2: Safety of machinery – Electro-sensitive protective equipment – Part 2: Particular requirements for equipment using active opto-electronic protective devices (AOPDs) (2013). IEC, Geneva, Switzerland 2013 • IEC 61800-5-2: Adjustable speed electrical power drive systems – Part 5-2: Safety requirements – Functional (2016). IEC, Geneva, Switzerland 2016 170 8 Circuit examples for SRP/CS Figure 8.40: Determining of the PL by means of SISTEMA 171 8 Circuit examples for SRP/CS 8.2.21 Safely limited speed – Category 3 – PL d (Example 21) Open +U B L B1 Inching S1 Q1 Q1 T1 B2 n1 Closed actual Safety guard n2 actual n set F in re v q er u t e e n r cy K1 Controller enabling I0.0 I0.1 I1.0 I1.1 I2.0 I2.1 I3.0 I3.1 Inputs Start/stop Safety PLC n1 actual Outputs +U B O0 O1 O2 O3 M Figure 8.41: M1 3 Safely limited speed with the n safety guard open, Q1 G1 with desired/actual value comparison G2 and defined speed Shown in the actuated position limit value within a safety PLC Safety function • Safely limited speed (SLS): when the safety guard is open, exceeding of a permissible speed is prevented. Functionaldescription • This example shows implementation of the SLS safety function with a frequency inverter without integrated safety function. The SLS safety function is used for example for inching mode during servicing tasks. • A hazardous movement is safely prevented or interrupted when the safety guard is open. Opening of the safety guard is detected by two position switches B1 and B2 employing a break-contact/make-contact element combi- nation. When the pushbutton S1 is actuated, a movement at a safely limited speed (inching mode) is initiated by means of the safety PLC K1. The two processing channels within the PLC each process a set limit value. The actual value of the limited speed on the inputs I3.0 and I3.1 of K1 is monitored by two separate rotary encoders G1 and G2. Each channel of the PLC performs the desired/actual speed comparison independently. Should the speed not be reduced successfully to the limited value by means of T1, K1 can initiate a halt by blocking the start/stop signal and servo enable on the frequency inverter. The power supply to T1 is also interrupted by the mains contactor relay Q1 after a programmed timeout. • The two-channel safety PLC K1 performs internal fault detection. Should one processing channel fail, the remaining (i.e. functioning) processing channel reduces the speed of the frequency inverter T1 and de-energizes the mains contactor relay Q1. A failure of the frequency inverter that could for example lead to unexpected start-up, continued running or an increase in the speed is detected by separate monitoring of the speed by the rotary encoders G1 and G2 in the two processing channels. Failure of the mains contactor relay Q1 to drop out is detected by the break- contact element connected to both processing channels (inputs I2.0 and I2.1 of K1), and leads bothto blocking of the start/stop signal and of servo enable on the inverter by both processing channels. 172 8 Circuit examples for SRP/CS B1 G1 T1 K1 B2 G2 Q1 Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. Protective circuits (such as contact protection) as described in the initial paragraphs of Chapter 8 are implemented. • A stable arrangement of the safeguard is assured for actuation of the position switch. • The position switch B1 features direct opening action in accordance with IEC 60947-5-1, Annex K. The position switch B2 also complies with IEC 60947-5-1. • The contactor Q1 possesses a mirror contact in accordance with IEC 60947-4-1, Annex F. • The supply conductors to the position switches are laid either separately or with protection against mechanical damage. • For the “safely limited speed” safety function, a fault exclusion is assumed for the fault condition of encoder shaft breakage (G1/G2). Details of the possibility of a fault exclusion can be found for example in IEC 61800-5-2, Table D.8, and GS-IFA-M21. • The standard components G1 and G2 (where relevant for the rotary encoders) and T1 are employed in accordance with the information in subclause 6.3.10. • The safety component K1 satisfies all requirements for Category 3 and PL d. The software (SRASW) is programmed in accordance with the requirements for PL d and the information in subclause 6.3.10. • It is assumed that each output of the safety PLC is actuated by both processing channels of the PLC and that the analog output 03 is monitored by two channels. Calculation of the probability of failure • The SRP/CS is divided into the two subsystems sensor/actuator and PLC. For the PLC subsystem, a tested safety PLC suitable for PL d isemployed. This PLC‘s probability of failure of 1.5 · 10-7 per hour [E] is added at the end of the calculation for the sensor/actuator subsystem. For the composition of the block diagram, refer also to Figure 6.14 and the relevant information in the associated text. The probability of failure for the sensor/actuator subsystem is calculated below. • MTTF : at 240 working days, 8 working hours and a cycle time of one hour, n is 1,920 cycles per year. A B value D op 10D of 20,000,000 cycles [S] is assumed for the position switch B1 owing to its direct opening action; the associated MTTF value is 104,166.7 years. Owing to the defined control current (low load; the mechanical durability of the con- D tacts is the determining factor), a B value of 100,000 cycles [E] is assumed for the make-contact element, which 10D is opened by spring force (see also Table D.2), and therefore an MTTF of 520 years. The contactor Q1, with a B D 10D value of 400,000 cycles, switches operationally only once daily, equating to an n of 240 cycles per year and an op MTTF of 16,667 years. The following manufacturer‘s values are available: an MTTF of 100 years for T1 and an MTTF D D D of 190 years for G1/G2 [M]. These values yield a symmetrized MTTF of each channel of 84 years (“high”). D • DC : a DC of 99% is assumed for each of the components used. For the position switches and the rotary encoders, avg this value is based upon cross monitoring of input signals in K1. For the frequency inverter T1, the speed is moni- tored in the safety PLC via the two rotary encoders, and fault detection is provided by the process; the main contac- tor relayQ1 is monitored directly by the PLC. These values yield a DC of 99% (“high”). avg 173 8 Circuit examples for SRP/CS • Adequate measures against common cause failure (70 points): separation (15), FMEA (5), overvoltage protection etc. (15) and environmental conditions (25 + 10) • The sensor/actuator subsystem satisfies Category 3 with a high MTTF of each channel (84 years) and high DC D avg (99%). This results in an average probability of dangerous failure PFH of 3.0 · 10-8 per hour. This satisfies PL e. D A PL of d is thus surpassed, which with the required two-channel design of the hardware with few components, the r use of B values in accordance with the standard, a DC of “high” and a “moderate” rate of operations will virtually 10D always be the case. • The overall probability of failure is determined by addition of the probability of dangerous failure of K1 (1.5 · 10-7 per hour) and is PFH = 1.8 · 10-7 per hour. This satisfies PL d. D More detailed references • IEC 61800-5-2: Adjustable speed electrical power drive systems – Part 5-2: Safety requirements – Functional (2016). IEC, Geneva, Switzerland 2016 • Grundsätze für die Prüfung und Zertifizierung von Winkel- und Wegmesssystemen für die Funktionale Sicherheit (GS-IFA-M21). Published by: Institut für Arbeitsschutz der DGUV, Prüf- und Zertifizierungsstelle im DGUV Test, Sankt Augustin, Germany 2015. www.dguv.de, Webcode: d11973 • EN 1010-1: Safety of machinery – Safety requirements for the design and construction of printing and paper conver- ting machines – Part 1: Common requirements (2004) + A1 (2010) Figure 8.42 Determining of the PL by means of SISTEMA 174 8 Circuit examples for SRP/CS 175 8 Circuit examples for SRP/CS 8.2.22 Muting of a protective device – Category 3 – PL d (Example 22) +U B+U B K2 F1.1 F2.1 F3.1 F4.1 S2 Sensors F1 bis F4 STOP K3 F5 K4 I1.0 I1.1 I1.2 I1.3 I1.4 I1.5 I1.6 PLC S3 S1 O1.0 O1.1 O1.2 START R1 F3.3 F4.3 +U K4 B K2 K3 F5 S3 S1 F1.2 F3.2 Trouble- K1 ESPE shooting S4 F2.2 F4.2 TEST “Belt manual/ R2 R3 forwards” automatic +U B Muting- K2 K3 P1 P2 indicators Figure 8.43: Muting of a protective device at the discharge point ENABLE Muting Muting manual Belt drive/ automatic in the event of from a palletizer palletizing station a malfunction station controlled by a PLC Safety function • Muting function: temporary muting (bypassing) of a protective device as a function of the process. Further safety functions, such as safeguarding of access to the palletizer station or the start/restart interlock, are not dealt with in detail below. 176 8 Circuit examples for SRP/CS F1 F3 F2 F4 K4 Functional description • A triple-beam light barrier (ESPE) F5 of Type 4 to IEC 61496 safeguards the access to the discharge point of the pal- letizer station. The light barrier embodies the additional functions of start interlock and restart interlock, which are implemented by means of two antivalent inputs. Disabling of the start interlock of the light barrier is coupled to the start command for the belt drive, i.e. energization of the palletizer station, and is initiated by picking-up and subse- quent dropping-out of the contactor relay K1 in response to actuation and release of the start button S1. A condition for a valid start command is that the contactor relays K2 and K3 have dropped out (queried via input I1.1) and that the start interlock has been cancelled (queried via input I1.0). Output O1.1 is set as a result. • Four infrared light sensors F1 to F4 (forarrangement, refer also to Figure 8.44) are incorporated for control of the muting process. Via the inputs I1.2 to I1.5, the PLC monitors the actuation sequence of the four infrared light sen- sors via the sensor‘s contacts F1.1 to F4.1, in consideration of two programmed time settings. The muting function is implemented only in the output circuit of the PLC (output O1.2), independently of the output circuit of the light barrier F5. The muting contacts F1.2 and F2.2/F3.2 and F4.2, connected in series, are connected by OR logic via the diodes R2 and R3 respectively with the “enabling” function implemented by the contactor relays K2 and K3. Arrangement: top view Fencing Light barrier, triple beam Transported product F4 F1 Palett Access by persons v prohibited! Danger zone Palett discharge F3 F2 L > a! a point L Light barrier, Arrangement: side view Figure 8.44: triple beam Transported product Palletizer station F4 F1 with automatic Access by persons Danger zone: control – principle prohibited! v e.g. strapping F3 F2 Palett station of safeguarding of Transport movement 0,9 m the pallet discharge point by means of 0,4 m a light barrier, and arrangement of the muting sensors F1 to F4 177 8 Circuit examples for SRP/CS • R2 and R3 cause the muting function to be displayed correctly, and isolate the activated enabling output from the muting displays P1/P2 when the muting function is not active. Faults in R2 or R3 cannot lead to unexpected muting (i.e. dangerous failure of the muting function). • Should the voltage break down and be restored, or the light barrier F5 be interrupted and the muting function not be active, the contactor relays K2 and K3 are de-energized. The absence of latching-in under these circumstances prevents them from picking up again should the muting circuits beclosed again. The installation can be restarted only by disabling of the restart interlock, i.e. by deliberate actuation and release of the start button S1. • For starting or restarting as intended, for example following a fault on the installation, the key switch S3 must be actuated. In the event of an outage, the operator can eject a pallet from the detection zone of the light barrier and the muting sensors by means of the hold-to-run button S4. For smooth progress of the pallets through the discharge opening, two time settings in the PLC program must be matched to the velocity of the transport movement: – The time setting T1 determines the maximum period within which – following activation of the sensor F1 – the sensor F2 must be activated and the muting function thus initiated by the transported product. – Time setting T2 begins with renewed clearing of the sensor F2. T2 must be selected such that when the detection zone of the light barriers becomes clear again, K1 is energized and de-energized again before sensor F3 is deacti- vated by the transported product and the muting function thereby terminated. • Failure of the contactor relays K2 and K3 to drop out is detected at the latest before the belt drive/the palletizer station start up again, owing to the feedback of the mechanically linked break contacts to the PLC input I1.1. Failure of K1 is detected at the next discharge of a pallet. • Unintended start-up of the belt drive/palletizer station by themselves in the event of the loss and subsequent restoration of power or a failure of the standard PLC is prevented by the function of the start-up and restart inter- lock. The PLC can disable the restart interlock only immediately after the pallet has passed the lightbarrier, i.e. whilst sensors F3 and F4 are still activated. • The failure of individual muting sensors is either detected directly by the PLC program (owing to monitoring for proper completion of activation and deactivation), or becomes evident by operating inhibition during transport of the pallet. • Failure of the hold-to-run button S4, which is used only for the clearing of faults (manual muting), is detected directly by the operator. Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. Protective circuits (such as contact protection) as described in the initial paragraphs of Chapter 8 are implemented. • The contactor relays K1 to K3 possess mechanically linked contact elements in accordance with IEC 60947-5-1, Annex L. • The supply conductors to the light barrier F5 and the hold-to-run button S4 are laid such that short-circuits be tween individual conductors (including to the supply voltage) can be excluded. • The control components S1 to S4 are located at a point outside the hazard zone and from where the hazard zone can be viewed. • The muting state is displayed by two lights clearly visible to the operator at the access point to the hazard zone. • The muting sensors F1 to F4 are standard components and are engineered with electronic hardware without soft- ware. Remarks • Example enabling arrangement for automated material discharge on safeguards of access points to palletization and depalletization equipment, transfer stations, strapping or wrapping machines. The same principle can be used for access points for material infeed. 178 8 Circuit examples for SRP/CS • When muting sensors are used that employ microcontrollers and software that have not been subjected to a safety analysis by the manufacturer (i.e. the requirements imposed upon safety-related embedded software are not met), components featuringdiverse technology must be employed in the two channels in the intended PL of d. • In accordance with EN 415-4, it can be assumed that the unobserved access of persons through feed or discharge openings is prevented sufficiently reliably when requirements including the following are met: – Use of a two-beam or three-beam light barrier in consideration of the necessary installation height (with the access point open/an empty pallet present in it), or – Muting of the protective function of the light barrier by the loaded pallet with clearances to the side of less than 0.2 m, and muting activated by the pallet load only immediately prior to interruption of the light beams (without greater timing intervals and geometrical gaps). Calculation of the probability of failure In the calculation below, a DC of 0% is assumed for the output relays of the muting sensors F1 to F4, since the con- tacts employed for muting are not subject to automatic fault detection. For this reason, periodic manual inspection that can be achieved by simple means is specified. • MTTF : an MTTF of 100 years [E] is assumed for the sensor part of each of the muting sensors F1 to F4. A B value D D 10D of 2,000,000 cycles [E] applies for the output relays of F1 to F4. At 300 working days, 16 working hours and a cycle time of 200 seconds, n is 86,400 cycles per year and the MTTF 232 years for these elements. An MTTF of op D D 35 years (“high”) is produced for the channel. • DC : a DC of 90% is attained for the sensor part of the muting sensors F1 to F4 by way of the PLC monitoring. The avg DC for the output relays is estimated erring on theand safety principles serve here as of control systems have been defined, they are first a basis (see Annex C). In addition to the traditional FMEA designed, and then implemented. Finally, a verification (failure mode and effects analysis), EN ISO 13849-1 offers 20 4 Report and standard: an overview Table 4.1: Deterministic and probabilistic characteristics of the Categories; probabilistic additions since the second edition of the standard are highlighted in grey Feature Category B 1 2 3 4 Design according to relevant X X X X X standards; withstand the expected influence Basic safety principles X X X X X Well-tried safety principles X X X X Well-tried components X Mean Time to Dangerous Failure – Low to Medium High Low to High Low to High High MTTF D Fault detection (tests) X X X Single-fault tolerance X X Consideration of fault accumulation X Average diagnostic coverage – DC None None Low to Medium Low to Medium High avg Measures against CCF X X X Characterized primarily by Selection of components Structure simplified methods of calculation such as the parts count tamination, overtemperature or short circuit, can under method. Further explanations of this subject can be found certain circumstances give rise to several faults which in Annex B. may for example simultaneously disable both control channels. For control of this source of hazard, it must One of the questions most frequently asked regarding be demonstrated for Category 2, 3 and 4 systems that the probability of failure concerns the sourcing of reliable adequate measures have been taken against CCF. This is failure data for the safety-related components, the MTTF achieved by means of a points system for eight typical, D (mean time to dangerous failure) values. The manufac- for the most part technical counter-measures, with which turer of the partssafe side at 0%. The resulting DC value is 63% (“low”). avg • Adequate measures against common cause failure (65 points): separation (15), overvoltage protection etc. (15) and environmental conditions (25 + 10) • The combination of the control elements satisfies Category 3 with a high MTTF of each channel (35 years) and a D low DC (63%). This results in an average probability of dangerous failure PFH of 5.2 · 10-7 per hour. This satisfies avg D PL d. More detailed references • EN 415-4: Safety of packaging machines – Part 4: Palletisers and depalletisers (06.97) +AC (2002) • IEC 61496-1: Safety of machinery – Electro-sensitive protective equipment – Part 1: General requirements and tests (2012) and Corrigendum 1 (2015). IEC, Geneva, Switzerland 2012/2015 • IEC 61496-2: Safety of machinery – Electro-sensitive protective equipment – Part 2: Particular requirements for equipment using active opto-electronic protective devices (AOPDs) (2013). IEC, Geneva, Switzerland 2013 • IEC 62046: Safety of machinery – Application of protective equipment to detect the presence of persons (2018). IEC, Geneva, Switzerland 2018 • EN ISO 13855: Safety of machinery – Positioning of safeguards with respect to the approach speeds of parts of the human body (2010). ISO, Geneva, Switzerland 2010 179 8 Circuit examples for SRP/CS Figure 8.45: Determining of the PL by means of SISTEMA 180 8 Circuit examples for SRP/CS 181 8 Circuit examples for SRP/CS 8.2.23 Revolving door control – Category 3 – PL d (Example 23) + B3 Motion B1 detector + + S1 Pressure-sensitive + Control START edge unit K3 K2 K1 Inputs/outputs Inputs/outputs (cid:31) μC Self-tests Data (cid:31) μC Self-tests cross-check Inputs/outputs Inputs/outputs B2 K3 L T1 Light barrier system Set value FI with Fast stop STO STO1 STO2 + K3 G1 Q1 M1 M n 3 Figure 8.46: Revolving doorG2 control employing n microcontrollers Safety functions • Safety-related stop function: when the pressure-sensitive edge is actuated, the revolving movement of the door is halted (SS1-r – safe stop 1 with ramp monitoring). This safety function is shown in the safety-related block diagram. • Safely limited speed (SLS): when a person or object is detected by the light barrier, the speed of the revolving door is reduced and safely limited. 182 8 Circuit examples for SRP/CS G1 K1 T1s B1 T1 G2 K2 K3 Q1 Functional description • The revolving movement of the door is initiated only once the control system has been switched on by the pushbut- ton S1. In normal operation, the command for the revolving movement is issued by the motion detector B3 located on the door. The frequency inverter T1 is actuated jointly by the two microcontrollers K1 and K2. Each microcontrol- ler (µC) contains a central processing unit (CPU) in the form of a microprocessor, and working memory (RAM) and read-only memory (ROM). K1 controls the functions of setpoint assignment, STO1, and fast stop (T1s). K2 actuates STO2, and the brake Q1 can be released by means of the contactor relay K3. The rotary encoders G1 and G2 signal the motor speed to K1 and K2 respectively. The redundant speed monitoring is required for both safety functions (ramp monitoring and SLS), and is also used for monitoring of the frequency inverter T1. • Faults in the pressure-sensitive edge or light barrier are detected in the associated control units. The same applies to faults in the control units themselves, which are detected by internal monitoring. Faults in the components of the microcontrollers are detected by the performance of self-tests and by data comparison. When detected, faults are controlled via K1 and/or K2, leading to the door‘smovement being halted by T1 and/or Q1. The wings of the door can be opened manually in order for trapped persons to be freed. • Owing to redundant processing channels, a single fault does not result in loss of the safety functions. The combi- nation of undetected faults may lead to loss of the safety functions. Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. Protective circuits (such as contact protection) as described in the initial paragraphs of Chapter 8 are implemented. • The pressure-sensitive edge serves as a safeguard against crush, shear and entrapment points. The pressure- sensitive edge and the control unit are treated as a single unit (B1). The subsystem B1 satisfies the requirements of EN ISO 13856-2 in Category 3 and of EN ISO 13849-1 for PL d. Faults in the signal generator of the pressure-sensitive edge or in the supply conductors must be excluded or be detected via the control unit (pressure-sensitive edges operating on either the break-contact or make-contact principle may be employed). Following actuation and sub- sequent release of pressure upon a pressure-sensitive edge, the rotary movement begins again with a time delay. The pressure-sensitive edge possesses an adequate deformation path and an adequate range of action. • The light barrier has the function of leading, non-contact safeguarding of hazard zones. The light barrier system B2 satisfies the requirements for Type 4 to IEC 61496-1 and IEC 61496-2 and for PL e to EN ISO 13849-1. The reduced, safely limited revolving speed that is assumed following detection of a person or an object by the light barrier is increased again to the normal speed following a preset timeout. The supply conductors to the transmitter and receiver are laid separately or with protection. • Duringstart-up of the door‘s revolving movement for the first time, start-up tests are performed. The tests include, for example, tests of the microcontroller blocks (microprocessor, random-access and read-only memory), input and output tests, and checking of driving of the motor by the frequency inverter (including testing of the fast stop func- tion and of STO1/STO2). A brake test is also performed, in which the frequency inverter is required to act against the applied brake. • During comparison of data between the two controllers, desired values and intermediate results are exchanged, with inclusion of the cyclical self-tests. • Owing to the use of a frequency inverter with STO, a contactor is no longer required for disconnection of the supply voltage. The frequency inverter is suitable for driving and braking. 183 8 Circuit examples for SRP/CS • K3 possesses mechanically linked contact elements to IEC 60947-5-1, Annex L. The switching position of the break- contact element is monitored by the microcontroller K2 for the purpose of fault detection. • It is assumed in the example that closed-loop control provided by the frequency inverter T1 is sufficient for braking of the revolving door. Once a standstill has been reached, STO is activated in order to prevent unexpected start- up. The braking time and braking distance are monitored by the controller (ramp monitoring). The brake Q1 in the second channel is required so that, should T1 no longer be able to perform the fast stop T1s following the occur- rence of a fault, no danger can arise owing to an unexpected movement. Q1 operates on the closed-circuit current principle. • The software (SRESW) in K1 and K2 is programmed in accordance with the requirements for PL d as per subclause 6.3. • The standard components G1 and G2 (where relevant for the rotary encoders)and T1 are employed in accordance with the information in subclause 6.3.10. • For the safety functions under analysis, a fault exclusion is assumed for the fault condition of encoder shaft breakage (G1/G2). For details of the possibility of a fault exclusion, refer for example to IEC 61800-5-2, Table D.8/ GS-IFA-M21. Remarks • The circuit example can be employed for implementation of the “safety-related stop function” and “safely limited speed” safety functions in a control system for three-wing and four-wing revolving doors with break-out function (the door wings can be folded manually in an emergency) for use in public and commercial buildings. • Regular manual inspection of the pressure-sensitive edge is required. Firstly, its serviceability must be checked; secondly, the pressure-sensitive edge must be inspected visually in order for any damage to be detected in good time. Calculation of the probability of failure Detailed calculation of the probability of failure is performed for the safety function “safety-related stop function (SS1-r)”, which is also shown in the block diagram: • Since the pressure-sensitive edge with the associated control unit is available commercially as a safety compo- nent, its probability of failure is added at the end of the calculation (3.0 · 10-7 per hour [E]). • The frequency inverter T1 with STO is also available for purchase as a safety component; its probability of failure is added at the end of the calculation (1.5 · 10-8 per hour [M]). The fast stop function T1s is modelled in the first chan- nel of the block diagram. • MTTF : the safety-related components of K1 and K2 and their peripherals are considered, following application of D the parts count method, by a value of 878 years [E]. A value of 190 years [M] is substituted in the formula for G1 and G2. Avalue of 100 years [M] is applied for T1s. A B value of 400,000 cycles [S] is substituted for K3. At one 10D actuation per day, n is 365 cycles per year, and the MTTF is 10,959 years. A B value of 1,000,000 cycles [M] is op D 10D substituted for Q1, resulting in an MTTF of 27,397 years. The brake Q1 is required only in the event of a fault, and is D not subject to operational wear. Overall, the symmetrized MTTF value for the two channels is 82 years (“high”). D • DC : owing to internal self-tests and comparison, the DC for K1 and K2 is 60%. Internal self-tests are performed on avg the microcontroller components. Ramp monitoring yields a DC of 99% for the block T1s. Owing to the comparison performed by way of K1 and K2, G1 and G2 are rated with a DC of 99%. With direct monitoring of a read-back mecha- nically linked contact element, K3 is rated accordingly with a DC of 99%. Owing to performance of the static start- up test, a DC of 30% is substituted for Q1. Averaging thus yields a DC of 95% (“medium”). avg • Adequate measures against common cause failure (70 points): separation (15), FMEA (5), overvoltage protection etc. (15) and environmental conditions (25 + 10) • The combination of the control elements satisfies Category 3 with a high MTTF of each channel (82 years) and D medium DC (95%). This yields an average probability of dangerous failure PFH of 4.3 · 10-8 per hour. Together avg D with the sensor unit B1 (consisting of a pressure-sensitive edge and control unit) and the frequency inverter T1, the overall average probability of dangerous failure of the control for this safety function is 3.6 · 10-7 per hour.This satisfies PL d. 184 8 Circuit examples for SRP/CS Calculation of the probability of failure for the “safely limited speed (SLS)” safety function • For this analysis, the sensor unit B1 in the first example analysis is replaced by the light barrier system B2 with a probability of failure of 1.5 · 10-9 per hour [E]. Addition yields an average probability of dangerous failure of the control system for this safety function of 6.0 · 10-8 per hour. The implementation of the safety function SLS satisfies PL d. More detailed references • EN ISO 13856-2: Safety of machinery – Pressure-sensitive protective devices – Part 2: General principles for design and testing of pressure-sensitive edges and pressure-sensitive bars (2013) • DIN 18650-1: Powered pedestrian doors – Part 1: Product requirements and test methods (06.10). Beuth, Berlin, Germany 2010 • IEC 60947-4-1: Low-voltage switchgear and controlgear – Part 5-1: Control circuit devices and switching elements – Electromechanical control circuit devices (2009) + A1 (2012). IEC, Geneva, Switzerland 2009/2012 • IEC 61496-1 (2012) + Cor. (2015): Safety of machinery – Electro-sensitive protective equipment – Part 1: General requirements and tests 2012) + Corrigendum (2015). IEC, Geneva, Switzerland 2012/2015 • IEC 61496-2: Safety of machinery – Electro-sensitive protective equipment – Part 2: Particular requirements for equipment using active opto-electronic protective devices (2013). IEC, Geneva, Switzerland 2013 • IEC 61800-5-2: Adjustable speed electrical power drive systems – Part 5-2: Safety requirements – Functional (2016). IEC, Geneva, Switzerland 2016 • Grundsätze für die Prüfung und Zertifizierung von Winkel- und Wegmesssystemen für die Funktionale Sicherheit (GS-IFA-M21). Published by: Institut für Arbeitsschutz der DGUV (IFA), Prüf- und Zertifizierungsstelle im DGUV Test, Sankt Augustin, Germany 2015. www.dguv.de, Webcode; d11973 Figure 8.47: Determining of the PL by means of SISTEMA 185 8 Circuit examples for SRP/CS 8.2.24 Inching modewith safely limited speed on a printing press – Category 3 – PL d/c (example 24) i Changes with respect to the second edition (BGIA Report 2/2008e): • B1 was replaced by a variant with two direct opening contacts (instead of a break/make contact combination). • A second encoder G2 on the machine shaft was added to the existing encoder G1 on the motor shaft. • The frequency inverter T1 was replaced by a variant with integral STO safety function. • The Category 3 subsystem B1 was grouped with the downstream Category 3 subsystem comprising G1, G2 and K1 to K4. Figure 8.48: Inching mode with safely limited speed on a printing press with two-channel microprocessor control Open + + + * According to EN 1010 only one position switch (B1) is provided, Closed B1* B1.1 B1.2 S1 generally two position switches are required Inching K1 K2 Inputs Inputs L Functional Monitoring I/O module I/O module Outputs Outputs T1 Functional bus Setpoint, start/stop Frequency inverter with STO Monitoring bus Feedback STO1 + + K3 K4 Inputs Inputs Functional PLC Monitoring PLC Driver power supply Readback Outputs Outputs STO2 P1 G1 M1 M n G2 3 n Safety functions • Safety-related stop function, initiated by a safeguard: the drive is to stop when the guard door is opened (SS1-r – safe stop 1, monitoring of the deceleration ramp, and STO following standstill). • Safely limited speed (SLS): when the guard door is open, machine movements may occur only at limited speed. • Inching mode: when the guard door is open, movements are possible only whilst an inching button is pressed. 186 8 Circuit examples for SRP/CS B1.1 G2 K1 K3 T1 B1.2 G1 K2 K4 Functional description • The remote I/O module K1 registers the states of the position switch withpersonnel safety function B1 fitted to the safeguard and of the inching button S1, and makes these states available on the functional bus. This information is interpreted by the functional PLC K3 and results in the stop function on the frequency inverter T1 being initiated when the guard door is opened. A signal for the fastest possible stop is transmitted over the functional bus for this purpose. The I/O module K2 and the monitoring PLC K4, which communicate over a dedicated monitoring bus, operate redundantly to K1 and K3. The deceleration ramp is monitored in the functional PLC K3 through the enco- der G2 and in the monitoring PLC K4 through the encoder G1. Once a standstill has been reached, or in the event of detection of a fault during stopping, the integral STO safety function is initiated by K3 and K4 via the two STO inputs STO1 and STO2 of T1. • The open state of the safeguard is detected in K3 and K4 via B1, K1 and K2 as described above. K3 and K4 then monitor the specified limited speed (SLS) redundantly of each other through G2 and G1. If this speed is exceeded, K3 and K4 initiate SS1-r independently of each other, as described above. • With B1 actuated, only inching mode by means of S1 with safely limited speed is permissible. Releasing of S1 is detected redundantly in K1 to K4 and leads, as described above for the safety-related stop function and SLS, to safe stop 1 of the drive (SS1-r). • In accordance with EN 1010-1, a single position switch B1 is sufficient. The majority of faults in S1 are detected and controlled by a special actuating procedure, which forces a signal change: when S1 is pressed for the first time, an acoustic warning (signalgenerator P1) is output; only when S1 is released and pressed again does the drive start up, with delay. • Faults in K1 and K2 are detected by a status comparison in K4. K4 also monitors K3 by monitoring the input and output information. Some faults in K3 also become evident through faults in the process. Self-tests (e.g. temporal program sequence monitoring by an internal watchdog) are performed in K4; in addition, K3 uses K4 for regular selection of STO1, and monitors the feedback signal from T1. • Together with the sin/cos encoder G1, the frequency inverter T1 forms a closed-loop control system in which faults (printing errors, paper tears) are revealed by the production process, which is highly synchronous. The encoder signals from G1 on the motor shaft are also read into K4 and monitored in T1 for plausibility of the sin/cos infor- mation (sin2 + cos2 = 1). Redundantly to this, the signals from a diversely engineered encoder G2 on the machine shaft are also interpreted. Although the two encoders are not located on the same shaft, their values, read into K4/K3 and converted into paper speeds, can be compared in K4, thereby providing fault detection for G1 and G2. Fault detection for STO1 in T1 is implemented by provision of a feedback signal that is interpreted in K3. Correct execution of STO2 is monitored by internal test measures in T1; in the event of a fault, these measures initiate stop- ping. Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. Protective circuits (such as contact protection) as described in the initial paragraphs of Chapter 8 are implemented. • The break contacts of B1 satisfy IEC 60947-5-1, Annex K, and B1 complies with DGUV Information 203-079 governing the selectionor components, i.e. his technical data at least 65 of a possible 100 points must be attained (for sheet, should be given preference here over all other details, see Annex F). sources. Many component manufacturers already provide such data. Even where manufacturers‘ data are not avail- The random hardware failures, which can be controlled able however, typical example values can be obtained by a good structure and by low probability of failure, are from established databases (such as SN 29500 or accompanied by the broad field of systematic faults – IEC/TR 62380). The standard and Annex D of this report i.e. faults inherent to the system since its design, such also list a number of realistic values obtained from the as dimensioning faults, software faults, or logical faults field, and provide information on modelling in the safety- – against which protection is to be provided by meas- related block diagram. ures for fault avoidance and control. The software faults account for a large proportion of such faults. Since its The effectiveness of diagnostics, in the form of the DC second edition, the standard has included the requi- avg value (average diagnostic coverage), can be determined rements upon the safety-related software; individual according to the following simple principle: the test meas- aspects of them have however long been familiar from ures that monitor the block are compiled for each block. relevant standards. The actual measures are graded For each of these test measures, one of four typical DC according to the required PL. Further information can be values is determined from a table in the standard. An ave- found in subclause 6.1.2 for systematic failures and in raging formula, which appears complex but is essentially subclause 6.3 for software. simple, can be used to calculate the DC parameter from avg it.and fitting of interlocking devices. Measures are implemented to prevent displacement and reasona- bly foreseeable misuse (see EN ISO 14119). A stable arrangement of the safeguard is assured for actuation of the position switch. 187 8 Circuit examples for SRP/CS • S1 satisfies IEC 60947-5-1; short-circuiting between adjacent contacts that are isolated from each other can there- fore be excluded. Despite the warning at start-up and forced dynamics, S1 may stick during inching mode. An addi- tional requirement is therefore that an emergency stop device be installed within the operator‘s reach. • The conditions for fault exclusion for conductor short circuits in accordance with EN ISO 13849-2, Table D.4 must be observed for the connecting lines to S1. Faults in the connecting lines to B1 are detected by monitoring in K4. • The programmable components K1 to K4 satisfy the normative requirements in accordance with subclause 6.3. • G1 is integrated into the closed-loop control circuit (acquisition of the commutation). The encoder G2, which is engineered with diversity, has the purpose of fault detection. • The standard components G1 and G2 are employed in accordance with the information in subclause 6.3.10. • T1 possesses an integrated STO safety function, which satisfies all requirements for Category 3 and PL d. The required fault detection is attained by provision and external monitoring of a feedback signal for STO1 and by inter- nal monitoring measures for STO2. • The bus systems (functional bus, monitoring bus) are employed in accordance with the information in sub- clause 6.2.18. Remarks • This example describes the safeguarding of entrapment points on rotary printing press. For non-cyclical operator intervention in the hazard zone, i.e. less frequently than one intervention per hour, EN 1010-1 requires only one position switch for monitoring of the guard position. The fault-tolerance criterion forCategory 3 generally requires the use of two position switches for similar machine control systems. • For inching mode subject to the condition that safely limited speed is already guaranteed, the possibility of avoi- ding the hazard can be assumed under certain conditions. For risk assessment, refer also to Example 4 in Annex A. Calculation of the probability of failure • The three safety functions differ only on the sensor level. B1, G1 and S1 are therefore described separately. • The two contacts with direct opening action of B1 are integrated into the downstream Category 3 structure. A B 10D value of 20,000,000 cycles [S] is assumed per contact. At 10 actuations per week, n is 520 cycles per year and the op MTTF is 384,615 years. Under the particular requirements of EN 1010-1 for B1 (refer to the design features), a DC of D 60% (cross monitoring of input signals without dynamic test, infrequent signal change caused by the application) is assumed. • G1 and G2 are also each integrated into a channel of the downstream Category 3 structure. Their contribution to determining of the PFH is an MTTF of 30 years per channel [M], 90% DC for G2 by plausibility check and 99% DC D D for G1 by monitoring for sin2 + cos2 = 1, plausibility checking and fault detection in the process. • S1 possesses a B value of 100,000 cycles [M]. At 10 actuations per week, n is 520 cycles per year and the MTTF 10D op D is 1,923 years. Owing to the forced signal change and start-up warning, S1 is modelled as a Category 2 subsystem, and a DC of at least 60% is assumed (sticking following repeated inching is not detected, however). Testing is performed in K1 and K3, the probability offailure of which is already considered in the downstream Category 3 subsystem and need not therefore also be considered in addition in the test channel. So as not to provoke an error message in SISTEMA, an MTTF value of 100 years is substituted in the test channel. Since testing is performed D immediately upon demand of the safety function, an adequate test rate is assured. The separate subsystem of S1 thus attains an average probability of dangerous failure of 5.3 · 10-7 per hour. Since it is not practicable for the con- trol system to bring about the safe state automatically in the event of the inching button sticking, and the PL is not r greater than c, involvement of the operator is also permissible (see subclause 6.2.5). • K1 + K3 and K2 + K4 are considered in two channels of a Category 3 subsystem in all three safety functions under analysis. 100 years [M] for K1 and K2, 50 years [M] for K4 and 30 years [M] for K3 are substituted for the MTTF . The D DC of 99% for K1 and K2 is produced by direct comparison of the supplied status information in K4. The DC of 99% 188 8 Circuit examples for SRP/CS for K3 is based upon parallel processing of all safety-related information in K4 and upon the direct comparison in K4 with the intermediate results and output signals formed by K3. The self-tests implemented in K4 together with partial monitoring by the selection of STO1 read back by K3 result in a DC of 60% for K4. • Adequate measures against common cause failure (70 points): separation (15), FMEA (5), overvoltage protection etc. (15) and environmental conditions (25 + 10) • T1, including its integrated safety function STO, is considered in the analysisas an encapsulated subsystem with Category 3, PL d and a PFH of 1.5 · 10-10 per hour. D • The safety-related stop function and the safely limited speed are engineered as a continuous Category 3 subsys- tem comprising B1.1/B1.2, G2/G1 and K1 to K4, which is combined with T1 to form an encapsulated Category 3 sub- system. For the first subsystem, a medium MTTF per channel of 14.5 years and a medium DC of 91% yield a PFH D avg D of 7.1 · 10-7 per hour. Combination with T1 (PFH = 1.5 · 10-10 per hour) yields a PFH of 7.1 · 10-7 per hour for both safety D D functions. This satisfies PL d. • Inching mode is implemented by a combination of the Category 2 subsystem S1 (PFH = 5.3 · 10-7 per hour) with D the two Category 3 subsystems comprising T1 (PFH = 1.5 · 10-10 per hour) and G2/G1 together with K1 to K4. With D a medium MTTF per channel of 14.5 years and a medium DC of 91%, the second Category 3 subsystem attains D avg a PFH of 7.1 · 10-7 per hour. Combination of the three subsystems yields a PFH of 1.2 · 10-6 per hour. This satisfies D D PL c. More detailed references • EN 1010-1: Safety of machinery – Safety requirements for the design and construction of printing and paper conver- ting machines – Part 1: Common requirements (2004) +A1 (2010). • Sicherheitsgerechtes Konstruieren von Druck- und Papierverarbeitungsmaschinen. Mechanik. Published by: Berufsgenossenschaft Druck und Papierverarbeitung, Wiesbaden, Germany 2004 http://dp.bgetem.de/pages/service/download/medien/BG_220-1_DP.pdf • Werner, C.; Zilligen, H; Köhler, B.; Apfeld, R.: Safe drive controls with frequency inverters . IFA Report 4/2018e. 3rd ed. Published by: Deutsche Gesetzliche Unfallversicherung e.V. (DGUV), Berlin, Germany 2019 (will be pub- lished in Summer2019). www.dguv.de/ifa, Webcode: e635980 • Principles for the testing and certification of rotary and position measuring systems for functional safety (GS-IFA-M21_E). Published by: Institut für Arbeitsschutz der DGUV, Prüf- und Zertifizierungsstelle im DGUV Test, Sankt Augustin, Germany 2015. www.dguv.de, Webcode: d11973 • DGUV Information 203-079: Auswahl und Anbringung von Verriegelungseinrichtungen. Published by: Deut- sche Gesetzliche Unfallversicherung e.V. (DGUV), Berlin, Germany 2015. http://publikationen.dguv.de/dguv/ pdf/10002/203-079.pdf 189 8 Circuit examples for SRP/CS Figure 8.49: Determining of the PL by means of SISTEMA 190 8 Circuit examples for SRP/CS 191 8 Circuit examples for SRP/CS 8.2.25 Pneumatic valve control (subsystem) – Category 3 – PL e (Example 25) Hazardous 1A movement 2S1 P 2V3 2V2 1V1 2V1 Further loads and control systems 0S1 P 0V1 0Z Figure 8.50: Tested pneumatic valves for redundant control of hazardous movements Safety functions • Safety-related stop function: stopping of the hazardous movement and prevention of unexpected start-up from the rest position, implemented by safety sub-function SSC. • Only the pneumatic part of the control system is shown here, in the form of a subsystem. Further safety-related parts of control systems (e.g. safeguards and electrical logic elements) must be added in the form of subsystems for completion of the safety function. 192 8 Circuit examples for SRP/CS 1V1 2V1 2V2 2V3 2S1 Functional description • Hazardous movements are controlled redundantly by directional control valves. Movements can be halted either by the directional control valve 1V1 or by the directional control valves 2V2 and 2V3. The latter are driven by the control valve 2V1. • Failure of one of these valves alone does not result in loss of the safety function. • All directional control valves are actuated cyclically in the process. • The functioning of the control valve 2V1 is monitored by means of a pressure switch 2S1. Certainfaults on the unmonitored valves become apparent in the work process. The valves 2V2 and 2V3 should be equipped with posi- tion monitors, or – since this is not yet state of the art – they should be checked regularly for correct operation. An accumulation of undetected faults can lead to loss of the safety function. • Should trapped compressed air pose a further hazard, additional measures are required. Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. • The directional control valve 1V1 features a closed centre position with sufficient overlap and spring-centred central position. • The stop valves 2V2 and 2V3 are ideally screwed into the cylinder and driven by the valve 2V1 acting as a pilot valve. • The safety-oriented switching position is assumed from any position by cancellation of the control signal. • A single-channel PLC for example is employed for the processing of signals from the pressure monitor 2S1. Calculation of the probability of failure • MTTF : B values of 20,000,000 cycles [S] are assumed for the valves 1V1, 2V1, 2V2 and 2V3. At 240 working days, D 10D 16 working hours and a cycle time of 20 seconds, n is 691,200 cycles per year. The MTTF for 1V1, 2V1, 2V2 and 2V3 op D is thus 289 years. Capping of the two channels to 100 years results in a symmetrized MTTF value per channel of D 98 years (“high”). • DC : pressure monitoring of the control signal for the stop valves results in a DC of 99% for 2V1. Fault detection via avg the process results in a DC of 60% for 1V1, and regular checking of operation in a DC of 60% for 2V2/2V3. Averaging thus produces a DC of 69.8% (“low”).avg • Adequate measures against common cause failure (85 points): separation (15), diversity (20), overvoltage protec- tion etc. (15) and environmental conditions (25 + 10) The combination of the pneumatic control elements satisfies Category 3 with a high MTTF (98.2 years) and low DC D avg (69.8%). This results in an average probability of dangerous failure of 8.5 · 10-8 per hour. This satisfies PL e. Following the addition of further safety-related control components in the form of subsystems for completion of the safety func- tion, the PL may under certain circumstances be lower. 193 8 Circuit examples for SRP/CS More detailed references • VDMA technical rule 24584: Safety functions of regulated and unregulated (fluid) mechanical systems (08.16). • Uppenkamp, J.: Teil-Sicherheitsfunktionen nach VDMA Einheitsblatt 24584 – Beispiele zweikanaliger elektropneu- matischer Steuerungen. Published by: Institut für Arbeitsschutz der Deutschen Gesetzlichen Unfallversicherung (IFA), Sankt Augustin, Germany 2017. www.dguv.de/medien/ifa/de/pra/hydraulik_pneumatik/beispiele-teil-sicherheitsfunktionen.pdf Figure 8.51: Determining of the PL by means of SISTEMA 194 8 Circuit examples for SRP/CS 195 8 Circuit examples for SRP/CS 8.2.26 Pneumatic valve control – Category 3 – PL e (Example 26) i This example has been deleted, since the technology is no longer relevant. 196 8 Circuit examples for SRP/CS 197 8 Circuit examples for SRP/CS 8.2.27 Hydraulic valve control (subsystem) – Category 3 – PL e (Example 27) 2A 1A Hazardous Hazardous movement movement 1V5 2V1 a b a b Further loads G 1S3 1V3 1V2 1V1 1Z2 1Z1 Figure 8.52: M 1S1 1S2 Tested hydraulic 1M 1P 3 valves for redundant control of hazardous movements Safety functions • Safety-related stop function: stopping of the hazardous movement and prevention of unexpected start-up from the rest position • Only the hydraulic part of the control system is shown here, in the form of a subsystem. Further SRP/CS (e.g. safeguards andelectrical logic elements) must be added in the form of subsystems for completion of the safety function. Functional description • Hazardous movements are executed by two actuators, 1A and 2A, in the same hazard zone. The two movements can be stopped either by the two directional control valves 1V5 and 2V1, or at a higher level by the directional con- trol valve 1V3. • Failure of one of these valves alone does not result in loss of the safety function. • 1V5 and 2V1 are actuated cyclically in the process. 1V3 closes only in response to a demand of the safety function, but at least once per shift. 198 8 Circuit examples for SRP/CS 1V5 2V1 1V3 1S3 • A technical measure for fault detection is implemented only on 1V3 (position monitoring by 1S3). Certain faults on the unmonitored valves become apparent in the work process. An accumulation of undetected faults may lead to loss of the safety function. Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. • The directional control valves 1V5 and 2V1 feature a closed centre position with sufficient overlap and spring- centred central position. 1V3 employs electrical position monitoring, since 1V3 is not switched cyclically. • The safety-oriented switch position is attained in each case by removal of the control signal (electrical or hydrau- lic). • A single-channel PLC for example is employed for processing signals from the electrical position monitor. Calculation of the probability of failure • MTTF : an MTTF of 150 years is assumed for the directional control valves 1V3, 1V5 and 2V1 [M]. Capping of the D D second channel (1V3) to 100 years produces a symmetrized MTTF value of 88 years (“high”). D • DC : a DC of 99% for1V3 is based upon the direct monitoring of the switching state by 1S3. The DC of 60% in each avg case for the directional control valves 1V5 and 2V1 is based upon indirect monitoring by the process. Averaging thus produces a DC of 73% (“low”). avg • Adequate measures against common cause failure (65 points): separation (15), overvoltage protection etc. (15) and environmental conditions (25 + 10) • The combination of the hydraulic control elements satisfies Category 3 with a high MTTF (88 years) and low DC D avg (73%). This results in an average probability of dangerous failure of 9.4 · 10-8 per hour. This satisfies PL e. Following the addition of further SRP/CS in the form of subsystems for completion of the safety function, the PL may under certain circumstances be lower. 199 8 Circuit examples for SRP/CS Figure 8.53: Determining of the PL by means of SISTEMA 200 8 Circuit examples for SRP/CS 201 8 Circuit examples for SRP/CS 8.2.28 Position monitoring of movable guards – Category 4 – PL e (Example 28) Open B1 B2 Closed Safeguard 1 Open B3 B4 Closed Enable K1 Safeguard 2 K3 I1.0 I1.1 I1.2 I1.3 I1.4 Inputs K1 PLC Safety module Outputs O1.0 L K2 Q1 K2 Q1 K3 Q2 Q1 Q2 Figure 8.54: Q2 Position monitoring M 3 of movable guards for the prevention Shown in the actuated position of hazardous movements Safety function • Safety-related stop function, initiated by a safeguard: opening of a movable guard (safety guard) initiates the safety function STO (safe torque off). Functional description • A hazard zone is safeguarded by two movable guards (safety guards). Opening of a safety screen is detected by two position switches B1/B2 respectively B3/B4 comprising break contact/make contact combinations and evaluated by a central safety module K1. K1actuates two contactors, Q1 and Q2, dropping out of which interrupts or prevents hazardous movements or states. 202 8 Circuit examples for SRP/CS B1 Q1 K1 B2 Q2 K3 K2 • For fault detection purposes, all position switch states are read by a second contact into a standard PLC K3, the chief purpose of which is functional control. In the event of a fault, K3 can de-energize the contactors Q1 and Q2 independently of K1 by means of a contactor relay K2. Faults in K2, Q1 and Q2 are detected by the safety module K1. The safety function is retained in the event of a component failure. The majority of component failures are detected and lead to operating inhibition. An accumulation of undetected faults does not result in loss of the safety func- tion. Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. Protective circuits (such as contact protection) as described in the initial paragraphs of Chapter 8 are implemented. • A stable arrangement of the guards is assured for actuation of the position switches. • B1 and B3 are position switches with a direct opening contact in accordance with IEC 60947-5-1, Annex K. • The supply conductors to the position switches are laid separately or with protection. • Faults in the actuating and operating mechanism are detected by the use of two position switches differing in the principle of their actuation (break and make contact combination). • Several safeguards may be cascaded. Cascading limits the facility for K1 to detect faults (see Annex E). The position switches are however additionally monitored by K3; this results in faults being detected even where safeguards are cascaded. • The safety module K1 satisfies all requirements for Category 4 and PL e. • TheFurther information can be found in subclause 6.2.14 4.3 Verification and validation of the control and Annex E. system for each safety function The final parameter, that of the CCF (common cause fai- If the design has already reached an advanced stage by lure, subclause 6.2.15), is similarly easy to calculate: for the time that the achieved PL is determined, the question this parameter, it is assumed that a cause, such as con- arises as to whether this PL is sufficient for each safety 21 4 Report and standard: an overview function executed by the control system. For this purpose, cess with freely available guides to application. These the PL is compared with the required PL (see Block 6, guides take the form both of explanatory reference with r Figure 4.1). If the PL attained for a safety function is infe- examples, and of the “SISTEMA” free software program rior to the required PL, design improvements on a greater (the acronym stands for “Safety Integrity Software Tool r or lesser scale are required (such as the use of alternative for the Evaluation of Machine Applications”), which sup- components with a superior MTTF ), until an adequate PL ports calculation and documentation of PL and PL (see D r is ultimately attained. Once this hurdle has been over- Annex H). The series of SISTEMA cookbooks, which has come, a series of validation steps are necessary. Part 2 of been continually extended, is devoted to particular topics EN ISO 13849 comes into play at this point. This validation that are relevant during application of the standard. These process systematically assures that all functional and concern not only SISTEMA itself (the SISTEMA libraries, performance requirements placed upon the safety-related use of network libraries, “Running several instances parts of the control system have beencontactor relay K2 possesses mechanically linked contact elements in accordance with IEC 60947-5-1, Annex L. • The contactors Q1 and Q2 possess mirror contacts in accordance with IEC 60947-4-1, Annex F. • The PLC K3 satisfies the normative requirements set out in subclause 6.3. Calculation of the probability of failure • The circuit arrangement can be divided into three subsystems as shown in the safety-related block diagram. The probability of failure of the safety module K1 is added at the end of the calculation (2.3 · 10-9 per hour [M], suitable for PL e). For the remaining subsystems, the probability of failure is calculated as follows. Since each guard door (guard) forms part of a dedicated safety function, calculation is shown here by way of example for safeguard 1. • MTTF : for the position switch B1 with direct opening action and roller actuation, the B is 20 · 106 switching cycles D 10D [M]. For position switch B2 (make contact), the B is 1 · 105 switching cycles [M]. At 365 working days, 16 working 10D hours per day and a cycle time of 1 hour, the n for these components is 5,840 cycles per year. The MTTF of B1 and op D B2 is 34,246 years and 171 years for B2 respectively. For the contactors Q1 and Q2, the B value corresponds under 10 inductive load (AC 3) to an electrical durability of 1,000,000 switching cycles [M]. On the assumption that 50% of failures are dangerous, the B value is produced by doubling of the B value. The value assumed above for 10D 10 n results in an MTTF of 3,424 years per channel for Q1 and Q2. Altogether, the symmetrized MTTF value per op D D 203 8 Circuit examples for SRP/CS channel in the two subsystemsis 100 years (“high”). The position switch B2 exhibits a limited operation time of 17.1 years. Its replacement in good time is recommended. • DC : the DC of 99% for B1 and B2 is based upon plausibility monitoring of the break/make contact combinations avg in K1 and K3. The DC of 99% for the contactors Q1 and Q2 is derived from monitoring at each energization of K1. The DC values stated correspond to the DC of the subsystem concerned. avg • Adequate measures against common cause failure in the subsystems B1/B2 and Q1/Q2 (70 points): separation (15), well-tried components (5), protection against overvoltage etc. (15) and environmental conditions (25 + 10) The subsystems B1/B2 and Q1/Q2 each correspond to Category 4 with a high MTTF (100 years) and high DC D avg (99%). This results in an average probability of dangerous failure in each case of 2.3 · 10-9 per hour. Following addi- tion of the subsystem K1, the average probability of dangerous failure is 4.6 · 10-9 per hour. This satisfies PL e. Figure 8.55: Determining of the PL by means of SISTEMA 204 8 Circuit examples for SRP/CS 205 8 Circuit examples for SRP/CS 8.2.29 Cascading of emergency stop devices by means of a safety module – Category 3 – PL e (Example 29) L S1 + S1.1 S1.2 S2 K2 S2.1 S2.2 S3 S3.1 S3.2 K1 START Safety module K3 S4 M Figure 8.56: 3 K2 Cascading of emergency stop devices by means K3 of a safety module (emergency stop function, STO) Safety function • Emergency stop function, STO by actuation of an emergency stop device Functional description • Hazardous movements or states are interrupted or prevented by actuation of an emergency stop device. As shown by Example 3 in subclause 5.3.2, each emergency stop deviceinitiates a safety function of its own. S1 is considered below as being representative of all the devices. S1 is evaluated in a safety module K1, which actuates two redun- dant contactor relays K2 and K3. • The signals from the emergency stop devices are read redundantly into the safety module K1 for fault detection. K1 also features internal test measures. The contactor relays K2 and K3 are also monitored in K1, by means of mechanically linked readback contacts. K2 and K3 are switched by the switch S4 at each start-up command, appro- ximately twice each month. An accumulation of more than two faults in the period between two successive actua- tions can lead to loss of the safety function. • It is not assumed that more than one emergency stop device is pressed simultaneously. • Organizational measures ensure that each emergency-stop device is actuated at least once a year. Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. Protective circuits (such as contact protection) as described in the initial paragraphs of Chapter 8 are implemented. • The emergency stop devices S1, S2 and S3 are switching devices with direct opening contacts in accordance with IEC 60947-5-1, Annex K. • The supply conductors to the switching devices are laid with protection. 206 8 Circuit examples for SRP/CS S1.1 K2 K1 S1.2 K3 • The safety module K1 satisfies all requirements for Category 4 and PL e. • K2 and K3 possess mechanically linked contact elements to IEC 60947-5-1, Annex L. Remark • The emergency stop function is a complementary protective measure to EN ISO 12100 [3]. Calculation of the probability of failure • S1, S2 and S3 are standard emergency stop devices to EN ISO 13850. In the two-channel model, aB value of 10D 100,000 switching cycles [S] is substituted for each contact of an emergency-stop device. The probability of failure of the safety module K1 is added at the end of the calculation (2.3 · 10-9 per hour [M], suitable for PL e). • MTTF : for the contactor relays K2 and K3, the B value corresponds under inductive load (AC 3) to an electrical D 10 durability of 1,000,000 switching cycles [M]. On the assumption that 50% of failures are dangerous, the B value 10D is produced by doubling of the B value. With twelve demands upon the emergency stop function and 24 start 10 commands per year, n is 36 cycles per year and the MTTF is 55,556 years. This is also the symmetrized MTTF for op D D the channel, which is capped to 100 years (“high”). • DC : the DC for K2 and K3 and for S1.1 and S1.2 is 90%. The DC is based upon testing and the detection of cross- avg circuits by the safety module K1. This is also the DC (“medium”). An adequate test rate of the emergency-stop avg devices is assured (refer to the information in subclauses 6.2.14 and D.2.5.1). • Adequate measures against common cause failure (70 points): separation (15), well-tried components (5), over- voltage protection etc. (15) and environmental conditions (25 + 10) • At twelve demands upon the emergency stop function per year, the average probability of dangerous failure PFH D for the emergency stop device S1 is 4.3 · 10-8 per hour. • The subsystem K2/K3 satisfies Category 3 with a high MTTF (100 years) and medium DC (90%). This results in an D avg average probability of dangerous failure of 4.3 · 10-8 per hour. Following addition of the subsystem K1, the average probabilityof dangerous failure is 8.8 · 10-8 per hour. This satisfies PL e. The PL of d is thus surpassed. r 207 8 Circuit examples for SRP/CS Figure 8.57: Determining of the PL by means of SISTEMA 208 8 Circuit examples for SRP/CS 209 8 Circuit examples for SRP/CS 8.2.30 Contactor monitoring module – Category 3 – PL e (Example 30) L L L Safeguard Q1 K1 Q2 Safety module M 3 Q2 Q2 Q2 Feedback F1 Contact monitoring module Figure 8.58: Initiation of STO Q1 U < (safe torque off) by means of a safety module and contactor monitoring module Safety function • Safety-related stop function, initiated by a guard: opening of the interlocking device initiates the safety function STO (safe torque off). Functional description • A hazard zone is safeguarded by means of a guard, opening of which is detected by a safety module K1. The safety module actuates a contactor Q2 and a combination comprising a contactor monitoring module F1 and an undervol- tage release Q1. The dropping-out of Q2 interrupts hazardous movements and prevents hazardous states from ari- sing. The contactor monitoring module F1 has the function of monitoring the main contacts of the contactor Q2 for contact welding. Should Q2 fail to drop out, F1 trips the upstream circuit-breaker or motor starter Q1 via the latter‘s undervoltage release. The circuit-breaker or motor starter then switches off the motor. • The safety function is preserved in the event of a component failure. • An accumulation of faults between two successive actuations can lead to loss of the safety function. 210 8 Circuit examples for SRP/CS Q2 K1 F1 Q1 Design features • The circuit-breaker Q1 is checked regularly by means of a test function that is to be implemented manually. The interval between the tests shouldnot exceed one-hundredth of the MTTF of Q1; the test could be performed for D example during maintenance of the machine. The contactor Q2 is tested continually by the contactor monitoring module. Loss of the safety function between the tests, as is possible with Category 2, cannot occur. The single-fault safety is thus assured and the requirements of Category 3 are met. • Basic and well-tried safety principles are observed and the requirements of Category B are met. Protective circuits (such as contact protection) as described in the initial paragraphs of Chapter 8 are implemented. • For reasons of simplification, details of the safeguard have been omitted from the presentation. • The safeguard acts upon a safety module K1 that satisfies all requirements for Category 3 or 4 and PL e. • The auxiliary contacts of the contactor Q2 are mechanically linked in accordance with IEC 60947-5-1, Annex L. • Faults are analysed for Q2 (with mirror contacts) and for the internal relay of the contactor monitoring module F1 as for mechanically linked contacts. Remark • Consideration must be given to the response time caused by the contactor monitoring module F1 with regard to the dropping-out of Q1. Calculation of the probability of failure • The safety function permits division into two subsystems. The subsystem consisting of the safeguard and the safety module K1 is not considered in this example. • MTTF : for the contactor monitoring module F1, the MTTF is 125 years at a maximum n of 350,400 cycles per D D op year [M]. Under inductive load (AC 3), the B value attained for Q1 is 10,000 switching cycles and the B value 10D 10D attained for Q2 1,300,000 switching cycles. With assumed actuation daily on 365 working days, n is 365 cycles op per year forQ1, and the MTTF is 274 years. At 365 working days, 16 working hours and a cycle time of 1 minute, D n is 350,400 cycles per year for Q2, and the MTTF is 37 years. For the channel consisting of F1 and Q1, this results op D in an MTTF of 85 years. Overall, the resulting symmetrized MTTF value per channel is 64 years (“high”). D D • DC : the DC of 99% for Q2 is based upon testing by means of the contactor monitoring module F1. A DC of 99% for avg F1 is achieved by fault-detection measures within the contactor monitoring module. The circuit-breaker Q1 is tested by means of the manual test function that is to be implemented; this produces a DC of 90%. A DC of 99% is substi- tuted for F1. Averaging thus yields a DC of 98% (“medium”). avg • Adequate measures against common cause failure (65 points): separation (15), overvoltage protection etc. (15) and environmental conditions (25 + 10) • The subsystem, comprising Q1, Q2 and F1, satisfies Category 3 with a high MTTF (64 years) and medium DC D avg (98%). This results in an average probability of dangerous failure of 4.4 · 10-8 per hour. This satisfies PL e. Following addition of the subsystem, comprising safeguard and safety module K1, the PL may under certain circumstances be lower. • In consideration of estimation erring on the safe side as described above, a T value of 3.7 years is produced for 10D the wearing element Q2 for replacement as specified. 211 8 Circuit examples for SRP/CS Figure 8.59: Determining of the PL by means of SISTEMA 212 8 Circuit examples for SRP/CS 213 8 Circuit examples for SRP/CS 8.2.31 Pneumatic valve control (subsystem) – Category 4 – PL e (Example31) Hazardous 1A movement 1S2 G 1V2 G 1S1 1V1 0S1 P 0V1 0Z Figure 8.60 Tested pneumatic valves for redundant control of hazardous movements Safety functions • Safety-related stop function: stopping of the hazardous movement and prevention of unexpected start-up from the rest position, implemented by safety sub-function SDE. • Only the pneumatic part of the control system is shown here, in the form of a subsystem. Further SRP/CS (e.g. safeguards and electrical logic elements) must be added in the form of subsystems for completion of the safety function. 214 8 Circuit examples for SRP/CS 1V1 1V2 1S1 1S2 Functional description • A hazardous movement of the cylinder is controlled redundantly by the valves 1V1 and 1V2. The movements can be halted either by the directional control valve 1V1 or 1V2. • Failure of one of these valves alone does not result in loss of the safety function. • Should at least one of the control signals be cancelled, the piston side of the cylinder is vented. • A single valve fault is detected by the integral position monitoring function when the control signal is cancelled; following a fault, initiation of the next hazardous movement is prevented. Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. • 1V1 and 1V2 are directional control valves with sufficient overlap, spring-return and electrical position monitoring. • Cancellation of the control signals places the valve in the safety-oriented switching position. • Signal processing by the electrical position monitoring function satisfies the relevant requirements for the control of failures. Calculation of the probability of failure • MTTF : a B value of 20,000,000 cycles [M] is assumed for the directional control valves. At 240 working days, D 10D 16 working hours and a cycle timeof 20 seconds, n is 691,200 cycles per year and the MTTF is 289 years (“high”). op D This is also the MTTF value per channel. D • DC : direct monitoring of the switching states yields a DC of 99% for 1V1 and 1V2. The resulting DC is also 99% avg avg (“high”). • Adequate measures against common cause failure (65 points): separation (15), overvoltage protection etc. (15) and environmental conditions (25 + 10) • The combination of the pneumatic control elements satisfies Category 4 with a high MTTF (289 years) and a high D DC (99%). This results in an average probability of dangerous failure of 8.1 · 10-9 per hour. This satisfies PL e. Fol- avg lowing the addition of further SRP/CS in the form of subsystems for completion of the safety function, the PL may under certain circumstances be lower. More detailed reference • VDMA technical rule 24584: Safety functions of regulated and unregulated (fluid) mechanical systems (08.16) 215 8 Circuit examples for SRP/CS Figure 8.61: Determining of the PL by means of SISTEMA 216 8 Circuit examples for SRP/CS 217 8 Circuit examples for SRP/CS 8.2.32 Hydraulic valve control (subsystem) – Category 4 – PL e (Example 32) Hazardous 1A movement G 1S4 1V4 a b G 1S3 1V3 1V2 1V1 1Z2 1Z1 Figure 8.62: M 1S1 1S2 1M 1P Tested hydraulic 3 valves for redundant control of hazardous movements Safety functions • Safety-related stop function: stopping of the hazardous movement and prevention of unexpected start-up from the rest position • Only the hydraulic part of the control system is shown here, in the form of a subsystem. Further SRP/CS (e.g. safe- guards and electrical logic elements) must be added in the form of subsystems for completion of the safety func- tion. Functional description •Hazardous movements are controlled by two directional control valves (1V3 and 1V4). • Failure of one of the two valves alone does not result in loss of the safety function. • The two directional control valves are actuated cyclically. • Each directional control valve is equipped with a direct position monitor (1S3 and 1S4). Failure of either of the two directional control valves is detected; following a fault, initiation of the next hazardous movement is prevented. 218 8 Circuit examples for SRP/CS 1V3 1V4 1S3 1S4 Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. • Directional control valves 1V3 and 1V4 possess a closed centre position with sufficient overlap, spring-centred central position/return, and electrical position monitoring. • The safety-oriented switching position is assumed from any position by cancellation of the control signal. • Signal processing by the electrical position monitoring function satisfies the relevant requirements for the control of failures. Calculation of the probability of failure • MTTF : an MTTF of 150 years is assumed for the directional control valves 1V3 and 1V4 [M]. D D • DC : the DC of 99% for the directional control valves 1V3 and 1V4 is based upon direct monitoring of the switching avg states. Averaging thus produces a DC also of 99% (“high”). avg • Adequate measures against common cause failure (65 points): separation (15), overvoltage protection etc. (15) and environmental conditions (25 + 10) • The combination of the hydraulic control elements satisfies Category 4 with a high MTTF and high DC (99%). D avg This results in an average probability of dangerous failure of 1.6 · 10-8 per hour. This satisfies PL e. Following the addition of further SRP/CS in the form of subsystems for completion of the safety function,Literaturhinweise dienen einem tieferen Ver- application and interpretation of the standard at national ständnis der jeweiligen Beispiele. Der Report zeigt, wie and international level. die Anforderungen der DIN EN ISO 13849-1 in die techni- sche Praxis umgesetzt werden können, und leistet damit einen Beitrag zur einheitlichen Anwendung und Interpre- tation der Norm auf nationaler und internationaler Ebene. Résumé Resumen La sécurité fonctionnelle des systèmes de Seguridad funcional de los sistemas de mando commande de machines de máquinas – Application de la norme DIN EN ISO 13849 – – Aplicación de la norma DIN EN ISO 13849 – La norme DIN EN ISO 13849-1 « Sécurité des machines – La norma DIN EN ISO 13849-1 «Seguridad de las máqui- Parties des systèmes de commande relatives à la sécurité nas: partes de los sistemas de mando relativas a la » définit comment doivent être conçues les parties des seguridad» establece reglas para el diseño de partes de systèmes de commande relatives à la sécurité. Le présent sistemas de mando relativas a la seguridad. El presente rapport est une version actualisée du rapport 2/2008 du informe es una actualización del informe del mismo nom- même nom du BGIA. Il présente les principaux contenus bre del BGIA 2/2008. En él se presentan los contenidos de la norme dans sa troisième édition de 2015, et en esenciales de la norma en su tercera edición de 2015 y explique l’application à partir de nombreux exemples pris se explica su aplicación con numerosos ejemplos de los dans les domaines de l’électromécanique, de la tech- ámbitos de la electromecánica, la tecnología de fluidos, nique des fluides, de l’électronique et de l’électronique la electrónica y la electrónica programable, incluidos los programmable, et notamment aussi des systèmes de sistemas de mando de tecnologías mixtas. Se muestra commande de technologie mixte.attained (see Block of SISTEMA in parallel”), but also the entire process of 7, Figure 4.1). Further details can be found in Chapter 7. design against the standard (“Definition of safety func- tions”, “From the schematic circuit diagram to the Perfor- 4.4 Changes arising from the third edition of mance Level”, “When the designated architectures don‘t the standard published in 2015 match”). Finally, the resources include the “Performance Level Calculator”[16] developed by the IFA. This presents With Amendment 1, the third edition of the standard the bar chart in the form of a rotating disc by means of was produced from the second. The amended passages which the PFH and PL can be determined easily and D primarily serve to improve comprehension and applica- precisely at any time. All further resources and reference – tion. A detailed overview focusing upon the changes was such as information on the test standards and principles pub lished by the IFA in 2015 [15]. The essential changes [17] of DGUV Test, the test and certification system of the include consideration, during specification of the required German Social Accident Insurance – can be found on the Performance Level (PL), of the probability of occurrence of IFA‘s website at: www.dguv.de/ifa/13849. r a hazardous event; a new, simplified method for determi- ning the PL for the output part of the safety-related part of During work on the third edition of EN ISO 13849-1, seve- the control system (SRP/CS); and a proposal for the hand- ral major work packages were identified that lay outside ling of requirements for SRESW (safety-related embedded the scope of an amendment. These included, for example, software) when standard components are used. Table 4.2 thorough revision of the software requirements, in order shows which main changes have been made in which to improve itsthe PL may under certain circumstances be lower. 219 8 Circuit examples for SRP/CS Figure 8.63: Determining of the PL by means of SISTEMA 220 8 Circuit examples for SRP/CS 221 8 Circuit examples for SRP/CS 8.2.33 Electrohydraulic press control – Category 4 – PL e (Example 33) 1A 1S5 Hazardous movement 1S4 1S3 Press ram K1 I1.0 I1.1 I1.2 Inputs PLC K1 Outputs O1.0 O1.1 O1.2 O1.3 G 1S5 Open 1V6 1V5 B1 K1 K2 G 1S4 Closed B2 1V4 a b K2 K2 K2 K1 Safety G 1S3 module 1V3 1V5 K2 1V4a 1V4b 1V2 1V3 1V1 1Z2 Figure 8.64: Press control, 1Z1 electrical M 1S1 1S2 1M 3 1P monitoring of a movable guard with hydraulic stopping of the hazardous Shown in the actuated position movement Safety function • Safety-related stop function, initiated by a safeguard: stopping of the hazardous movement Functional description • The hazard zone is safeguarded by means of a movable guard, the position of which is detected by two position switches B1 and B2 in the form of a break contact/make contact combination. The signals are read into a standard safety module K2, which is looped into the enabling path for the electrical pilot control K1 (a conventional PLC) for the hydraulic actuators. Hazardous movements or states are controlled on the actuator side by three directional control valves (1V3, 1V4 and 1V5). In response to a demand of the safety function, all valves are de-energized elec- trically by K2, and are placed by their return springs in the closed centre position (1V4) or closed position (1V3 and 1V5). The oil return from the end of the cylinder above the piston to the reservoir is interrupted simultaneously by the valves 1V4 and 1V5. 1V5 is a poppet valve that is designed to shut offthe volumetric flow without leakage. Valve 1V4, which also controls the direction of movement of the cylinder, is a piston-type directional control valve that also exhibits a certain degree of leakage in the closed centre position. Although the valve 1V3 is only indirectly involved in the stop function, it may have a negative impact upon the safety function. Should 1V3 and 1V4 stick at 222 8 Circuit examples for SRP/CS B1 1V4 K2 B2 1V3 1V5 1S3 K1 1S4 1S5 the same time, pressure builds up at the end of the cylinder above the piston, whilst the end below it remains shut off by 1V5. Owing to the pressure ratio in the cylinder, the pressure-relief valve 1V6 then opens and the ram of the press drops. • Failure of one of the valves does not result in loss of the safety function. All valves are actuated cyclically. • Each valve is equipped with a position monitoring facility, 1S3, 1S4 and 1S5, for fault detection purposes. Failure of any of the three valves is detected in the conventional PLC K1, which prevents the next hazardous movement from being initiated following a fault. • A single fault in one safety component does not result in loss of the safety function. In addition, single faults are detected at or prior to the next demand. An accumulation of undetected faults does not result in loss of the safety function. Design features • Basic and well-tried safety principles and the requirements of Category B are observed. Protective circuits (such as contact protection) as described in the initial paragraphs of Chapter 8 are implemented. • A stable arrangement of the guard is assured for actuation of the position switch. • The switch B1 is a position switch with a direct opening contact in accordance with IEC60947-5-1, Annex K. • The safety module K2 satisfies all requirements for Category 4 and PL e. • The supply conductors to the position switches are laid separately or with protection. • A standard PLC without safety functions is employed for K1. • The valves 1V3, 1V4 and 1V5 possess a closed centre position/closed position with sufficient overlap, spring- centred central position/return, and position monitoring. • The safety-oriented switching position is assumed from any position by cancellation of the control signal. • The pressure-relief valve 1V6 for protecting the cylinder 1A and the components below it against the effect of the pressure ratio satisfies the requirements of EN 693:2001, subclause 5.2.4.4. Calculation of the probability of failure • K2 is considered as a subsystem with a probability of failure of 2.3 · 10-9 per hour [M]. The remaining part of the control system is grouped separately by electromechanical and hydraulic components to form two Category 4 sub- systems, the probability of failure of which is calculated below. • MTTF : for the position switch B1 with direct opening action, the B is 20 · 106 switching cycles [M]. For the electri- D 10D cal make contact of the position switch B2, the B is 1,000,000 switching cycles [M]. At 365 working days, 16 wor- 10D king hours per day and a cycle time of 10 minutes, n is 35,040 cycles per year for these components, and the op MTTF is 5,707 years for B1 and 285 for B2. An MTTF of 150 years [M] is assumed for each of the valves 1V3, 1V4 and D D 1V5. This yields an MTTF value per channel of 100 and 88 years (“high”) respectively for the two subsystems. D 223 8 Circuit examples for SRP/CS • DC : the DC of 99% forB1 and B2 is based upon plausibility monitoring of the two switching states in K2. The DC avg of 99% for the two valves is based upon direct monitoring of the switching states by the PLC K1. This results in a DC of 99% (“high”) for the two subsystems. avg • Measures against common cause failures (75 points) for the two subsystems: separation (15), well-tried compo- nents (5), FMEA (5), protection against overvoltage etc. (15) and environmental conditions (25 + 10) • The electromechanical and hydraulic parts of the control system correspond to Category 4 with a high MTTF and a D high DC (99%). This results in an average probabilities of dangerous failure of 1.3 · 10-9 per hour and 2.1 · 10-8 per avg hour. Addition inclusive of K2 produces an average probability of dangerous failure for the complete safety function of 2.5 · 10-8 per hour. This satisfies PL e. Figure 8.65: Determining of the PL by means of SISTEMA 224 8 Circuit examples for SRP/CS 225 8 Circuit examples for SRP/CS 8.2.34 Position monitoring of movable guards – Category 4 – PL e (Example 34) Open L L B1 B2 Q1 Closed Q2 L K1 M S1 3~ Q1 Q2 START Q1 Q2 (Reset) Feedback Figure 8.66: Position monitoring of movable guards Shown in the actuated position by means of a safety module Safety function • Safety-related stop function, initiated by a movable guard: opening of the movable guard (safety guard) initiates the safety function STO (safe torque off). Functional description • A hazard zone is safeguarded by a movable guard (safety guard). Opening of the safety guard is detected by two position switches B1/B2 employing a break contact element/make contact element combination, and evaluated in a central safety module K1. K1 actuates two contactors, Q1and Q2, dropping out of which interrupts or prevents hazardous movements or states. • The position switches are monitored for plausibility in K1 for the purpose of fault detection. Faults in Q1 and Q2 are detected by a start-up test in K1. A start command is successful only if Q1 and Q2 had previously dropped out. Start- up testing by opening and closing of the guard is not required. 226 8 Circuit examples for SRP/CS B1 Q1 K1 B2 Q2 • The safety function remains intact in the event of a component failure. Faults are detected during operation or at actuation (opening and closing) of the guard by the dropping out of Q1 and Q2 and operating inhibition. • An accumulation of more than two faults in the period between two successive actuations can lead to loss of the safety function. Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. Protective circuits (such as contact protection) as described in the initial paragraphs of chapter 8 are implemented. • A stable arrangement of the guards is assured for actuation of the position switches. • The switch B1 is a position switch with direct opening action in accordance with IEC 60947-5-1, Annex K. • The supply conductors to position switches B1 and B2 are laid separately or with protection. • The safety module K1 satisfies all requirements for Category 4 and PL e. • The contactors Q1 and Q2 possess mirror contacts in accordance with IEC 60947-4-1, Annex F. Remarks • Category 4 is not observed if several mechanical position switches for different guards are cascaded (connected in a series arrangement), since this limits fault detection in the switches (see Annex E). Calculation of the probability of failure • The circuit arrangement canbe divided into three subsystems as shown in the safety-related block diagram. The probability of failure of the standard safety module K1 is added at the end of the calculation (2.3 · 10-9 per hour [M], suitable for PL e). For the remaining subsystems, the probability of failure is calculated as follows. • MTTF : for the position switch B1 with roller actuation, the B is 20 · 106 operation cycles [M]. For the position D 10D switch B2 (make contact element), the B is 1 · 105 operation cycles [M]. At 365 working days, 16 working hours 10D per day and a cycle time of 1 hour, n for these components is 5,840 cycles per year and the MTTF is 1,674 years op D for B1 and B2. For the contactors Q1 and Q2, the B value corresponds under inductive load (AC 3) to an electrical 10 dura bility of 1,000,000 operation cycles [M]. On the assumption that 50% of failures are dangerous, the B value 10D is produced by doubling of the B value. The value assumed above for n results in an MTTF of 3,424 years per 10 op D channel for Q1 and Q2. The position switch B2 exhibits a limited operation time of 17.1 years. Its replacement in good time is recommended. • DC : the DC of 99% for B1 and B2 is based upon plausibility monitoring of the break/make contact element combi- avg nations in K1. The DC of 99% for contactors Q1 and Q2 is derived from regular monitoring by K1 during start-up. The DC values stated correspond to the DC for the subsystem concerned. avg • Adequate measures against common cause failure in the subsystems B1/B2 and Q1/Q2 (70 points): separation (15), well-tried components (5), protection against overvoltage etc. (15) andenvironmental conditions (25 + 10) • The subsystems B1/B2 and Q1/Q2 each satisfy Category 4 with a high MTTF and high DC (99%). This results in D avg an average probability of dangerous failure of 2.3 · 10–9 per hour for each subsystem. Following addition of the sub- system K1, the average probability of dangerous failure is 4.6 · 10-9 per hour. This satisfies PL e. 227 8 Circuit examples for SRP/CS Figure 8.67: Determining of the PL by means of SISTEMA 228 8 Circuit examples for SRP/CS 229 8 Circuit examples for SRP/CS 8.2.35 Two-hand control – Category 4 – PL e (Example 35) i Changes with respect to the second edition (BGIA Report 2/2008e): The PFH value for the logic unit K1 and the B values for the pushbuttons S1 and S2 were brought into line with more D 10D realistic manufacturers‘ values Enable 13 21 13 21 S1 S2 14 22 14 22 K1 Logic unit Type III C to DIN EN 574 K2 K3 Figure 8.68: Two-hand control, signal processing by a logic device with downstream contactor relays Safety function • Controlled location of the operator‘s hands outside the hazard zone during a hazardous movement: when at least one of the two pushbuttons S1/S2 is released, enabling is cancelled and remains blocked until both pushbuttons are released and pressed again synchronously. Functional description • The logic unit K1 monitors operation of the actuators (pushbuttons) S1 and S2. Only when both pushbuttons are operated synchronously (i.e. within a maximum time of 500 ms as specified in EN 574) from within the released state do the contactor relays K2 and K3 pick up, resulting in enabling. When at least one of the pushbuttons S1/S2 is released, K2/K3 cancel enabling. • K2 and K3 have the function of contactmultiplication/load adaptation. The actual prevention of the hazardous movement, for example by separation of the electrical or hydraulic energy, is dependent upon the application and is not shown here. • Faults in the actuating mechanism are detected in S1/S2 to the greatest extent possible by the use of two con- tacts employing different principles (break and make contact combination). In accordance with Recommendation for Use (RfU) CNB/M/11.033/R/E Rev 06, mechanical faults on the actuators can be excluded when they satisfy IEC 60947-5-1. 230 8 Circuit examples for SRP/CS S1/13-14 S2/21-22 K2 K1 S2/13-14 S1/21-22 K3 • Faults in S1/S2 and in K2/K3 (with break contacts in the feedback circuit) are detected in K1 and lead to sustained de-energization via K2 and K3. All individual faults are detected at or prior to the next demand of the safety func- tion. • Frequent actuation of the electromechanical elements results in a sufficiently high test rate (forced dynamics). Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. Protective circuits (such as contact protection), as described in subclause 8.1, are implemented. • The actuators S1 and S2 of the two-hand control satisfy IEC 60947-5-1. In accordance with RfU CNB/M/11.033/R/E Rev 06, mechanical faults can therefore be excluded. • Faults in the conductors to S1 and S2 are detected in the logic device. If this were not possible, the conditions to EN ISO 13849-2, Table D.4 for a fault exclusion for conductor short circuits would have to be observed. Owing to the low currents, pushbuttons with gold-plated contacts are recommended. • Refer to EN 574, subclauses 8 and 9 with regard to fitting of the pushbuttons and measures for the avoidance of accidental actuation and defeating. The safety distance from the hazard zone must be sufficientlygreat. • The logic unit K1 satisfies Type III C to EN 574, with self-monitoring and detection of internal faults. K1 is a tested safety component for use in Category 4 and PL e. • The contactor relays K2 and K3 possess mechanically linked break contacts in accordance with IEC 60947-5-1, Annex L for feedback. Remarks • The example shown is suitable for application for example on mechanical presses (EN 692). Calculation of the probability of failure • K1 is considered as a subsystem with a probability of failure of 3.0 · 10-9 per hour [M]. The remaining part of the control system is grouped to form a Category 4 subsystem the probability of failure of which is calculated below. • Since S1 and S2 must initiate de-energization independently of each other when released, they are connected logically in series. For this purpose, one make contact 13-14 and one break contact 21-22 were each assigned to a control channel. The safety-related block diagram differs substantially in this respect from the functional circuit diagram. If the reliability data are available only for the pushbuttons as a whole (actuation mechanism and break and make contacts), the failure values for the pushbuttons may be employed as an estimation erring on the safe side for the failure values for the contacts (plus operating mechanism). • MTTF : owing to the defined control current generated by K1 (low electrical load; the mechanical durability of the D contacts is the determining factor), B values of 2,000,000 switching cycles [M] are assumed in each case for 10D S1 and S2. At 240 working days, 8 working hours and a cycle time of 30 seconds, n is 230,400 cycles per year op for these components, and the MTTF is 86.8 years per contact. Since K2 and K3 alsoswitch control currents, D B values of 20,000,000 cycles [S] and resulting MTTF values of 868 years apply to each of them. Should the 10D D re quirements be higher (longer working hours or a shorter cycle time), higher B values validated by the manu- 10D facturer may be required for K2/K3. Overall, the resulting MTTF value per channel is 41 years (“high”). D 231 8 Circuit examples for SRP/CS • DC : a DC of 99% for S1 and S2 is achieved by virtue of direct monitoring with the aid of the break/make contact avg combinations in K1. The DC of 99% for K2 and K3 is based upon readback of the mechanically linked break contacts in the feedback circuit of K1. The high frequency of actuation in the application results in frequent testing (see sub- clause 6.2.14). Averaging results in a DC of 99% (“high”). avg • Adequate measures against common cause failure (70 points): separation (15), FMEA (5), overvoltage protection etc. (15) and environmental conditions (25 + 10) • The combination of the control elements satisfies Category 4 with a high MTTF per channel (41 years) and high D DC (99%). For the combination of S1, S2, K2 and K3, the average probability of dangerous failure is calculated at avg 6.7 · 10-8 per hour. If a value of 3.0 · 10-9 per hour [E] for K1 is added, the result is an average probability of dange- rous failure of 7.0 · 10-8 per hour. This satisfies PL e. The probability of failure of downstream power components may have to be added for completion of the safety function. • The wearing elements S1 and S2 should each be replaced at intervals of approximately eight years (T ). 10D More detailed references • EN 574: Safety of machinerysuitability for application in practice, and subclauses of the standard and of the present report. also consistent precision of when “SRP/CS” refers to the entire control system executing a safety function, and The example circuits in Chapter 8 of the report have been when to a subsystem that executes only a part of the thoroughly updated from the 2008 versions based upon safety function. In order for these proposals to be imple- the above changes to the standard. mented in the longer term, the committee responsible for the standard decided as early as 2016 , following publica- 4.5 Future development of EN ISO 13849-1 tion of the third edition, to begin work on a revision of the standard. The IFA will support this activity as it has done The third edition of EN ISO 13849-1 replaces the previ- effectively in the past, in order for the anticipated results ous edition without a specific transition period. Since (possibly in the form of a fourth edition of the standard) the changes – as described in the preceding subclause once again to be prepared for practical application as – essentially concern additions, updating and improve- described above. ments, however, the transition from the second to the third edition of the standard is not generally critical. As it has done for some time, the IFA is supporting this pro- 22 4 Report and standard: an overview Table 4.2: Essential changes in the third edition of the standard and the affected subclauses of the standard and of the present report Section of the standard Change Section of the report 1 Introduction Replacement of Table 1, “Recommended application of 3 Generic standards concer- IEC 62061 and ISO 13849-1”, by a reference to ISO/TR 23849 ning functional safety 2 Scope The standard applies to SRP/CSs with high– Two-hand control devices – Functional aspects – principles for design (1996) + A1 (2008). (replacement by EN ISO 13851 is planned) • Recommendation for Use. Published by: Vertical Group 11 (VG 11) in the Co-ordination of Notified Bodies. http:// ec.europa.eu/DocsRoom/documents/14265/attachments/1/translations/en/renditions/native CNB/M/11.033/ R/E Rev 06, p. 181, November 2015 Figure 8.69: Determining of the PL by means of SISTEMA 232 8 Circuit examples for SRP/CS 233 8 Circuit examples for SRP/CS 8.2.36 Processing of signals from a light barrier – Category 4 – PL e (Example 36) i This example has been deleted, since the technology is no longer relevant 234 8 Circuit examples for SRP/CS 235 8 Circuit examples for SRP/CS 8.2.37 Paper-cutting guillotine with programmable electronic logic control – Category 4 – PL e (Example 37) Figure 8.70: Control of an electric knife drive and a hydraulic clamping bar Micro- Clamping bar controller 2 + + + 1A B2 B3 K3 Hazardous K4 movement 2V2 K5 2S1 P Q1 Q2 K6 2V1 Knife BCC Knife Position locking device monitoring 2V3 1V2 1V1 1Z2 1Z1 M 1S1 1S2 1M 1P 3 Knife feedback + + + + + + + + + + 2S1 K5 K3 13 21 13 21 S1 B3 B2 S2 P> 14 22 B1 14 22 K6 K4 K1 K2 Input Input Synchronization and Microcontroller 1 Microcontroller 2 data exchange Output Output 2V2 2V1 K3 K4 K5 K6 Shown in the actuated position 236 8 Circuit examples for SRP/CS S1/13-14 S2/21-22 K1 K3 K4 2V2 Q1 S2/13-14 S1/21-22 K2 K5 K6 2V1 Q2 2S1 B1 B2/B3 Safety function • Controlled location of a single operator‘s hands outside the hazard zone during the press and cutting movement: when at least one of the two pushbuttons S1/S2 is released, enabling is cancelled and remains blocked until bothpushbuttons are released and pressed again synchronously. Functional description • Actuation of the two-hand control (THC) S1 and S2 initiates the hazardous movements (processing cycle) of the clamping bar (hydraulic) 1A and of the knife (electromechanical). If, during this cycle, either of the pushbuttons S1 or S2 is released or a signal change occurs in the peripheral system of the machine (e.g. light curtain, not shown on the diagram) that is not expected by the control system, the cycle is stopped and the machine remains in this safe state. Owing to their immediate physical proximity to each other, the knife and the clamping bar constitute a common hazard zone. The hazard occurs cyclically. The knife is driven by an eccentric drive that draws its energy from a flywheel mass in constant motion. The drive is not shown explicitly. The clamping bar is driven linearly by a hydraulic arrangement employing a pump connected to the drive of the flywheel mass. • When pushbuttons S1/S2 (THC) are pushed, the signal change is communicated to the two microcontrollers K1 and K2. Provided these signals satisfy the requirements for simultaneity in accordance with the standard (EN 574, Type III C) and all peripheral signals satisfy the condition for a start, K1 and K2 set the outputs for a valid cut request. Each microcontroller monitors both hazardous movements through the contactor relays K3 to K6. The closing movement of the clamping bar 1A can be prevented by the two hydraulic valves 2V1 and 2V2. Actuation of the brake/clutch combination (BCC) Q1 can be prevented via K3 and K5. A suitably dimensioned mechanical knife locking device Q2 must also be enabled cyclically by K2. Should faults be detected in Q1, the knife cycle can there- fore be prevented in the following cycle at the latest. •Faults in the switches S1/S2 or in the contactor relays with mechanically linked readback contacts K3 to K6 are detected in the microcontrollers by cross monitoring. The functioning of 2V1/2V2 is monitored by means of the pressure switch 2S1. Since the microcontrollers perform self-tests in addition in the background during operation, internal faults and faults in the peripherals can be detected here in time. • All machine states are monitored and controlled by both microcontrollers. The cyclical nature of the cut operation causes all system states to be cycled through and compared with each other. Faults and deviations from defined intermediate states cause the machine to be halted at the latest upon completion of the cycle. This method is implied in the diagram by the signal “Feedback knife” B1 and the signal “Position monitoring” B2/B3 of the “Knife locking device” Q2. • Brake wear is monitored with the aid of the position switch B1. B1 is actuated and a further cut prevented by the control system in response to the slightest increase in the overrun. Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. Protective circuits as described in the initial paragraphs of Chapter 8 are implemented. • The actuators S1 and S2 of the two-hand control satisfy IEC 60947-5-1. 237 8 Circuit examples for SRP/CS • B1 and B2 are position switches with direct opening action to IEC 60947-5-1, Annex K. • K3 to K6 possess mechanically linked contact elements to IEC 60947-5-1, Annex L. • The supply conductors to the position switches are laid either separately or with protection against mechanical damage. • The software of the homogeneously redundant microprocessor structure satisfies the requirements of IEC 61508-3, clause 7 for SIL 3. • A fault exclusion applies for thefault: “complete failure of the brake/clutch combination”, i.e. failure to disengage when the cut enable is cancelled following initiation of a cut. The reasoning for this fault exclusion is based upon many years of experience and the design features of the brake/clutch combination with the possibility of early detection of brake wear. • The components B1 and B2/B3 are required for implementation of the measures required in EN 1010-3 for stopping and overrun of the knife. Calculation of the probability of failure • The designated architecture for Category 4 for actuation of the knife drive and the clamping bar is implemented by two independent channels as described. Since the channels are virtually identical in their arrangement and are analysed with the use of identical numerical data, symmetrization is not required. For the sake of simplification, only single-channel actuation of Q1 is assumed. The probability of failure is therefore slightly lower in practice than that calculated. • Since S1 and S2 must initiate de-energization independently of each other when released, they are connected logically in series. For this purpose, one make-contact 13-14 and one break-contact 21-22 were each assigned to a control channel. The safety-related block diagram differs substantially in this respect from the functional circuit diagram. The B value for each individual contact is employed, constituting an estimation erring on the safe side. 10D • MTTF : at 240 working days, 8 working hours and a cycle time of 60 seconds, n is 115,200 switching cycles per D op year. Owing to many years‘ experience gained in the construction of these machines, together with relevant quality records and design measures such as the defined control current (low electrical load; the mechanical durability of the contacts is the determining factor), B values of 2,000,000 switching cycles [E] each are assumed forS1 and 10D for S2, and thus an MTTF of 173 years. An MTTF of 878 years [D] is stated for the microcontrollers including peri- D D pherals, in accordance with SN 29500-2. At low load, a B of 20,000,000 switching cycles [S] and thus an MTTF 10D D of 1,736 years applies for the contactor relays K3 to K6. The MTTF value of 607 years for the brake/clutch combi- D nation Q1 is calculated from the B value of 7,000,000 cycles [E]. The same value is assumed for the knife locking 10D device Q2 in the second channel. The values for the two directional control valves 2V1 and 2V2 are 150 years [S]. These values result in an MTTF one of each channel of 45.2 years (“high”). D • DC : the DC of 99% for S1/S2 is based upon the cross monitoring of input signals without dynamic test, with fre- avg quent signal changes. The DC of 90% for K1/K2 is derived from self-tests performed by software and the dynamic cross monitoring of data with expectations regarding timing. The DC of 99% for K3 to K6 is derived from plausibility testing by means of mechanically linked contacts. For 2V1/2V2, the DC is 99% owing to indirect and direct electrical monitoring of the pressure with frequent signal changes. Wear in the clutch leads to a change in cutting behaviour. This behaviour is monitored by instruments. A DC of 99% is therefore assumed for Q1. Failure of Q2 is detected immediately owing to cyclical actuation and the monitoring elements B1 and B3. This is the reasoning for a DC of 99%. These values result in a DC of 98.5% (within the tolerance for “high”). avg • Adequate measures against common cause failure (65 points): separation (15), overvoltage protection etc. (15)and environmental conditions (25 + 10) • For Category 4, the average probability of dangerous failure is 6.5 · 10-8 per hour. This satisfies PL e. • With allowance for the estimation erring on the safe side described above, a value of over 17 years (T ) is pro- 10D duced for the specified replacement of the wearing elements S1 and S2. 238 8 Circuit examples for SRP/CS More detailed references • EN 1010-3: Safety of machinery – Safety requirements for the design and construction of printing and paper conver- ting machines – Part 3: Cutting machines (2002) + A1 (2009) • EN 574: Safety of machinery – Two-hand control devices – Functional aspects – Principles for design (1996) +A1 (2008) • IEC 60947-5-1: Low-voltage switchgear and controlgear – Part 5-1: Control circuit devices and switching elements – Electromechanical control circuit devices (2009) + A1 (2012). IEC, Geneva, Switzerland 2009/2012 Figure 8.71: Determining of the PL by means of SISTEMA 239 8 Circuit examples for SRP/CS 8.2.38 Hydraulic valve control (subsystem) – Category 4 – PL e (Example 38) Figure 8.72: Hydraulic valves for the control of hazardous movements Hazardous movement 1A * 2A * 3A * 4A * 1V4 1V5 2V1 2V2 3V1 3V2 4V1 4V2 1V3 a b 1Z3 1V2 1V1 1Z2 1Z1 M 1S1 1S2 1M 1P 3 Safety functions • Safety-related stop function: stopping of the hazardous movement and prevention of unexpected start-up from the rest position • Only the hydraulic part of the control system is shown in this example, in the form of a subsystem. Further SRP/CS (e.g. safeguards and electrical logic elements) must be added in the form of subsystems for completion of the safety function. Functional description • Hazardous movements are executed by four actuators, 1A to 4A. The movements are haltedby the directional con- trol valve 1V3 in conjunction with the pilot-operated non-return valves. Both the former and the latter constitute well-tried components for safety applications. • Failure of the directional control valve or one of the pilot-operated non-return valves can result in loss of the safety function. The failure is dependent upon the reliability of the valves. • No measures for fault detection are implemented. 240 8 Circuit examples for SRP/CS 1V3 1V4 1V5 2V1 2V2 3V1 3V2 4V1 4V2 Design features • Basic and well-tried safety principles are observed and the requirements of Category B are met. • 1V3 is a directional control valve with sufficient overlap, spring-centred central position and fatigue-resistant springs. • The valves 1V4, 1V5, 2V1, 2V2, 3V1, 3V2, 4V1 and 4V2 are pilot-operated non-return valves. • The safety-oriented switching position is attained by cancellation of the control signal. • Where necessary, the manufacturer/user must confirm that the directional control valve and the pilot-operated non-return valves constitute well-tried components for safety applications. • The following specific measures are implemented to increase the reliability of the valves: a pressure filter 1Z3 upstream of the directional control valve, and suitable measures on the cylinder to prevent dirt from being drawn in by the piston rod (e.g. an effective wiper on the piston rods, see * in Figure 8.72). Calculation of the probability of failure • MTTF : an MTTF of 600 years is assumed [S] in each case for the directional control valve and the pilot-operated D D non-return valves, since the number of switching cycles of the valves lies between 250,000 and 500,000 per year (n ) for this application. op • DC and measures against common cause failures are not relevant in Category 1. avg • The hydraulic part of the control system satisfies Category1 with a high MTTF (66.7 years). This results in an ave- D rage probability of dangerous failure of 1.7 · 10-6 per hour. This satisfies PL c. Figure 8.73: Determining of the PL by means of SISTEMA 241 242 9 References [1] Directive 98/37/EC of the European Parliament and Schmidt, Berlin, Germany 2003 – looseleaf-ed. of the Council of 22 June 1998 on the approximation www.ifa-handbuchdigital.de/330219 of the laws of the Member States relating to machi- nery. OJ EC (1998) No. L 207, p. 1-46; amended by [13] Hauke, M.; Schaefer, M.: Sicherheitsnorm mit Directive 98/79/EC, OJ EC L 331 (1998), p. 1-37. neuem Konzept. O + P Ölhydraulik und Pneumatik 50 http://eur-lex.europa.eu (2006) No. 3, p. 142-147. www.dguv.de/medien/ifa/ de/pub/grl/pdf/2006_016.pdf [2] Directive 2006/42/EC of the European Parliament and of the Council of 17 May 2006 on machinery, [14] DIN ISO/TR 23849: Guidance on the application and amending Directive 95/16/EC (recast). OJ EC of EN ISO 13849-1 and IEC 62061 in the design of (2006) No. L 157, p. 24-86 safety-related control systems for machinery (2014) http://eur-lex.europa.eu [15] Hauke, M.; Apfeld, R.; Bömer, T.; Huelke, M.; Rempel, [3] EN ISO 12100: Safety of machinery – General princi- P.; Ostermann, B.: Amendment of EN ISO 13849-1 – A ples for design – Risk assessment and risk reduction survey of the essential improvements in 2015. Pub- (2011) lished by: Institut für Arbeitschutz der Deutschen Gesetzlichen Unfallversicherung (IFA), Sankt Augus- [4] ISO/TR 14121-2: Safety of machinery – Risk assess- tin, Germany 2015. www.dguv.de/webcode/e89507 ment – Part 2: Practical guidance and examples of methods (2012) [16] Schaefer, M.; Hauke, M.: Performance Level Calcu- lator – PLC. 5th ed. Published by: Institute for Occu- [5] EN ISO 13849-1: Safety of machinery – Safety-related pational Safety and Health of the German Social parts of control systems– Part 1: General principles Accident Insurance; German Electrical and Electronic for design (2015) Manufacturers’ Association (ZVEI) – Division Auto- mation, Frankfurt am Main, und Mechanical Engi- [6] EN ISO 13849-2: Safety of machinery – Safety-related neering Industry Association – VDMA, Frankfurt am parts of control systems – Part 2: Validation (2012) Main, Germany 2015. www.dguv.de/webcode/e20892 [7] Ostermann, H.-J.; von Locquenghien, D.: Wegweiser Maschinensicherheit. Bundesanzeiger Verlagsge- [17] Principles for testing and certification of DGUV-Test. sellschaft, Cologne, Germany 2007 www.dguv.de/webcode/e541144 [8] Reudenbach, R.: Sichere Maschinen in Europa – Teil [18] Summary list of titles and references of harmonised 1: Europäische und nationale Rechtsgrundlagen. standards under Directive 98/37/EC on Machi- 8th ed. Verlag Technik & Information, Bochum, nery. Published by: European Commission. http:// Germany 2007 ec.europa.eu/growth/single-market/european- standards/harmonised-standards/machinery/ [9] EN 954-1 Safety of machinery – Safety-related parts index_en.htm of control systems – Part 1: General principles for design (1996) [19] IFA-Handbuch Sicherheit und Gesundheitsschutz am Arbeitsplatz. 2nd ed. Published by: Deutsche Gesetz- [10] IEC 61508: Functional safety of electrical/electronic/ liche Unfallversicherung e. V. (DGUV), Berlin. Erich programmable electronic safety-related systems – Schmidt, Berlin, Germany 2003 – looseleaf-ed. Part 0 to 7 (2010) www.ifa-handbuchdigital.de [11] IEC 62061: Safety of machinery. Functional safety of [20] IEC 61800-5-2: Adjustable speed electrical power safety-related electrical, electronic and programma- drive systems – Part 5-2: Safety requirements – ble electronic control systems (2015) Functional (2016) [12] Bömer, T.: Funktionale Sicherheit nach IEC 61508. In: [21] VDMA-Einheitsblatt 24584: Safety functions of regu- IFA-Handbuch Sicherheit und Gesundheitsschutz am lated and unregulated (fluid) mechanical systems Arbeitsplatz (Kennzahl 330 219). 2nd ed. Lfg. 2/14, (2016) XII/2014. Published by: Deutsche Gesetzliche Unfall- versicherung e. V. (DGUV), Berlin, Germany. Erich 243 9 References [22] Werner, C.; Zilligen, H.; Köhler, B.; Apfeld, R.: Safe cepts, principles and fundamental recommenda- drive controls with frequency inverters. IFA Reporttions (2014). Blatt 2: Development of usable user 4/2018e. 3rd ed. Published by: Deutsche Gesetzliche interfaces for technical plants – Features, design Unfallversicherung e. V. (DGUV), Berlin, Germany and applications of user interfaces with touchscreen 2019. www.dguv.de/webcode/e635980 (will be pub- (2015). Blatt 3: Development of usable user inter- lished in Summer 2019) faces for technical plants – Interaction devices for screens (2017) [23] The SISTEMA Cookbook 6: Definitions of safety func- tions: What is important? Published by: Institut für [32] Hauke, M.; Apfeld, R.: The SISTEMA Cookbook 4: Arbeitsschutz der Deutschen Gesetzlichen Unfallver- When the designated architectures don‘t match. sicherung (IFA), Sankt Augustin, Germany 2015. Published by: Institut für Arbeitsschutz der Deut- www.dguv.de/webcode/e109249 schen Gesetzlichen Unfallversicherung, Sankt Augustin, Germany 2012. [24] Apfeld, R.; Schaefer, M.: Sicherheitsfunktionen nach www.dguv.de/webcode/e109249 DIN EN ISO 13849-1 bei überlagerten Gefährdungen. Fachmesse und Kongress SPS/IPC DRIVES, 23.-25. [33] Birolini, A.: Reliability Engineering: Theory and November 2010, Nürnberg, Germany – Vortrag. Practice. 6th ed. (2010) www.dguv.de/webcode/d18471 [34] Apfeld, R.; Hauke, M.; Schaefer, M.; Rempel, P.; [25] IEC 60204-1: Safety of machinery – Electrical equip- Ostermann, B.: The SISTEMA Cookbook 1: From the ment of machines – Part 1: General requirements schematic circuit diagram to the Performance Level (2016) – quantification of safety functions with SISTEMA. Published by: Institut für Arbeitsschutz der Deut- [26] Interpretation paper on substantial modification schen Gesetzlichen Unfallversicherung, Sankt to machinery. Notice from the Federal Ministry of Augustin, Germany 2010. Labour and Social Affairs of 9 April 2015 – IIIb5- www.dguv.de/webcode/e109249 39607-3 . www.bmas.de/DE/Themen/ Arbeitsschutz/Produktsicherheit/maschinen.html [35] EN ISO 14119: Safety of machinery – Interlocking devices associated with guards – Principles for [27] EN 1010-3: Safety of machinery – Safety require- design and selection (2013) ments for the design and construction of printing and paper converting machines – Part 3: Cutting [36] Vertical Recommendation fordemand and 3 Generic standards concer- continuous mode ning functional safety 3 Terms, definitions, Abbreviation PFH for the average probability of a dangerous Throughout D symbols and abbrevi- failure per hour ated terms MTTF , B , T and λ with the “D” suffix in capitals Throughout D 10D 10D D 4 Design considera- Updating of the references to ISO 12100:2010 5 Safety functions tions (and Annex K) Combination with subsystems in accordance with other 6.4 Combination of SRP/CSs standards governing functional safety MTTF capping for Category 4 increased to 2,500 years 6.2.13 FMEA versus the parts count D method Test frequency and MTTF of the test channel in Category 2 6.2.5 Category 2 and D 6.2.14 Diagnostic coverage Alternative determining of the PFH for the output part of the 6.2.17 Determining of the PL for the D SRP/CS in accordance with Section 4.5.5 of the standard output part of the SRP/CS Requirements for SRESW when standard components are used 6.3.10 Requirements for the soft- ware of standard compo- nents 5 Safety functions Consideration of loss of power with possibly separate safety 5 Safety functions function 6.2 Categories Warning of the hazard as an alternative to initiation of a safe 6.2.5 Category 2 and state in Category 2 up to a PL of c 6.2.14 Diagnostic coverage r 6.3 Combination Combination of SRP/CSs: Addition of PFH as the preferred 6.4 Combination of SRP/CSs D method Annex A, Emphasizing of the informative character 5 Safety functions, Annex A, Determation of the PL examples r Distinction between F1 and F2 5.4.1 Risk graph Probability of occurence of a hazardous event 5.4.1 Risk graph Overlapping hazards 5.3.2 Examples in which the definition of the safety func- tion has an influence upon subsequent calculation of the PFH D Annex C, MTTF Amendment of selectedUse Sheets (RfUs) – machines (2009) Status on November 2015, Number CNB/M/11.050/ R/E Rev 05, S. 191, Hrsg.: European Co-Ordination [28] EN 1010-1:Safety of machinery – Safety requirements of Notified Bodies Machinery Directive 2006/42/EC for the design and construction of printing and + Amendment, 2015 http://ec.europa.eu/growth/ paper converting machines – Part 1: Common requi- sectors/mechanical-engineering/machinery/index_ rements (2010) en.htm [29] Apfeld, R.; Huelke, M.; Lüken, K.; Schaefer, M. et al.: [37] IEC 61508-6: Functional safety of electrical/elect- Manipulation von Schutzeinrichtungen an Maschi- ronic/programmable electronic safety-related sys- nen. Published by: Hauptverband der gewerblichen tems – Part 6: Guidelines on the application of IEC Berufsgenossenschaften (HVBG), Sankt Augustin, 61508-2 and IEC 61508-3 (2010) Germany 2006. www.dguv.de/webcode/d6303 and www.stopp-manipulation.org [38] Prüfgrundsätze Bussysteme für die Übertragung sicherheitsrelevanter Nachrichten GS-ET-26. [30] DGUV Information 209-068/069 (bisher: BGI/GUV-I Pub lished by: Fachbereich Energie Textil Elektro 5048-1/2): Ergonomische Maschinengestaltung, Medienerzeugnisse, Cologne, Germany 2014. Checkliste, Auswertungsbogen und Informationen www.bgetem.de, Webcode: 12677093 (02.2018). Published by: Institut für Arbeitsschutz der Deutschen Gesetzlichen Unfallversicherung [39] IEC 61784-3: Industrial communication networks (IFA), Sankt Augustin, Germany 2018. – Profiles – Part 3: Functional safety fieldbuses – www.dguv.de/webcode/d3443 General rules and profile definitions (2016) [31] VDI/VDE 3850: Development of usable user inter- [40] Reinert, D.; Schaefer, M.: Sichere Bussysteme für die faces for technical plants. Blatt 1: Development of Automation. Hüthig, Heidelberg 2001 usable user interfaces for technical plants – Con- 244 9 References [41] Huckle, T.: Kleine BUGs, große GAUs. Vortrag zum Part 2: Displays (09/06), Part 3: Control actuators Thema „Softwarefehler und ihre Folgen“. (12/99) www5.in.tum.de/~huckle/bugsn.pdf [53] Leitfaden Software-Ergonomie; Gestaltung von [42] IEC 61508-3: Functional safety of electrical/electro- Bedienoberflächen, VDMA Verlag, Frankfurt am nic/programmable electronic safety-related systems Main, Germany 2004 – Part 3: Software requirements (2010) [54] EN ISO 9241-11: Ergonomics of human-system inter- [43] IFA-Report 2/2016: Sicherheitsbezogene Anwen- action – Part 11: Usability:Definitions and concepts dungssoftware von Maschinen – Die Matrixmethode (2018) des IFA. Published by: Deutsche Gesetzliche Unfall- versicherung (DGUV), Berlin, Germany 2016. [55] EN 574: Safety of machinery – Two-hand control www.dguv.de/webcode/d1023063 devices – Functional aspects – Principles for design (2008) [44] Software-Assistent SOFTEMA: Spezifikation zur IFA-Matrixmethode bei sicherheitsbezogener [56] IEC 60947-5-1: Low-voltage switchgear and control- Anwendungssoftware. Published by: Institut für gear – Part 5-1: Control circuit devices and switching Arbeitsschutz der Deutschen Gesetzlichen Unfallver- elements – Electromechanical control circuit devices sicherung (IFA), Sankt Augustin, Germany. (2016) www.dguv.de/webcode/d1082520 [57] BGIA Report 2/2008e: Functional safety of machine [45] Friedrich, J.; Kuhrmann, M.; Sihling, M.; controls. Published by: Deutsche Gesetzliche Unfall- Hammerschall, U.: Das V-Modell XT Für Projektleiter versicherung e.V. (DGUV), Berlin, Germany 2009. und QS-Verantwortliche kompakt und übersichtlich. www.dguv.de/webcode/e91335 Springer, Berlin, Germany 2009 [58] EN ISO 4413: Hydraulic fluid power – General rules [46] IEC 61131-3: Programmable controllers – Part 3: Pro- and safety requirements for systems and their com- gramming languages (2013) ponents (2010) [47] MISRA Development Guidelines for Vehicle Based [59] EN ISO 4414: Pneumatic fluid power – General rules Software. Published by: The Motor Industry Software and safety requirements for systems and their com- Reliability Association. www.misra.org.uk ponents (2010) [48] IEC 61508-2: Functional safety of electrical/electro- [60] EN ISO 14118 (ehm. EN 1037): Safety of machinery – nic/programmable electronic safety-related systems Prevention of unexpected start-up (2018) – Part 2: Requirements for electrical/electronic/pro- grammable electronic safety-related systems (2010) [61] ISO 1219-1: Fluid power systems and components – Graphical symbols and circuit diagrams – Part 1: [49] SN 29500: Ausfallraten – Bauelemente – Erwar- Graphical symbols for conventional use and data- tungswerte. Published by: Siemens AG, Center for processing applications (2012) Quality Engineering, Munich, Germany 1994 bis 2005 [62] ISO 1219-2: Fluid power systems and components – Graphical symbols andcircuit diagrams – Part 2: [50] Mai, M.; Reuß, G.: Self-tests for microprocessors Circuit diagrams (2012) incorporating safety functions or: „Quo vadis, fault?“. BGIA-Report 7/2006e. Published by: Haupt- [63] ISO 8573-1: Compressed air – Part 1: Contaminants verband der gewerblichen Berufsgenossenschaften and purity classes (2010) (HVBG), Sankt Augustin, Germany 2006. www.dguv.de/ifa, Webcode: e91093 [51] EN 82079-1: Preparation of instructions for use - Structuring, content and presentation– Part 1: Gene- ral principles and detailed requirements (2012) [52] ISO 9355: Ergonomic requirements for the design of displays and control actuators – Part 1: Human inter- actions with displays and control actuators (1999), 245 246 Annex A: Examples of risk assessment Changes with respect to the second edition On fast-moving gates it is virtually impossible for persons (BGIA Report 2/2008e): to move out of the danger zone in time. The assessment of P2 instead of P1 thus yields a required Performance Level • Definition of the safety function extended PL of d for these products. r • Estimation of the frequency and duration of exposure Figure A.1: described in more detail Risk assessment for closing edge protection devices on powered windows, doors and gates • Consideration of the incidence and severity of acci- dents extended Example 1: Closing edge protection Figure A.1 shows the risk assessment for the safety func- tion • SF1 – Stopping of the closing movement and reversing upon detection of an obstacle Required performance Low risk level PL r of a closing edge protection device1. The movement of P1 a powered windows, doors and gates (see Figure A.1) is F1 generally associated with the formation of crushing and S1 P2 b shearing points. These hazard zones generally exist only Starting- P1 when the moving wing is approaching its final positions. point for F2 P2 c P1 Injury to personsin such hazard zones can be avoided, for example by the use of closing edge protection devices. o es f t t i h m e a r t i i s o k n S2 F1 P2 P1 d Closing edge protection devices, such as pressure-sensi- reduction F2 tive edges, are fitted to the closing edges of the moving P2 e wings. When an obstacle is detected, the closing move- ment is interrupted and a reverse movement is initiated. High risk Crush and shear points on powered windows, doors and S2 – Serious, generally irreversible injury gates may cause severe and, under some circumstances, F1 – Infrequent or short exposure P1 – Evasion of the hazardous situation possible fatal injury. A severity of injury of S2 must therefore be P2 – Evasion of the hazardous situation virtually impossible assumed. Persons are infrequently (frequency lower than once every fifteen minutes) and only briefly (total duration of exposure less than 1/20 of the entire operation time) Example 2: Autonomous transport vehicles present in the area of the crushing and shearing points (F1). Under normal circumstances, persons at risk are able On autonomous transport vehicle, collision protection is to move out of the hazard zone formed by the moving assured by the safety function wing (P1). This yields a required Pe Level PL of c. This r result is confirmed by the EN 12453 product standard. The • SF1 – Stopping of the transport vehicle upon approa- standards committee evidently saw no reason to deviate ching an obstacle from this owing to the incidence and severity of accidents. Example 13 in [1] shows how this safety function can be Since an autonomous transport vehicle may, under cer- achieved. tain circumstances, be carrying a load weighing in the order of tons, severe irreversibleinjury is probable should 1 In the past, closing edge protection devices were governed by the a collision occur with the vehicle travelling at full speed Construction Products Directive. Since the pressure-sensitive edges use constitute safety components under the Machinery Directive, however, (S2). The paths travelled by the vehicle are freely acces- closing edge protection devices are also evaluated in accordance with sible to persons; the presence of a person in the danger this directive. 247 Annex A zone must therefore be assumed to be relatively frequent • SF1 – In the event of intervention in the hazard zone: (frequency greater than once every 15 minutes) (F2). prevention of unexpected start-up by safe torque off Since the vehicle travels at a very low speed (generally 3 (STO) of all drives to 5 km/h), a pedestrian is generally able to take evasive action when such a vehicle approaches (P1). This there- Should the machine restart, the operator‘s fingers may be fore results in a required Performance Level PL of d for SF1 crushed or broken (S2). The frequency of exposure to the r (see Figure A.2). This result is confirmed by the EN 1525 hazard can be described as low (less frequently than once product standard. The standards committee evidently saw every 15 minutes); the entire exposure duration is lower no reason to deviate from this owing to the incidence and than 1/20 of the entire operation time (F1). Should the severity of accidents. operator already have his or her hands in the hazard zone when the machine restarts unexpectedly, the movement Figure A.2: is so fast as to make evasion virtually impossible (P2). Risk assessment for collision protection on an autonomous This therefore results in a required Performance Level PL r guided vehicle of d for SF1 (see Figure A.3).This result is confirmed by the EN ISO 11111-6 product standard. The standards commit- tee evidently saw no reason to deviate from this owing to the incidence and severity of accidents. Figure A.3: Risk assessment for a weaving machine Temple Required performance Low risk level PLr P1 a F1 S1 P2 b Light beam Starting- P1 point for F2 Reed P2 c P1 estimation F1 of the risk S2 P2 P1 d reduction F2 P2 e Required performance High risk Low risk leveL PL r P1 a S2 – Serious, generally irreversible injury F2 – Frequent or long exposure F1 P1 – Evasion of the hazardous situation possible S1 P2 b Starting- P1 point for F2 P2 c P1 Example 3: Weaving machine estimation F1 of the risk S2 P2 P1 d reduction Weaving machines are employed for the fully automatic F2 weaving of textiles. The essential hazard is that of cru- P2 e shing between the reed and the temple. In order to recon- High risk nect the ends of broken warp threads, the operator must intervene in the hazard zone with the machine stationary. S2 – Serious generally irreversible injury Unexpected restarting is prevented by the safety function F1 – Infrequent or short exposure P2 – Evastion of the hazardous situation virtually impossible 248 Annex A Example 4: Rotary printing press Figure A.4: Risk assessment on a rotary printing press In a web-fed rotary printing press, a paper web is fed through a number of cylinders. High operating speeds and rotational speeds of the cylinders are reached, parti- cularly in newspaper printing. Essential hazards exist at the entrapment points of the counter-rotating cylinders. This example considers the hazard zone on a printing press on which maintenance work requires manual inter- vention at reduced machine speeds. The access tothe entrapment point is protected by a guard door (safeguar- ding). The following safety functions are implemented: • SF1 – Opening of the guard door during operation causes the cylinders to be braked to a halt. • SF2 – When the guard door is open, any machine move- ments must be performed at limited speed. • SF3 – When the guard door is open, movements are possible only whilst an inching button is pressed. Entrapment between the cylinders causes severe injuries Required (S2). Since tasks are performed in the hazard zone only performance during maintenance work, the frequency of exposure to Low risk level PLr the hazard can be described as low (less frequently than P1 a F1 once every 15 minutes); the entire exposure duration is lower than 1/20 of the entire operation time (F1). At Starting- S1 P2 P1 b point for F2 production speeds, no possibility exists of avoiding the P1 P2 c SF3 hazard (P2). This therefore results in a required Perfor- estimation F1 mance Level PL r of d for the safety functions SF1 and SF2 of the risk S2 P2 P1 d SF1, SF2 (see Figure A.4). The safety function SF3 can however be reduction F2 used only if the printing press has first been halted (SF1) P2 e and the permissible rotational speed of the cylinders High risk limited (SF2). This results in the possible machine move- ments being predictable for the operator, who is thus able S2 − Serious, generally irreversible injury F1 − Infrequent or short exposure to evade hazardous movements (P1). A required Perfor- P1 − Evasion of the hazardous situation possible P2 − Evasion of the hazardous situation virtually impossible mance Level PL of c is therefore adequate for SF3 (see r Figure A.4). In deviation from application ofthe risk graph, Reference the EN 1010-1:2010 product standard applicable for this machine specifies a PL of d for the SF3 safety function. r The risk reduction by SF1 and SF2 was unfortunately not [1] Werner, C.; Zilligen H.; Köhler B.; Apfeld R.: Safe considered by this standard. drive controls with frequency converters. IFA Report 4/2018e. 3rd ed. Published by: Deutsche Gesetzliche Chapter 8, Example 24 describes how the safety functions Unfallver sicherung e. V. (DGUV). Berlin, Germany 2019 described here can be implemented. (will be published in Summer 2019). www.dguv.de/ifa, Webcode: e635980 224499 250 Annex B: Safety-related block diagram and FMEA should initiate a safe state, such as operating inhibi- Changes with respect to the second edition tion with de-energized outputs (shut-down system). In (BGIA Report 2/2008e): accordance with EN ISO 13849-1, the Category and PL are intended to indicate only the safety quality, and not the • Convention for the expression of PFH (formerly: PFH), probability of fault-free operation, i.e. the “availability”. D MTTF , λ , λ , λ , λ , B , T adapted to the new ver- For this reason, signal paths that initiate a safe state in D S D DD DU 10D 10D sion of the standard (with the index in capitals) the event of a fault are regarded as being fully equiva- lent to functional units that may perform complex safety • Explanations of the use of failure type distributions functions. A “single safety signal path” in this context is added however a “channel” in its own right only when it is con- tinually engaged. If the safety path cannot become active • Explanations added concerning the issue of obtaining until a failure in the main function path proper has been B from B detected, its safety benefit is dependent uponthe quality 10D 10 of the failure detection mechanism. This quality is descri- • “Reference” subclause updated bed by the diagnostic coverage of the failure detection mechanism. In such cases, the safety path generally pro- For demonstration of the Category and Performance Level vides only test equipment with shut-off path. Architectural (PL) to EN ISO 13849-1, the structure of a safety-related features of this kind must be expressed correctly on the system must be analysed with respect to the safety func- safety-related block diagram. The differentiated presenta- tion to be implemented (possibly involving separate ana- tion of a true two-channel arrangement and a monitored lysis of several functions). For the obligatory quantitative single channel can be seen clearly from a comparison of demonstration of the PL, system information must be Figures 10 and 11 in the standard. suitably prepared to permit calculation of the quantitative value PFH (probability of a dangerous failure per hour), or Consideration must also be given to whether components D direct calculation of the PL based upon it. Two important or circuit elements are present which, although they do steps in this process are the safety-related block diagram not execute the safety function or the safety-related sub- and the failure mode and effects analysis (FMEA) per- stitute function in the event of a fault, may be able to pre- formed for each block 2. vent other components from properly executing the safety or substitute function should certain component failures B.1 Purpose and generation of a occur. Such circuit components include those providing safety-related block diagram necessary auxiliary functions such as the power supply or control functions that are not (intentionally) relevant to The result of the safety-oriented analysis of the system safety but that may have an impact upon safety-related structure is presented conveniently in theform of a block parts. Where components and parts of circuits may diagram, which can be described as a “safety-related impact negatively upon the safety function, its substitute block diagram”. The diagram is intended to show whether function, or diagnostics functions in the event of failures, the safety function is executed in whole or part by a sin- they must always be considered in a function block. For gle-channel or multi-channel solution, and the available example, components for assurance of electromagnetic diagnostics by which internal component failures can be compatibility (EMC) must be examined with regard to detected. Since – with regard to the aspect of relevance whether their failure, for example short-circuiting of a here, i.e. quantification of the probabilities of failure – capacitor, has negative effects upon safety-related cir- diagnostics represents a means of compensating for com- cuits. ponent failures, the term “failure detection” will be used in this Annex in place of the usual term “fault detection”. Parts of circuits with defined inputs and outputs may be regarded as a function block. In order to keep the In the field of machine safety, it is generally accepted number of required function blocks as low as possible, that in the event of a control-system failure, a substitute parts of circuits that are arranged functionally in series, response should occur in place of the safety function i.e. circuits that execute different signal processing steps originally implemented, and that the substitute reaction sequentially, can be grouped to form a function block. Blocks differing from this arrangement should logically 2 The FMEA described here also considers the detection of fai- be grouped only to the extent that redundancies such as lures (diagnostics), and can therefore also be termed FMEDA separate shut-off paths and the mutual diagnostics of (failure mode, effects andtypical values in the good engineering Annex D, MTTF D D practice method Annex E, DC Two DC measures deleted Annex E, DC “Fault detection by the process” described in more detail Annex I, Examples Updating Not relevant 23 24 5 Safety functions and their contribution to risk reduction i Provided a harmonized product-specific standard (Type C Changes with respect to the second edition standard) exists for the machine being designed and (BGIA Report 2/2008e): the reference of this standard has been published in the Official Journal of the EU [18], it may be assumed • References to standards updated that the essential health and safety requirements are satisfied. In such cases, the standard is said to give rise • “Overlapping hazards” included to a “presumption of conformity”, since its application justifies the assumption that the machine satisfies the • Information on the F1/F2 distinction updated requirements of the EC Machinery Directive. The strategy for risk reduction must however always be followed where • Consideration for the “probability of a hazardous a standard giving rise to the presumption of conformity event occurring” inserted does not exist, where a suitable standard exists but the design has deviated from it, or where additional aspects • Subclause 5.4.2, “Transition from a required Category apply that are not covered by the product standard. In in accordance with EN 954-1 to a PL” deleted order for issues not covered by a product standard to be r identified, the first two steps in the risk reduction strategy • Example of a paper cutting guillotine revised described below must always be performed, i.e. the limits of the machinery must be defined and the hazards iden- tified. This Report deals with safety functions and their contribu- 5.2 Risk reduction strategy tion to reducing risks in hazard zones ondiagnostic analysis). 251 Annex B function blocks are still expressed. The circuit analysis mode, or certain components for the assurance of EMC. must ultimately produce a block diagram in which all the The content of each function block must be determined structures that are of relevance to safety are reflected: unambiguously by circuit diagrams and parts lists. Owing to the way in which it is created and its particular func- • Single or parallel signal paths (“channels”) that are tion, the safety-related block diagram differs generally used to execute the safety function from block diagrams serving other purposes, such as those geared to the mechanical structure of assemblies. • Signal paths that execute a safety-related substitute function in the event of a fault Figure B.1 shows, by way of example, the safety-related block diagram of a Category 2 single-channel machine • Circuits for the detection of failures (diagnostics) control system featuring: Where auxiliary circuits that are required for performance • A microcontroller of the safety function or for some other safety-related action (e.g. power supplies, oscillators) are able to influ- • A light barrier for the monitoring of hazard zones ence one channel only, they should be grouped with the function block(s) of the channel concerned. Should • A “watchdog” for the detection of certain controller mal- these auxiliary circuits act upon several channels, they functions form a separate single-channel part (function block) on the safety-related block diagram. The same principle • A closed-loop motor drive control (frequency inverter) applies to circuits that are able to prevent performance driven by the controller of the safety function, another safety-related action or diagnostics owing to a particular manner of their failure. • A device for de-energization of the motor that can be Examples include circuits for selection of a safe operating actuatedby the watchdog (pulse inhibit) Activation of Readback of light barrier test shut-off test Figure B.1: Example safety- related block diagram of a Category 2 single- channel machine control system 225522 reggirT seslup Light Microcontroller Electronic barrier control system drive 2nd De- Watch- energization dog device The safety function entails de-energization of the motor The safety-related block diagram contains only function as soon as, and for as long as, the light beam of the light blocks that are related to the “safe torque off” safety barrier is interrupted (“safe torque off”). Besides the function; it does not contain control or display devices safety function, the microcontroller and the downstream for other machine functions. In the event of a fault, some drive control perform a number of other machine func- components in these circuit parts may have negative tions which, since they are not safety functions, will not repercussions for the safety function. Only then should be considered here. Although in this example, the safety these components be included in the function blocks that function is implemented entirely electrically, the princip- they could cause to fail. les described for the safety-related block diagram and the FMEA apply to all technologies. The safety-related block diagram will often take the form of one of the “designated architectures” in accordance with EN ISO 13849-1, subclause 6.2.2 (subclauses 6.2.1 to Annex B 6.2.7 of this report), as in the example presented here. In In both cases, the dangerous (i.e. unfavourable from a such cases, the method described in subclause 4.5.4 of safety perspective) failure rate, specifically its reciprocal, the standard (supplemented by Annexes B, C, D, E, I and the MTTF (mean time to dangerous failure), and the DC D K of the standard) may be applied for quantitative calcula- (diagnostic coverage) of the functionblocks in the safety- tion of the Performance Level. It is not advisable however related block diagram must be known. For calculation to shoehorn a different structure into the form of one of of these values, a special variation of the FMEA is used these architectures. It may be possible to break an exis- that employs the component failure rates in the form of ting system structure down into parts each of which then quantitative values. The special form of the FMEA used corresponds to a designated architecture. here differs in this respect from the majority of other FMEA types, which are used for other purposes such as the early Should a breakdown of this kind not be possible, a dedi- detection of problems and fault avoidance during deve- cated model must be produced for quantitative calcula- lopment [2]. tion of the safety-related reliability for the safety-related block diagram concerned. An introduction to suitable A particular feature of an FMEA for quantification purpo- modelling techniques can be found for example in [1]. ses is its structure according to the function blocks of the safety-related block diagram. The principle is that a sepa- B.2 Purpose and characteristic of an FMEA rate FMEA is performed for each of these function blocks, for quantification and produces results only for the function block concer- ned. The results for each function block are not combined For quantitative demonstration of the PL, the average until later, by inclusion together in the calculation of the probability of a dangerous failure per hour (PFH ) must PFH /PL by way of a system-specific mathematical model D D be estimated. This can be achieved with the aid of a or the simplified quantification method in EN ISO 13849-1. mathematical model (e.g. a Markov model) generated for the system underconsideration. If however the form of B.2.1 Performance of an FMEA for quantifica- one of the “designated architectures” in accordance with tion subclauses 6.2.3 to 6.2.7 can be identified formally from the safety-related block diagram, as in the example in The essential procedure employed for an FMEA for quanti- Figure B.1, the method in this standard referred to above fication is demonstrated below with reference to the “light can be applied for quantitative calculation of the PL. barrier” function block from Figure B.2. S1 X1.4 Test X1.5 + R1 R3 C1 R7 P1 K1 R2 R5 K2 K3 R9 X1.2 P2 V Figure B.2: X1.3 R4 R6 R8 Assumed circuit (simple X1.1 example) of the “light - barrier” function block from the safety-related block diagram from “Light barrier” function block Figure B.1 For this purpose, the circuit has deliberately been kept the function block within the system in accordance with simple. Only components framed by the dashed line Figure B.1. As long as the phototransistor K1 continues belong to the function block. The elements S1 and P2 to receive light from the infrared LED P1, it maintains the constitute a substitute circuit for the actual inclusion of transistor K2 blocked, as a result of which the transistor 225533 Annex B K3 is conductive and a positive output voltage, which can block to performance of the safety function: “safe torque be measured by the voltmeter P2, is present on terminal off when the light beam is interrupted”. X1.2. If the light beam is interrupted, K1 blocks, K2 beco- mes conductive and K3 switches off the output voltage. The dangerous failure mode of the function block can thus The test of the “light barrier” function block, which is per- be described as “presence of an output voltage greater formed by the microcontrollercontrol system in Figure B.1 than zero during non-illumination of the phototransistor in accordance with the program, can be simulated by the K1”. pushbutton S1 and the voltmeter P2: the light source P1 is switched off temporarily and the output voltage ob served B.2.3 Component failure rates for whether it drops to 0 V as intended. The signal-pro- cessing elements of the “light barrier” function block (K1 Component failure rates may be obtained from a num- to K3, R2 to R9, C1) are required to behave in the same ber of sources. Examples for electronic components are way as in response to a “real” demand of the safety func- listed in [3 to 6]. These sources all contain generic data tion caused by interruption of the light beam. This test is relevant to multiple manufacturers. Collections of failure described below as “Test 1”. rates also exist for mechanical, pneumatic and hydraulic components. For certain components that are not listed B.2.2 Dangerous failure mode of a function in the relevant indexes (such as special ASICs), the failure block rate must be obtained from the manufacturer. Many com- mon quantification techniques, including the simplified The first step entails identification of the dangerous fail- method in EN ISO 13849-1 subclause 4.5.4, assume a con- ure mode of the function block. Generally, not only may stant failure rate over time. This represents an idealized individual elements fail, but an entire function block view. With appropriate dimensioning and, if necessary, may also fail in various ways as a result. The modes of preventive replacement, components can be prevented failure that are unfavourable from a safety perspective are from reaching the wear phase, during which the failure regarded as the “dangerous” failure mode of a function rate rises sharply, before the end of the mission timeT . M block. Some failures cause immediate, dangerous fail- ure of the entire system, with the result that neither the A quick source of generally conservative (pessimistic) original safety function, nor a safety-oriented substitute estimations of failure rates can be found in EN ISO 13849, function can be performed. Other failures increase the Part 1, Annex C. In particular, a method is shown here by probability of this happening in that a smaller number of which failure rates for discrete, cyclically operating elec- further failures is now sufficient to cause the system to fail tromechanical, fluid power and mechanical components dangerously. Should no redundancy exist for the function can be derived from the “B ” values (see Table D.2 of 10D block suffering failure, i.e. no second channel capable of this report). assuming its function, and should diagnostics fail to per- form sufficiently rapidly an action producing a safe state, Should a conservative estimate of the failure rate not be the dangerous failure of the function block leads to dan- chosen, it must be ensured for each component that the gerous failure of the system. However, even when, owing value employed is valid under the conditions of use (tem- to the existence of redundancy or a rapid failure response perature, current, voltage, power dissipation, etc.) in the by other circuit components, none of the possible failure application in question. The inherent heating effect must modes of the function block under analysis causes a also be taken into account. Standard data sources, such dangerous system failure, its “dangerous” failure mode as [3 to 6], provide measures by which the base failure can and must be identified. The dangerous failure mode rates applicable under defined reference conditions can is that leading to the function block no longer making its be convertedto values applicable under different condi- intended contribution to safe behaviour of the system. On tions. Suitable conversion formulae (but not base failure occasions it may be necessary for several failure modes rates) can be found in [7]. that are characterized by different but equally harmful block behaviour to be considered (e.g. continuous ener- gization and oscillation on the output). The simplest solu- tion is therefore to describe the dangerous failure mode in terms of the loss of the function block‘s safety-related functionality. Diagnostics features are considered later and will be ignored at this stage. In the example under consideration here (light barrier, Figure B.2), the output voltage of the function block is to drop to zero for as long as the phototransistor K1 fails to receive light from the LED P1, since this constitutes the contribution of this function 254 Annex B B.2.4 Production of an FMEA on a function- employed is reflected in variation in the overhead associ- block basis for quantification purposes ated with generation of the tables required. One possible execution is shown by way of example in [8]. Binding rules In the FMEA, the components of the function block are do not exist. The variant shown in Figure B.3 represents first assessed separately, and the complete assessment a compromise between a high degree of accuracy and for the block is then derived from them. For practical corresponding overhead on the one hand and excessive purposes, a table documenting both the process and the simplification on the other, and takes the accuracy and results is employed. The level of accuracy employed for availability of the data used into account. The figures performance of the FMEA may be varied; the accuracy used are assumed example values. 255 reirrab thgiL :kcolb noitcnuf eht fo noitpircseD 1K rotsisnartotohp ehtfo noitanimulli-non gnirud orez naht retaerg egatlov tuptuo na fo ecneserP :kcolb noitcnuf eht fo edom eruliaf suoregnaD esabatad ZYX :setar eruliaf fo ecruos ataD λ λ λ λ λ .batceteD fo noitroporP noitroporP -epmeT esaB tnaveleR etoN UD DD D S CD yb suoregnad efas fo erutar eruliaf tnenopmoc ssalc tnenopmoC tnenopmoC )TIF( )TIF( )TIF( )TIF( )TIF( oN tset seruliaf seruliaf rotcaf )TIF( etar )C°( .pmet ecnerefer 00,0 00,0 00,0 06,0 06,0 – – 0 1 02,1 5,0 55 FM ,rotsiser pihC 1R )1 00,0 92,0 92,0 92,0 85,0 1 1 5,0 5,0 51,1 5,0 05 FM ,rotsiser pihC 2R 00,0 92,0 92,0 92,0 85,0 1 1 5,0 5,0 51,1 5,0 05 FM ,rotsiser pihC 3R 00,0 92,0 92,0 92,0 85,0 1 1 5,0 5,0 51,1 5,0 05 FM ,rotsiser pihC 4R 00,0 92,0 92,0 92,0 85,0 1 1 5,0 5,0 51,1 5,0 05 FM ,rotsiser pihC 5R 00,0 00,0 00,0 85,0 85,0 – – 0 1 51,1 5,0 05 FM ,rotsiser pihC 6R 00,0 00,0 00,0 85,0 85,0 – – 0 1 51,1 5,0 05 FM ,rotsiser pihC 7R 00,0 00,0 00,0 85,0 85,0 – – 0 1 51,1 5,0 05 FM ,rotsiser pihC 8R 00,0 00,0 00,0 20,2 20,2 – – 0 1 21,1 8,1 05 DMS ,rotcudni FR 9R )2 88,0 88,0 67,1 00,0 67,1 5,0 1 1 0 06,1 1,1 05 .marec ,roticapac pihC 1C 00,0 00,0 00,0 06,5 06,5 – – 0 1 42,2 5,2 06 DEL derarfnI 1P 00,0 60,3 60,3 60,3 21,6 1 1 5,0 5,0 08,1 4,3 06 rotsisnartotohP 1K 00,0 59,1 59,1 59,1 09,3 1 1 5,0 5,0 22,1 2,3 05 DMS ,rotsisnarT 2K 00,0 59,1 59,1 59,1 09,3 1 1 5,0 5,0 22,1 2,3 05 DMS ,rotsisnarT 3K )3 00,0 57,0 57,0 57,0 05,1 1 1 5,0 5,0 00,15,1 05 rotcennoc nip-5 1X )4 70,0 38,0 09,0 09,0 08,1 2719,0 1 5,0 5,0 00,1 8,1 05 .p redlos 63 htiw BCP – 59,0 75,01 25,11 17,91 32,13 :slatoT 27,19 :)%( CD 9,5099 :)a( FTTM D :setoN .1K hguorht wolf ot tnerruc krad hgih ylevissecxe na esuac yam erutarepmet tneibma hgih ylevissecxe dna tiucric nepO )1 .derussa ton si ytilibatceted ;ecnerefretni citengamortcele ot elbitpecsus tiucric eht sredner tiucric nepO )2 .seruliaf suoregnad esuac yam 1X nihtiw stiucric-trohS )3 .stnemele rehto lla fo noitubirtsid egareva eht sa emas eht si UD/DD fo noitubirtsiD )4 Figure B.3: Reasonable form of execution of an FMEA table for the “light barrier” function block in Figure B.2 The components of the function block are listed in rows rate is the temperature factor. Other adjustment factors together with their failure rates. The usual unit for the fai- may justifiably be ignored when the components are on lure rate is “FIT” (failures in time); 1 FIT = 10-9 per hour. The average electrically overdimensioned, which is frequently only weighting factor indicated here for the base failure the case. In such cases, their electrical load then lies pre- Annex B dominantly below the reference load upon which the base In case a), the total failure rate λ is assigned to the failure failure rate is based, with the result that the correspon- rate λ in the safe failure mode (example: infrared LED S ding adjustment factors are < 1. Omission of these factors P1). By the same token, in case c), the total failure rate λ thus constitutes an estimation erring on the safe side and is attributed to the failure rate λ in the dangerous failure D at the same time a reduction in the required effort, since mode (example: capacitor C1). In case b), thetotal failure the precise electrical operating values for the components rate λ is divided equally between λ and λ (example: S D need not all be determined individually. Should it be transistor K2). known, however, that the load upon certain components lies above the reference load, the relevant adjustment fac- The simplified procedure shown in case b) is normally tors must be considered. If the base failure rate of indivi- justified for components making only a small contribu- dual components predominates within the function block, tion to the total failure rate of the function block when it as is often the case for example for processors and power contains a large number of such components. Individual semiconductors, precise examination and if applicable components with an above-average contribution to the consideration of all necessary adjustment factors for the total failure rate of the function block may have to be con- components concerned must be examined precisely and sidered separately. The failure rate may also be divided given consideration where applicable. equally between λ and λ for complex integrated circuits S D such as processors. The same applies to solder joints/ In the next step, the total failure rate λ of each component printed circuit boards. Caution is required with discrete or is divided into the proportions λ (“safe” mode, i.e. safe low-integration components with a relatively high failure S failure) and λ (“dangerous” mode, i.e. dangerous failure). rate. Should for example a contactor or a power semicon- D For this purpose, information such as the “dangerous ductor contribute substantially to the total failure rate of failure mode” of the function block must be known (see the function block, failure should be assumed in cases of above). A “puristic” approach requires this to be perfor- doubt to be predominantly dangerous. This appliesmachinery. The design of such safety functions is part of a process for the The risk reduction strategy presented in EN ISO 12100 [3] design of safe machines. This chapter therefore begins by was adopted in Figure 1 of EN ISO 13849-1 and supple- addressing the requirements of the Machinery Directive, mented with the aspects detailed in the latter standard before describing the definition of safety functions and (see Figure 5.1). A risk assessment is first performed. An their properties. Subclause 5.7 then demonstrates imple- important point is the assumption during the following mentation with reference to the practical example of a steps that no protective measures have as yet been taken paper cutting guillotine control. on the machine. Ultimately, the entire risk reduction pro- cess serves to determine the type and also the “quality” 5.1 Requirements of the EC Machinery of the protective measure/safeguard that is to be imple- Directive mented. The EC Machinery Directive [2] has been transposed into The risk reduction process begins with definition of the German law by the German Product Safety Act (ProdSG), limits of the machine. Besides the space limits and time and sets out essential health and safety requirements for limits of the machine, attention must be paid in particular machines. The general provisions of the Machinery Direc- to its use limits. Such limits include the intended use of tive are supported by standards. Particularly significant the machine (e.g. materials which may permissibly be in this respect is EN ISO 12100 [3], Safety of machinery machined on it), including all operating modes and the –General principles for design. The machine designer is various intervention procedures. Reasonably foreseeable presented with a design method that is suitable for achie- misuse of the machine must also be considered; this ving machine safety. This method –even med in two steps. more to elements of safety outputs that switch output currents. Firstly, the total failure rate is distributed between the various failure types (e.g. open circuit, short circuit, For components intended to enhance the circuit‘s resis- drift, change in function). Information on the failure type tance to disturbance phenomena, such as electromag- distribution of a range of components can be found for netic interference or excessive ambient temperature, it is example in IEC 61709 [7] and IEC/TR 62380 [4]. Typical advantageous to distinguish between two possible cases failure type distributions can also be found in commercial for assessment of the function block‘s behaviour. If the FMEDA software. The data in the various sources are not incidence of disturbance phenomena is merely “possible” consistent. Unnecessary selection of a different source for and the function of the circuit measure is essentially to the failure type distribution from component to compo- increase the availability of the device under (infrequent) nent is not acceptable. unfavourable conditions, simultaneous presence of the “disturbance phenomenon” in the event of component In the second step, the proportions accounted for by each failure need not be assumed during assessment of the failure type are assigned to λ or λ , according to whether function-block behaviour. Conversely, should the device‘s S D the failure type concerned causes the function block to intended form of operation be associated with occasional fail in its safe or unsafe mode. A continuation in function to continuous presence of the disturbance or should this without change is regarded in this case as a safe-mode be anticipated in view of the typical operating conditions failure. (e.g. installation within the range of known sources of electromagnetic interference or at a hot site), assessment Figure B.3 shows a simplified pragmatic approach that of thecomponent failure must take account of the dis- does not rely upon a particular source for the failure type turbance. The same applies to assessment of the failure distributions and that is limited to determining which of detectability provided by diagnostics measures for these the three following cases applies to a component: components. a) All failure types result in safe-mode failure of the func- Where components are subject to wear, a substitute tion block, or have no impact upon its behaviour. failure rate constant over time is generally applied. This is calculated by means of formula C.5 in EN ISO 13849, b) At least one failure type exists that causes the function Part 1, Annex C.4.2. The B value, which states the ave- 10D block to fail safely, and one failure type that causes it rage number of switching cycles before dangerous failure, to fail dangerously. is required for this purpose. The B value should ideally 10D be obtained from the manufacturer of the component, c) All failure types cause the function block to fail in its who should also state which mode of failure was dangerous mode. assumed for this purpose to be the dangerous mode 256 Annex B (e.g. the failure of contacts to open), since in principle, components is 0. Dangerous-mode failure of elements a mode of failure can be assessed as dangerous or not R2 to R5, K1 to K3 and X1 is detected fully by “Test 1” (the dangerous only with respect to a specific application. In only test in this example), i.e. when LED P1 is switched many cases, only a manufacturer‘s B value (number of off for test purposes, the test detects an output voltage 10 switching cycles before any form of failure) is available. of > 0. The component-related DC value of“1” is therefore For this case, calculation of the B value by means of assigned to these elements. The situation is different for 10D the formula B = B /RDF is sometimes recommended. the capacitor C1, which has the function of suppressing 10D 10 RDF (ratio of dangerous failure) represents the fraction frequent but not continuous electromagnetic interference of the overall failure rate of an element that can result in (note: this is assumed for the purpose of this example). a dangerous failure. EN ISO 13849-1, Annex C.4.2, Foot- Drift failures (limited changes in capacitance) are not note 2 also follows this approach with RDF = 0.5. This critical; a short-circuit, however, results in the output (ter- method of calculation is however based upon simplified minal X1.2) being incapable of being de-energized (dan- assumptions that may differ considerably from the actual gerous failure mode of the function block). A short-circuit conditions for the wearing parts under analysis here. For on C1 is detected by Test 1. In the event of an open circuit this reason, B should be limited to twice the value of B on C1, the electromagnetic interference is transported via 10D 10 when B is determined by means of the quotient B /RDF. K2 and K3 to the output of the function block. It is un clear 10D 10 Owing to the relationship in formula C.3 in EN ISO 13849- how the downstream circuit will interpret this high-fre- 1, Annex C.4.2, the method for determining the B also quen cy alternating signal, and also whether the distur- 10D has an impact upon the permissible component operation bance phenomenon is present during the test. In the time T and thus possibly also upon replacement inter- worst case, the non-suppressed interference results in the 10D vals to be specifiedfor the component. output signal with superimposed disturbance not being interpreted by the downstream circuit as a demand of the The next step in the method entails consideration for safety function, despite phototransistor K1 not being illu- diagnostics. Only diagnostics relating to dangerous-mode minated (= dangerous failure of the “light barrier” func- failures (of the function block) are considered. Conside- tion block). Should the fault not be present at the time ration for whether a test or where applicable several tests of the test, Test 1 is not able to detect the capacitor open are capable of detecting some or all of these failures need circuit. Since no reliable information on the failure-type therefore be given only for components that exhibit a distribution is available for the capacitor, it is assumed portion of dangerous-mode failures. The relevant effective that – when the non-critical drift failures are disregarded test, and the diagnostic coverage DC for the components – short circuits and open circuits each account for 50% of indicating the detectable portion of dangerous-mode the failures. Both failure types lead to a dangerous failure failures, are entered in appropriate columns. Where the of the function block; only short-circuiting of the capa- components concerned are discrete components as in the citor, i.e. (an estimated) half of all dangerous capacitor example shown in Figure B.2, one of the two DC values failures, are however reliably detectable. The component- “0” for “undetectable” or “1” for “detectable” can often related diagnostic coverage is thus estimated at 50% or be assigned to the dangerous failure of a single compo- 0.5. The printed circuit board and its solder joints can nent. In the case of complex integrated components and introduce short circuits and open circuits into the circuit of discrete components the failure of which is capableof at various points. The pragmatic approach, implemented impairing the function of such a complex component, the in Figure B.3, for estimation of the DC value for the sol- component-related DC must be estimated in considera- der joints and printed circuit board consists in assigning tion both of the dangerous failure mode and of the availa- the average DC value to them that is produced for all ble test method. Support in this assessment is provided other components of the function block from the formula by Table E.2, in which DC values of 0% (“none”), 60% DC = Σ λ /Σ λ . The inclusion of the printed circuit board DD D (“low”), 90% (“medium”) and 99% (“high”) are assigned and solder joints thus has no influence upon the DC value for standard test methods. During assignment of a DC to a calculated for the complete function block. component, it must also be considered that an evaluation result of “detectable” is permissible only if the system is In each row of the table, i.e. for each component: actually capable of performing the intended safety-orien- ted operation. Detection of a failure within a circuit, for λ = temperature factor · base failure rate (if applicable example, is useless if it is rendered ineffective owing to a with further correction factors, see above) shut-off path that has already failed. λ = proportion of safe failures ⋅ λ S In the example shown, the components R1, R6 to R9 and P1 do not need to be considered with regard to the aspect λ = proportion of dangerous failures ⋅ λ D of diagnostics, since they are not capable of causing dan- gerous-mode failure of the “light barrier” function block. λ = DC ⋅ λ DD D The dangerous-mode failure portion of each ofthese 257 Annex B λ = (1 – DC) ⋅ λ circuit can be transferred to other technologies. It can DU D therefore be applied formally in the same manner for These λ values are summed by column in the table. The example to mechanical, hydraulic and pneumatic sys- sum λ and the sums λ and λ yield the MTTF , i.e. the tems. D D DD D mean time to a dangerous failure of the function block, and the DC of the function block respectively: References MTTF = 1/λ [1] Goble, W. M.: Control Systems Safety Evaluation and D D Reliability. 3rd ed. Published by: The International DC = λ /λ Society of Automation (ISA), Research Triangle Park, DD D North Carolina 2010 The only input values required for determining the PL for one of the designated architectures in accordance [2] IEC 60812: Analysis techniques for system reliability with subclauses 6.2.3 to 6.2.7 are the MTTF and DC. The – Procedure for failure mode and effects analysis D example shown yields an MTTF value of 9,905.9 years (FMEA) (01.06.). IEC 60812: 2006: Analysis tech- D and a DC of 91.72%. If a different quantification method is niques for system reliability – Proce dure for failure employed, values from the FMEA table such as λ and λ mode and effects analysis (FMEA) DD DU may also be used. [3] SN 29500: Ausfallraten Bauelemente, Erwartungs- B.3 Parts count method werte. Published by: Siemens AG, Corporate Tech- nology, Technology & Innovation Management, Time and effort can be saved by use of a simpler method Munich, Germany 2004-2014 instead of an FMEA. If a detailed analysis of the circuit (Order from: michaela.pabst@siemens.com or tho- behaviour is not performed for the various failure types mas.haizmann@siemens.com) of the individual elements, the parts count method isan alternative (cf. Annex D of this report). This method was [4] IEC/TR 62380: Reliability data handbook – Universal originally found in the MIL Handbook 217F (superseded model for reliability prediction of electronics com- by [6]), and a variant of it is described in EN ISO 13849, ponents, PCBs and equipment. Published by: Inter- Part 1, Annex D.1. If at the same time relatively conser- national Electrotechnical Commission (IEC), Geneva, vative (high) failure rates are assumed, the failure rates 2004; withdrawn in 2017. According to IEC, replaced require no adjustment to the actual operating conditions. by IEC 61709:2017, cf. [7] In addition, a dangerous failure proportion of 50% – with regard to the function block – is frequently assumed for [5] Telcordia SR-332, Issue 3: Reliability Prediction many components. The table is thus simplified if super- Procedure for Electronic Equipment. Published by: fluous columns for weighting and proportioning of the Ericsson Inc., Piscataway, New Jersey 2011 failure rates are omitted from the FMEA table. The parts count method normally delivers poorer (lower) MTTF [6] Handbook of 217Plus Reliability Prediction Models. D values than the FMEA results, since higher failure rates Quanterion Solutions Incorporated, Utica, New York are generally input, and components are also considered 2015 that are capable of causing only safe-mode function-block failures. [7] IEC 61709: Electric components – Reliability – Refe- rence conditions for failure rates and stress models If the parts count principle is applied to the example for conversion (02.17.). described above (light barrier), with assumption of the failure rates adjusted for temperature in Figure B.3 and a [8] IEC 61508-6: Functional safety of electrical/elec- blanket proportion of dangerous failures for all compo- tronic/programmable electronic safety-related nents of 50%, the resulting MTTF value is 7,310.8 years. systems – Part 6: Guidelines on the application of DThis value is approximately 26% poorer than the FMEA IEC 61508-2 and IEC 61508-3 (2010). Annex C. result. The inferior value is due in this example solely to the omission of a circuit analysis. If a DC value is required for the function block, the component-related DC for each component must estimated as with the FMEA method or, for example with reference to Annex E, the DC of the entire function block. The FMEA method for quantification purposes presented in this annex of the report with reference to an electronic 258 Annex C: Fault lists, fault exclusions and safety principles C.1 Fault lists it controls the main volumetric flow of the pressure medium in conjunction with at least one further valve. The faults to be assumed for mechanical, pneumatic, hydraulic and electrical components during the validation C.2.1.2 Electrical components of an SRP/CS and the fault exclusions that are possible can be found in fault lists in EN ISO 13849-2 [1], Annexes A • Optocouplers to D. Individual product standards such as IEC 61800-5-2 [2] and IEC 61496-1 [3] also contain fault lists or supple- The fault assumption of a “short-circuit between any ments to the fault lists stated. Document 340 220 in the two input and output connections” can be excluded IFA Manual [4] explains the background and origins of the under the following conditions: the optocoupler is con- fault lists. structed in accordance with overvoltage Category III to IEC 60664-1. If an SELV/PELV power supply is employed, C.2 Fault exclusions pollution degree 2/overvoltage Category II is sufficient. Measures are taken to ensure that an internal fault in Without the assumption of fault exclusions, some safe the optocoupler cannot lead to an excessive rise in the control systems would not be achievable at reasonable temperature of its insulating materials. expense.Reasons for fault exclusion include, in particu- lar, the physical impossibility of a certain type of fault or • Printed circuit board/populated printed circuit board the technical improbability of a fault occurring, and also generally accepted technical experience (see also sub- In accordance with the standard, the fault assumption clause 7.3 of EN ISO 13849-1). Fault exclusions are also of a “short-circuit between adjacent tracks/pads” can possible for newly developed components. The precise be excluded provided the following conditions are met: reasoning for each fault exclusion must be stated in the technical documentation. EN ISO 13849-2 describes pos- – A base material of at least EP GC to IEC 60893-1 sible fault exclusions for certain discrete components, is employed. where considered permissible. The information in the following examples has been updated where required to – Creepage distances and clearances are dimensioned bring it into line with standard practice. to at least IEC 60664-5 (for distances greater than 2 mm: IEC 60664-1) with pollution degree 2/overvol- C.2.1 Examples of fault exclusions tage Category III. If both conductor tracks are powered on components by an SELV/PELV power supply, pollution degree 2/ overvoltage Category II with a minimum clearance of C.2.1.1 Fluid power components 0.1 mm applies. The fault exclusions formulated for pneumatic and – The assembled board is mounted in an enclosure hy draulic components are frequently similar. Fault exclu- giving ingress protection of at least IP 54, and the sions specific to one of the forms of fluid power also exist, printed side is coated with an ageing-resistant varnish however. or other form of protective coating that is resistant to ageing and that covers all tracks. Example of fault exclusions common to fluid power components of both types: – In practice, it is now also acceptable for a high-quality solder resistor similar to be employed for the ageing- • Directional control valves resistant varnish/protective coating. Supplementary coating of printed circuit boards in accordance with The fault assumption: “failure to switch or failure to IEC 60664-3 may reduce the pollution degree for- switch completely” can be excluded under the fol- ming the basis of the assumption, and thus also the lowing conditions: positive mechanical operation of re quired creepage distances and clearances. the moving parts, provided the actuating force is suf- ficiently high. On hydraulic directional control valves, Where lead-free soldering methods and products are a fault exclusion can be formulated for the failure of used, the formation of tin whiskers may give rise to a special type of seat and cartridge valve (refer to the electrical short-circuits. Tin whiskers are formed pri- remarks in EN ISO 13849-2, Table C.3) to open when marily on surfaces with a clean, shiny tin coating. The 259 Annex C C.3.1 Applicable to all technologies projections, needle-like in form, may attain lengths of over 1 mm (note: a much lower value is stated in [1]) and cause electrical short circuits. The prevailing theory is • Use of suitable materials and adequate manufacturing that whiskers are caused by pressure arising during the tinning process. This possibility should be evaluated, Materials and processes for manufacture and treatment particularly when fault exclusion is applied to a compo- are selected with consideration for the use and stres- nent, for example exclusion of a short-circuit. ses. If the risk of tin whisker formation is considered high, • Proper dimensioning and geometry of all components fault exclusion for a short circuit between component terminals on a PCB is not possible, even when the All components are selected in consideration of their above conditions are satisfied. Whiskers on conductor compatibility with thea strategy for risk includes consideration for the defeating of safeguards. reduction – includes the design of safety-related parts of control systems1. 1 Safety-related parts of control systems are one means by which a safety function is implemented. The starting-point for these systems is the reception of safety-related input signals, for example detection of the position of a guard door by means of a Type 2 position switch, the separate actuator of which is fitted to the door and itself constitutes a safety-related part. Once received, the signals are processed, leading to generation of an output signal. 25 5 Safety functions and their contribution to risk reduction Figure 5.1: Iterative risk reduction process START Risk assessment carried out Determination of the limits in accordance with ISO 12100 of the machinery (see section 5.3a) yes Hazard identification (see section 5.4a a nd Annex Ba) This iterative risk reduction process shall be carried out Risk estimation separately for each hazard (see section 5.5a) under each condition of use (task). Risk evaluation (see section 5.6a) Are no other hazards generated? Has the risk been yes END adequately reduced? no Risk reduction process for the hazard: 1 by inherently safe design 2 by safeguards 3 by information for use (see Figure 1a) Iterative process of the design of safety-related parts of control systems (SRP/CSs) (see Figure 3b) Does the protective measure yes selected depend on a control system? no a Refers to ISO 12100:2010 b Refers to ISO 13849-1 26 5 Safety functions and their contribution to risk reduction The hazards are then identified; all phases of the The objective of the further procedure is to reduce the risk machine‘s lifetime must be considered in this process. In to an acceptable level. For this purpose, Figure 5.3 shows addition to automatic mode, particular attentionanticipated operating conditions. tracks of PCBs have not been determined in the past. Further criteria include switching capacity, rate of ope- The conductor tracks are usually of copper, without tin rations, withstand voltage, pressure level, dynamic coating. The reference [5; 6] can assist in assessment of pressure behaviour, volumetric flow, temperature and the phenomenon. viscosity of the hydraulic fluid, type and condition of the hydraulic fluid or compressed air. • Conductors/cables • All components are resistant to the environmental The fault assumption of a “short-circuit between any conditions and relevant external influences. two conductors” can be excluded when the conductors: The SRP/CS is designed to be able to perform its func- – are permanently connected (fixed) and protected tions under the external influences usually associated against external damage (e.g. by cable ducting, with the application. Important criteria include mecha- armouring); or nical influences, climatic influences, the leak tightness of the enclosure, and the resistance to electromagnetic – are laid in separate multicore cables or within an elec- interference. trical compartment; or • Principle of de-energization (closed-circuit current – are individually shielded with earth connection. principle) A condition of the above is that the conductors and the The safe state is attained by removal of the control sig- compartment both satisfy the relevant requirements nal (voltage, pressure), i.e. by de-energization. Impor- (see IEC 60204-1). tant criteria include the safe state when the energy sup- ply is interrupted, or effective spring return on valves in • Electromechanical position switches, manually opera- fluid power technology. ted switches • Protection against unexpected start-up Exclusion of the “Contact will not open” fault can be assumed subject to the following condition: Unexpected start-up, caused for example by stored energy or upon restoration of the power supply, is pre- – Contacts to IEC 60947-5-1:2003, Annex K openof their vented. own accord. Note that this fault exclusion applies only to the electrical part of the switch (the fault exclusion C.3.2 Examples of basic safety principles in is from the fault list for the electrical system). Sub- fluid power technology clause D.2.5 contains detailed information on the subjects of fault exclusion and modelling of electro- • Pressure limitation mechanical components. The pressure within a system or in subsystems is gene- C.3 Basic safety principles rally prevented from rising beyond a specified level by one or more pressure-relief valve(s). In pneumatic Basic safety principles are governed in Tables A.1, B.1, C.1 systems, pressure-control valves with self-venting are and D.1 of the informative annexes of EN ISO 13849-2. primarily employed for this purpose. 260 Annex C C.4.1 General well-tried safety principles for all • Measures for the avoidance of impurities in the technologies pressure medium The required purity grade of the pressure medium for • Overdimensioning/safety factor the components used is attained by suitable equip- ment, generally a filter. In pneumatics, suitable dehumi- All equipment is subjected to loading below its rated dification is also required. values. The objective is to reduce the probability of failure. C.3.3 Examples of basic safety principles in electrical technology • Positive mode of actuation • Correct protective bonding Reliable actuation by rigid mechanical parts with posi- tive, rigid rather than sprung connections. The objec- One side of the control circuit, one terminal of each tive is to attain reliable transmission of commands, electromagnetically actuated device or one terminal for example by the direct opening of a contact when a of other electrical devices is connected to a protective position switch is actuated, even should the contact be earth conductor. This side of the device is not therefore welded. used for example for deactivation ofa hazardous move- ment. A short-circuit to ground cannot therefore result • Limiting of electrical and/or mechanical parameters in (undetected) failure of a shut-off path. Force, distance, time, and rotational and linear speeds • Transient suppression are reduced to permissible values by electrical, mechani- cal or fluid power equipment. The objective is to reduce A facility for the transient suppression (RC element, the risk by improved control of hazards. diode, varistor) is connected in parallel with the load (not in parallel with the contacts). C.4.2 Examples of well-tried safety principles in fluid power technology C.3.4 Examples of basic safety principles in programmable systems/software • Secure position EN ISO 13849-2 does not describe basic safety principles The moving element of a component is held mechani- for the use of programmable systems and software. The cally in a possible position (frictional restraint is not basic measures for SRESW and SRASW in accordance with sufficient). Force must be generated in order for the subclauses 4.6.2 and 4.6.3 of the standard may however position to be changed. be regarded as basic safety principles (refer also to sub- clause 6.3). A further measure is monitoring of execution • Use of well-tried springs of the program in order to detect a defective sequence of commands/software modules, which may occur despite EN ISO 13849-2, Table A.2 contains detailed require- all care taken during verification and validation. Program ments for well-tried springs. sequence monitoring is generally implemented by means of an external, cyclically retriggered watchdog that must C.4.3 Examples of well-tried safety principles be capable of placing the SRP/CS in a defined safe state in electrical technology in the event of a defective execution of the program. • Limiting of electrical parameters C.4 Well-tried safety principles Limiting of voltage, current, energy or frequency, for the Tables A.2, B.2,C.2 and D.2 in the informative annexes of avoidance of an unsafe state EN ISO 13849-2 address well-tried safety principles. Well- tried safety principles are employed in order to minimize • No undefined states or exclude critical faults or failures and thus to reduce the probability of faults or failures with an influence upon the Undefined states in the SRP/CS must be avoided. The safety function. SRP/CS must be designed such that its state can be predetermined during normal operation and under all anticipated operating conditions. This is to be achieved for example by the use of components with defined response behaviour (switching thresholds, hysteresis) and with a defined sequence of operations. 261 Annex C C.5.1 Example of a well-tried component • Separation of non-safety and safety functions in mechanical technology In order to prevent unexpectec influences upon safety functions, the functions concerned are implemented • Spring separately from non-safety functions. A spring is deemed to be a well-tried component when C.4.4 Examples of well-tried safety principles the provisions in EN ISO 13849-2, Table A.2 concerning in programmable systems/software well-tried safety principles for the application of well- tried springs and the technical provisions for spring EN ISO 13849-2 does not describe well-tried safety prin- steels to ISO 4960 [8] are observed. ciples for the use of programmable systems and soft- ware. The additional measures for SRESW and SRASW C.5.2 Examples of well-tried components in accordance with subclauses 4.6.2 and 4.6.3 of the in fluid power technology standard may however be regarded as well-tried safety principles (refer also to subclause 6.3). A further well-tried EN ISO 13849-2 states no well-tried components for fluid safety principle is the use of self-tests for the detection power technology. The property of being well-tried is of faults in complex components such as microcont- particularly dependentupon the application in question rollers. Table E.1 of the standard for estimation of the and upon observance of the requirements for well-tried level of diagnostic coverage lists self-tests of this kind, components in Category 1 and the requirements of such as memory tests and CPU tests. Information on the EN ISO 4413 [9] and EN ISO 4414 [10]. implementation of such tests can also be found in a BGIA Report [7]. Depending upon the application, “fault detec- Examples of well-tried components for safety-related tion by the process” and “fault detection by comparison applications are: between channels” may be regarded as well-tried safety principles. • Directional control valves, stop valves and pressure valves C.5 Well-tried components C.5.3 Examples of well-tried components Well-tried components for mechanical and electrical in electrical technology systems are dealt with by Tables A.3 and D.3 of the infor- mative annexes of EN ISO 13849-2. Well-tried components • Fuse are used in order to minimize or exclude critical faults or failures and thus to reduce the probability of faults or fail- Fuses and miniature circuit-breakers are equipment for ures that impact upon the safety function. In accordance protection against overcurrent. They interrupt an elec- with the provisions for Category 1, general criteria for a trical circuit (de-energization principle) in the event of well-tried component are that it: an excessively high current, caused for example by an insulation fault. A distinction must be drawn between a) has been widely used in the past with successful fuses and circuit breakers. Lead fuses have for deca- results in similar applications; or des proved effective in protecting against overcurrent. Comprehensive provisions exist governing fuses [11; 12]. b) has been made and verified using principles which Provided they are used as intended and are correctly demonstrate its suitability and reliability for safety-rated, failure of fuses can virtually be excluded. related applications. • Emergency switching off device/emergency stop device Complex electronic components (such as PLCs, micropro- cessors, ASICs) cannot be regarded as well-tried in the Devices for emergency switching off and emergency sense of the standard. Classification as a well-tried com- stop in accordance with EN ISO 13850 [12] are employed ponent is also dependent upon the application: a compo- for the initiation of action in an emergency. Both types nent may be considered well-tried in certain applications, of device feature direct opening auxiliary switches for whereas in other applications this must be excluded, for interruption of the energy supply in accordance with example owing to the environmental influences. Annex K of IEC 60947-5-1 [13]. A distinction is drawn between two types of auxiliary switch with direct ope- ning action: – Type 1: with only one contact element, in the form of a direct opening contact 262 Annex C – Type 2: with one or more break contact elements and [7] Mai, M.; Reuß, G.: Self-tests for microprocessors possibly with one or more make contact elements incorporating safety functions or: "Quo vadis, and/or one or more changeover contacts. All break fault?". BGIA-Report 7/2006e. Published by: Haupt- contact elements, including the contact-breaking verband der gewerblichen Berufsge nossenschaften parts of the changeover contacts, must feature direct (HVBG), Sankt Augustin, Germany 2006. opening contact elements. www.dguv.de/ifa, Webcode: e91093 For further details, particularly concerning the model- [8] ISO 4960: Cold-reduced carbon steel strip with ling of emergency-stop devices, refer to subclause a mass fraction of carbon over 0.25% (12.07). D.2.5.4. [9] EN ISO 4413: Hydraulic fluid power – General • Switches with positive mode of actuation (direct rules and safety requirements for systems and their opening action) components (2010). This particular type of switch is availablecommercially [10] EN ISO 4414: Pneumatic fluid power – General rules as a push-button, position switch, and selector switch and safety requirements for systems and their com- with cam actuation, for example for the selection of ponents (2010). operating modes. These switches have proved effective over many decades. They are based upon the well-tried [11] IEC 60269-1: Low-voltage fuses – Part 1: General safety principle of the positive mode of actuation by requirements (2006) + A1 (2009) + A2 (2014). direct opening contacts. To be deemed a well-tried component, the switch must satisfy the requirements of [12] EN ISO 13850: Safety of machinery – Emergency stop IEC 60947-5-1, Annex K [13]. function – Principles for design (2015). References [13] IEC 60947-5-1: Low-voltage switchgear and control- gear – Part 5-1: Control circuit devices and switching [1] EN ISO 13849-2: Safety of machinery – Safety-related elements – Electromechanical control circuit devices parts of control systems – Part 2: Validation (2012). (2016) + COR1 (2016). [2] IEC 61800-5-2: Adjustable speed electrical power drive systems – Part 5-2: Safety requirements – Functional (2016). [3] IEC 61496-1: Safety of machinery – Electro-sensitive protective equipment – Part 1: General requirements and tests (2012). [4] Bömer, T.: Fehlerlisten für sicherheitsbezogene Bau- elemente – Bei der Prüfung unterstellte Fehlerarten. Code 340 220. In: IFA-Handbuch Sicherheit und Gesundheitsschutz am Arbeitsplatz. 2nd ed., Vol. 1/16, VI/2016. Published by: Deutsche Gesetzliche Unfallversicherung (DGUV), Berlin, Germany. Erich Schmidt, Berlin, Germany 2003 – loose-leaf ed. www.ifa-handbuchdigital.de/340220 [5] Measuring whisker growth on tin and tin alloy sur- face finishes, JESD22-A121A. Published by: JEDEC Solid State Technology Association, Arlington, Virginia, USA 2008 [6] Environmental acceptance requirements for tin whis- ker susceptibility of tin and tin alloy surface finishes, JESD201A. Published by: JEDEC Solid State Techno- logy Association, Arlington, Virginia, USA 2008 263 264 Annex D:Mean Time to Dangerous Failure (MTTF ) D D.1.1 Bath-tub life curve and constant Changes with respect to the second edition failure rate (BGIA Report 2/2008e): • Increase in the channel MTTF cap to 2,500 years for Component reliability is commonly described in terms of D Category 4 inserted failure rates, abbreviated λ (and accordingly λ for dan- D • Subclause D.2.4.2 and Figure D.3 revised to improve gerous failures only), the usual unit being FIT (failures intelligibility in time, i.e. number of failures in 109 component hours, • In subclause D.2.3: increased MTTF values for hydrau- 1 FIT = 10-9 per hour). This failure rate describes the rate, at D lic values in accordance with good engineering a particular point in time, at which functional components practice inserted fail. In other words, the number of failures per unit time is • In subclause D.2.4: explanations inserted concerning divided by the number of components which at the point the use of contactors and conversion of mechanical in time concerned have not yet suffered failure. The failure durability/electrical durability into B values mode of many types of components (particularly electro- 10D • Figure D.3 revised nic components) as a function of time takes the form, to a • In subclause D.2.5: Table D.2 (Good engineering greater or lesser degree, of a “bath-tub life curve” [1] (see practice methods) updated, including with higher Figure D.1). MTTF values for hydraulic valves operated only at D long intervals; reduced B value for “contactors with Figure D.1: 10D nominal load”; B value instead of fault exclusion for “Bath-tub life curve” of the failure rate 10D emergency-stop devices and pushbuttons (e.g. enab- ling switches). • In subclause D.2.5: comprehensive explanations inser- Early Random Wear out ted of the modelling of electromechanical components failures failures failures •In subclause D.2.6: reference inserted to the deleted Corrective: Corrective: safety factor of 10 for typical electronic components burn-in, dimensioning, optimization of preventive the process exchange D.1 What does “MTTF ” mean? D The mean time to dangerous failure MTTF describes the D reliability of the components used in a control system, and is one of several parameters that are used to deter- Failure Mission time mine the Performance Level. The MTTF is defined in rate T M or T 10D D EN ISO 13849-1 as the “expectation of the mean time to dangerous failure”. This emphasizes several aspects: λ 0 Time • The MTTF is a statistical value, i.e. a value of empirical D origin; in no way does it refer to a “guaranteed lifetime”, “failure-free time”, or the like. A greater number of components generally fail at the beginning of the mission time. These early failures domi- • The MTTF has the physical dimension of a period of nate only for a short period. Once the recommended mis- D time, and is generally stated in years. sion time has been exceeded, the failures begin to rise again. In the mid-range of the usual mission time, a pla- • Only dangerous-mode failures are relevant, i.e. failures teau of a constant failure rate is often observed, particu- that impair performance of the safety function. Should larly for electronic components. Random failures are typi- the safety function be executed by several channels cal for this phase. Even components which are affected (redundancy), the term “dangerous failure” is used more strongly by wear than by random failures, such as even if only one channel is affected. electromechanical or pneumatic components, can often be described over their mission time by the assumption of a constant failure rate estimated erring on the safe side.Early failures are generally disregarded, since com- 265 Annex D ponents exhibiting pronounced early failure patterns do stical average of approximately 63% of all initially intact not satisfy the availability requirements for a machine components have failed dangerously (not 50%, since control system and are therefore not generally signifi- although more components fail prior to attainment of the cant on the market. Suitable measures for the reduction MTTF , the remaining, intact components with residual D of early failures are premature ageing (burn-in), selec- operation times in some cases of several times the MTTF D tion, and optimization of the manufacturing process. In are of greater statistical influence). the interests of simplicity, constant failure rates within the mission time are therefore generally assumed in D.1.2 Division into classes and capping EN ISO 13849-1. The advantage of this assumption is that subsequent mathematical analysis is considerably The assumption of an MTTF for each component of rele- D simplified as a result, and forms the basis for the Markov vance to safety (where reasons are not given for a fault modelling of the designated architectures upon which the exclusion) is a condition for the following steps, by which bar chart/the simplified method of EN ISO 13849-1 are the MTTF of each channel is produced, first at block and D based. A constant failure rate results mathematically in a then at channel level. At channel level, EN ISO 13849-1 reliability curve which falls exponentially over the mission proposes division into three typical MTTF classes (see D time, and in an anticipated value for the time to failure Table D.1). These classes are intended to cancel out minor (MTTF ) which corresponds to the reciprocal of the failure differences between the calculated MTTF values, which D D rate, i.e.: in any case become irrelevantis paid to the proportions of risk reduction with and without safety- operating modes requiring manual intervention, e.g. for: related parts of a control system. Further information on the subject of risk can be found in the IFA Manual [19]. • Setting • Testing 5.2.2 Risk evaluation • Teaching/programming • Commissioning Following the risk estimation, a risk evaluation is per- • Material charging formed in order to determine whether a risk reduction is • Retrieval of the product necessary. The criteria for adequate risk reduction are • Troubleshooting and fault clearance specified in EN 12100 [3]: • Cleaning • Maintenance • Have all operating conditions and all intervention pro- cedures been considered? Further details of this process step can be found in EN ISO 12100 [3]. A range of methods exist for systematic • Have hazards been eliminated by suitable protective identification of the hazards; examples can be found measures or the risks reduced to the lowest practicable in ISO/DTR 14121-2 [4]. Possible hazards are also listed level? extensively in EN ISO 12100 [3]. Figure 5.2 shows an excerpt. • Has it been ensured that the measures taken do not give rise to new hazards? 5.2.1 Risk estimation • Have the users been sufficiently informed and warned Once all potential hazards which may be presented by the concerning the residual risks? machine have been identified, the risk must be estima- ted for each hazard. The risk associated with a particular • Has it been ensured that the protective measures taken hazardous situation can be determined from the following do not adversely affect the operators‘ working condi- risk elements: tions or the usability of the machine? a) Severity of harm • Are the protective measures taken compatible with one another? b) Probability of this harm occurring as a function of: –within the statistical uncer- tainty. They also serve to retain the equivalence to the MTTF = 1 (D.1) other parameters (five Categories, four DC levels), and to D λ D provide the necessary simplification for presentation in the bar chart. At a constant failure rate, the MTTF is therefore equiva- D lent to statement of a failure rate, whilst being much more Table D.1: illustrative. Whereas the practical significance of an FIT Division into classes of the MTTF for channels which execute D value is not very illustrative, statement of an anticipated the safety function time in years conveys the quality of components more Description of the MTTF Range of the MTTF graphically. Figure D.2 shows the statistically anticipated D D for each channel for each channel development of the proportion of dangerous failures over the mission time for four different MTTF values. A Low 3 years ≤ MTTF < 10 years D D further mathematical relationship can be observed here: Medium 10 years ≤ MTTF < 30 years D at attainment of the MTTF mark on the time axis, a stati- High 30 years ≤ MTTF ≤ 100 years D D 100% 80% 60% 40% 20% 0% 0 5 10 15 20 25 30 Figure D.2: Time in years Illustration of the MTTF D 266 seruliaf suoregnaD MTTF : D 3 years not 10 years acceptable low 63%-line 30 years medium high 100 years Capping The simplified quantification method to EN ISO 13849-1 understood only as an illustrative indicator of the level assumes a usual mission time not exceeding 20 years for of reliability within the mission time, and that it serves components in safety-related control systems in machine neither as a guarantee of a failure-free period before the construction. Consequently, and with knowledge of the MTTF is reached,nor as a precise prediction of the point D characteristic of the failure rate over time (Figure D.1), in time at which an individual component will fail. Once it becomes clear that a declared MTTF value should be the wear phase is reached, the failure behaviour changes D Annex D fundamentally and can no longer be described realisti- factors may differ. A very high MTTF may be assumed for D cally by a constant failure rate. mechanical and hydraulic components, which are opti- mized in their design and use for high reliability and low Desired side-effects of this classification are the rejec- wear. Random failures (in the constant failure rate phase) tion of MTTF values of < 3 years from each channel, and and wear failures are less significant for these compo- D the capping of higher MTTF values for each channel nents. Conversely, for the majority of electronic compo- D to a maximum of 100 years (this capping is raised to nents, the failure behaviour over the typical mission time 2,500 years for Category 4; these values are also to be of comparatively “cheap” industrial components is gene- assigned to the “high” class). Figure D.2 shows that with rally well described by a constant failure rate, since the an MTTF of three years, almost 30% dangerous failures wear phase is reached only under exacerbated operating D can be expected after just one year, which would appear conditions. The failure behaviour of electromechanical to be unacceptable for a safety-related control system. At or pneumatic components is very different again in its the other end of the scale, statistical validation of relia- nature. The wear phase of these components can easily bilities of > 100 years MTTF appears highly questionable be reached within the usual mission time. For this reason, D(this is acceptable in Category 4, since the other parame- the attainable number of successful operation cycles is ters determining the reliability, such as redundancy and generally stated as the parameter, rather than a lifetime in fault detection, already have a high level). Furthermore, a terms of a time or failure rate per unit time. Consideration residual probability of a dangerous failure within the mis- must be given to all these technology-specific aspects sion time remains at MTTF values of any magnitude, and during calculation of the MTTF value. For this reason, the D D may occur for other reasons (e.g. maloperation). It there- standard proposes differentiated procedures. fore appears inappropriate to validate high Performance Levels solely by the use of highly reliable components, D.2.1 MTTF of mechanical control components D without appropriate redundancy and fault detection. In the bar chart to EN ISO 13849-1, this conclusion is The approach employing constant failure rates is, unfor- expressed by the fact that no further MTTF range is shown tunately, not well suited to mechanical control com- D above the “high” MTTF class, even though this would be ponents. At the same time, almost all safety functions D possible according to the calculated probability. Higher involve mechanical control elements, at least where MTTF values are not capped to the maximum value of the sensors or actuators of mechanical control compo- D 100/2,500 years until the channel level, i.e. substantially nents are concerned that have the function for example higher MTTF values may be substituted in the calculation of detecting movements or stopping hazardous move- D for individual components. ments. Although it would often be possible for an MTTF D estimated erring on the safe side to be stated for these D.1.3 What is the origin of the data? components, fault exclusion isgenerally employed in this case. Provided the requirements for the fault exclusion A possible problem for users of the standard, particularly are observed and documented, this is generally the most at the point at which the revised EN ISO 13849-1 was first elegant means of considering the reliability of the mecha- published, was the lack of MTTF data for components nical components. These requirements include adequate D used in the SRP/CS [2]. In subclause 4.5.2, the standard resistance to the anticipated environmental influences, proposes a hierarchy of data sources. The first of these i.e. the validity of a fault exclusion depends upon the are manufacturer's data [M], followed by typical values selected application. Another requirement is that of ade- listed in the standard itself [S], and finally a very con- quate overdimensioning, which ensures for example that servatively estimated substitutional value of ten years. the mechanical components are subjected to stress only Since this substitutional value relates to a component, within the fatigue limit. If fault exclusion is not possible, and the lower limit of three years for the MTTF value is the good engineering practice procedure described below D soon reached where several components are employed may provide a means by which an MTTF value can be D in a channel, the MTTF values listed in the standard itself estimated. D were and are of particular importance. This will continue to be the case, at least until statement by the manufac- D.2.2 BIA-Report 6/2004, “Untersuchung des turers of MTTF values becomes the norm – including for Alterungsprozesses von hydrau lischen D components that were not developed from the outset for Wegeventilen” (study of the ageing use in SRP/CS. process of hydraulic directional control valves) D.2 Differences between technologies On hydraulic systems, valves warrant special conside- By its nature, thefailure mode of components varies ration as a “safety-related part of the control system”; strongly according to the technology employed, since valves that control hazardous movements or states, in the “bath-tub characteristic” and the relevance of wear particular, are extremely important for calculation of 267 Annex D the Performance Level. Experience has shown that the possible to calculate an MTTF for each individual year. D failure behaviour of hydraulic valves is characterized The MTTF rose, from 195 years in 2000 to 300 in 2003. D less by random failures than by failures due to wear. The A significant relationship was observed between valve causes of such failures are primarily systematic, such failures and operating/environmental conditions, since as excessive stress, unfavourable conditions of use, or the maintenance measures and operating conditions in lack of maintenance. In order for the lifetime of hydraulic User B's facility had been improved continually over the valves to be estimated better, the IFA (at that time still years. In addition, the operating conditions were superior the BGIA) launched a degree thesis on the subject, the to those in User A's plant owing to further measures, such results of which are available in the form of BIA-Report as monitoring of the fluid temperature; larger fluid reser- 6/2004, “Untersuchung des Alterungsprozesses von voirs, generally located outside the machine; finer return hydraulischen Wegeventilen” [3] (study of the ageing line filters; and flue gas discharge systems for reducing process of hydraulic directional control valves). Since the impurities in the ambient atmosphere. The study valves that assume control tasks are generally piston-type showed that, in conjunction with the type, quality, and directional control valves, the MTTF values for “hydraulic level of contamination of the hydraulic fluid used and the D components” were determined on valves of this type. The design, materialand type of the centering/return spring, most important results of this study are presented briefly the cylindrical guides of the components in valves, e.g. below. spool valves, had a substantial influence upon the antici- pated lifetime of hydraulic piston-type directional control Estimation of an MTTF value is based in the first instance valves. A clear relationship was also established between D upon failure rates for hydraulic piston-type directional the quality of the operating conditions and the attained control valves that were determined in a study conducted lifetime to failure over a defined period of observation. in the maintenance departments of two large-scale users of hydraulic equipment (referred to below as users A and D.2.3 MTTF of hydraulic control components D B). The failure rates were determined by the evaluation of computer data (quantities of re-ordered hydraulic Based upon the results of the above study, an MTTF D piston-type directional control valves, repair reports) of 150 to 1,200 years is proposed in EN ISO 13849-1 for and involvement in maintenance work. In addition to the hydraulic components, provided certain conditions are failure data for the valves, the operating conditions were met. The valves studied were primarily of the piston type. also taken into account. The comparability of the MTTF Owing to the similarity in failure behaviour, however, D values determined for the different users of hydraulic sys- the lifetime MTTF determined for these valves serves D tems is therefore assured. For validation and confirmation as a good estimation for all safety-related hydraulic of these data, further failure data were collected by a sur- valves. This is however conditional upon observance vey of valve manufacturers. In the case of User A, the fail- during design and manufacture of the basic and well- ure rates for the directional control valves were recorded triedsafety principles described in EN ISO 13849-2 for in the maintenance department of a transmission pro- hy draulic valves. The basic and well-tried safety principles duction plant. Data were available for all failures of direc- for application, likewise described in EN ISO 13849-2, tional control valves over a period of 38 months, during must also be stated by the valve manufacturer (in the which 143 directional control valves failed. Approximately manufacturer's data, operating conditions) and observed 8,050 directional control valves of various ages were in in practice. use on the machines, for the most part machine tools, in the transmission production plant. If a constant failure Annex C.2, Table C.1 of EN ISO 13849-2 states the basic rate is assumed during this period, an MTTF of 178 years safety principles for hydraulic systems. The most impor- D can be calculated as the reciprocal of the failure rate from tant principles include the use of suitable materials and the data for User A. At this user's plant, the operating con- manufacturing procedures, and the principles of isolation, ditions specified by the manufacturers were observed for pressure limitation, protection against unexpected start- the most part on the hydraulic systems. Since the facility up, and a suitable temperature range (for further details, primarily comprised new production lines, condition- see Annex C). based maintenance was performed. Annex C.3, Table C.2 of EN ISO 13849-2 lists well-tried The failure data for the directional control valves at User safety principles for hydraulic systems. The most impor- B's facility were likewise recorded in the maintenance tant principles comprise overdimensioning/safety factors, department of a transmission production plant. Appro- speed limitation/reduction by means of a resistance for ximately 25,000 directional control valves varying in age attainment of a defined volumetric flow, force limita- were in use in this case.Data were available for all direc- tion/reduction, an appropriate range for the operating tional control valves that had failed over a period of four conditions, monitoring of the condition of the pressure years (2000 to 2003). In contrast to User A's situation, the medium, the use of well-tried springs, and sufficient over- failure data for each year were available. It was therefore 268 Annex D lap in piston-type valves (for further details, refer again to • System and operating conditions Annex C). • Operation functions and conditions • Rate of operations and durability Experience gained through application of the second edi- • Protection against over-current and over-temperature tion of the standard has shown that for hydraulic valves, • Protection against over-voltage the frequency of actuation n (number of actuations per • Special conditions of use op year, see subclause D.2.4) is also a relevant parameter for the reliability. For this reason, the third edition of the The manufacturers provide manuals containing com- standard states graded MTTF values of between 150 prehensive information on selection and engineering. D and 1,200 years for hydraulic valves (see Table D.2) as a function of n as part of the good engineering practice In the context of quantification in accordance with op method (see subclause D.2.5). EN ISO 13849, the selection criteria for the lifetime will be considered briefly here. A distinction is drawn between Even though the standard states MTTF values for hydrau- the mechanical and electrical durability. The mechanical D lic valves subject to these conditions, each valve manu- durability of a contactor is expressed by the number of facturer should, if at all possible, determine failure stati- operation cycles attained by the contactor without loading stics for his own components and state an MTTF value of of the conducting paths. It isdependent upon the wear of D his own. the mechanical moving parts. D.2.4 MTTF of pneumatic and electro- The electrical durability of switchgear is expressed by the D mechanical control components number of operation cycles at the attainment of which the electrical contact elements are worn out. The electrical In fluid power, mechanical and electromechanical tech- contact elements are stressed during operation under nology, the lifetime and reliability of the components are electrical load, during both the contact making and brea- generally determined by the wear characteristics of the king processes. This causes wear of the contact members moving elements. in the form of contact pitting. It varies as a function of the voltage, current, load type (e.g. inductive) and dura- In fluid power components such as valves, which gene- tion. Complete contact pitting generally leads to contact rally constitute complex units with a large number of welding. In applications relevant to safety, this must be moving elements (such as pistons, plungers, springs in detected, in order for hazardous states caused by failure the pilot and main stages), the operational environmental of the contacts to open to be detected. For detection to conditions may also strongly influence the lifetime. These be assured, mechanically linked contacts must be used include, in particular: on contactor relays, or mirror contacts on contactors. The manufacturer's information must be observed here. • The quality and condition of the pressure medium (compressed air) The mechanical durability and the electrical durability of • Compatibility of seals with the lubricants the contact elements are determined by the manufactu- • Temperature influences rers in test series. These values are however not indepen- • Environmental influences such as dusts, gases, fluids dent of each other. The actual durability of the contactor may depend upon the power and operating mode ofthe Observance of the requirements specified by the compo- electrical load, as well as upon the mechanical wear. The nent manufacturer is crucial, since the parameters for the durability of the device is influenced by these values. failure behaviour of the component from which the control system category is calculated are not otherwise valid. The B values stated in Table D.2 of this report (see 10D subclause D.2.4.1) for the durability of the device are for A distinction is drawn between contactors and contactor orientation only. Preference should be given to the values relays. Contactor relays are used to implement logic and stated by the manufacturer. Should the manufacturer to drive contactors. Where higher power ratings must be himself not state a B value, but state values (number 10D switched, for example motors > 3 kW, contactors are gene- of operation cycles) for the mechanical and electrical rally used. Contactor relays are governed by the provisions durability, the lower of these values (generally dependent of IEC 60947-5-1, contactors by those of IEC 60947-4-1. upon the load in the case of the electrical durability) can be used as an estimate of the B value. The B can 10 10D Comprehensive criteria must be observed for their selec- be obt ained by doubling of this value (see subclause tion and use. These particularly include: D.2.4.1). 269 Annex D Table D.2: Typical reliability values that may be assumed to be reached when good engineering practice is followed Basic and well-tried Other relevant standards Typical values: safety principles to EN ISO MTTF (years) D 13849-2:2012 B (cycles) 10D Mechanical components Tables A.1 and A.2 — MTTF = 150 years D Hydraulic components with Tables C.1 and C.2 EN ISO 4413 MTTF = 150 years n ≥ 1,000,000 cycles per year D op Hydraulic componentsExposure of a person/of persons to the hazard • Has sufficient consideration been given to the conse- – A hazardous event occurring quences that can arise from the use in a non-profes- – The technical and human possibilities for avoidance sional/non-industrial context of a machine designed for or limitation of the harm professional/industrial use? Electric shock Obstacles Counter-rotating rollers Automatic machinery: Crushing hazard may start without warning Figure 5.2: Examples of hazards (source: German Hand injuries Social Accident Insurance Institution for the food stuffs and catering industry) 27 5 Safety functions and their contribution to risk reduction Risk without Risk without Actual Acceptable/ safety-related protective residual risk tolerable risk control systems measures low high Overall risk presented by the machine Necessary minimum risk reduction Actual risk reduction Covered by measured Covered by Remaining not involving safety- safety-related parts residual risk related parts of control systems Figure 5.3: of control systems Risk estimation and risk reduction 5.3 Identification of the required safety tions are defined that are executed by the SRP/CS (safety- functions and their properties related parts of control systems) (see Figure 5.4). An iterative process for design of the safety-related parts Should the evaluation identify an (as-yet) unacceptable of control systems is set out in [5] (Figure 4.1). Figure 5.5 risk, appropriate safeguards must be provided. Priority shows the part relevant to this subclause of the report. is however to be given to efforts by which hazards are avoided (inherently safe design), or at least reduced to Figure 5.4: the greatest possible extent, by design modifications to Safety functions are executed by SRP/CS the machine. In principle, information for use (including organizational measures) is also a possible means of risk Sensor Logic Actuator reduction. Measures of this kind are acceptable however only in exceptional cases in which an economicallywith 500,000 cycles per year ≤ n < 1,000,000 cycles per Tables C.1 and C.2 EN ISO 4413 MTTF = 300 years op D year Hydraulic components with 250,000 cyc- Tables C.1 and C.2 EN ISO 4413 MTTF = 600 years les per year ≤ n < 500,000 cycles per year D op Hydraulic components with n < 250,000 op Tables C.1 and C.2 EN ISO 4413 MTTF = 1,200 years cycles per year D Pneumatic components Tables B.1 and B.2 EN ISO 4414 B = 20,000,000 cycles 10D EN 61810-1/-2/-3 Relays and contactor relays with small load Tables D.1 and D.2 EN 60947-4-1 B = 20,000,000 cycles 10D EN 60947-5-1 EN 61810-1/-2/-3 Relays and contactor relays with Tables D.1 and D.2 EN 60947-4-1 B = 400,000 cycles nominal load 10D EN 60947-5-1 EN 60947-5-3 Proximity switches with small load Tables D.1 and D.2 B = 20,000,000 cycles EN ISO 14119 10D EN 60947-5-3 Proximity switches with nominal load Tables D.1 and D.2 B = 400,000 cycles EN ISO 14119 10D Contactors with small load Tables D.1 and D.2 EN 60947-4-1 B = 20,000,000 cycles 10D Contactors with nominal load Tables D.1 and D.2 EN 60947-4-1 B = 1,300,000 cycles 10D EN 60947-5-1 Position switches a) Tables D.1 and D.2 B = 20,000,000 cycles EN ISO 14119 10D Position switches EN 60947-5-1 Tables D.1 and D.2 B = 2,000,000 cycles (with separate actuator, guard-locking) a) EN ISO 14119 10D Position switches b) and push-buttons b) under resistive load and with over-dimen- EN 60947-5-1 Tables D.1 and D.2 B = 1,000,000 cycles sioning (≤ 10% of the maximum load) of EN ISO 14119 10D the electrical contacts Position switches b) and push-buttons b) with over-dimensioning in accordance EN 60947-5-1 Tables D.1 and D.2 B = 100,000 cycles with Table D.2, ENISO 13849-1:2012 of the EN ISO 14119 10D electrical contacts EN 60947-5-5 Emergency-stop devices a) Tables D.1 and D.2 B = 100,000 cycles EN ISO 13850 10D Enabling switches Tables D.1 and D.2 EN 60947-5-8 B = 100,000 cycles 10D a) If fault exclusion is possible for direct opening action b) For make contacts and for break contacts, if fault exclusion is not possible for direct opening action If the following characteristics are satisfied, the MTTF nent (confirmation on the data sheet for the compo- D value for a single pneumatic, electromechanical or nent). mechanical component can be estimated by means of the formulae shown further below: • The manufacturer of a component for use in a Category 1, 2, 3 or 4 control system confirms that well-tried safety • The manufacturer of the component confirms that the principles to EN ISO 13849-2:2012, Tables B.2 or D.2 basic safety principles to EN ISO 13849-1:2012, Table B.1 were applied during design of the component (confir- or Table D.1 were applied during design of the compo- mation on the data sheet for the component). 270 Annex D • The manufacturer of the component specifies the sui- The MTTF value is defined as the mean time to dangerous D table application and operating conditions for design failure. In order for this time to be determined for a com- of the SRP/CS and for the application. The designer ponent, corresponding lifetime characteristics must be of the SRP/CS satisfies the basic safety principles to defined. Such characteristics may be the distances tra- EN ISO 13849-1:2012, Tables B.1 or D.1 for implemen- velled by pneumatic cylinders, the frequency of actuation tation and operation of the component and informs of valves or electromechanical components, and stress the user of his responsibility to satisfy the basic safety reversalin the case of mechanical components. The reli- principles that he is required to implement. For the ability of pneumatic or electromechanical components is Categories 1, 2, 3 or 4, the same obligation applies with generally determined in the laboratory. regard to satisfaction of the well-tried safety principles to EN ISO 13849-1:2012, Tables B.2 or D.2, and in turn D.2.4.1 Determining of the lifetime value B 10D during implementation and operation of the compo- nent. The frequency of failure can be determined from values obtained in the laboratory or possibly in field studies, for The actual measures behind the basic and well-tried example by means of Weibull statistics [4]. The two-para- safety principles are similar to those described above in meter Weibull distribution function shown in Figure D.3 is greater detail for hydraulic components. more flexible than the exponential distribution, which it includes as a special case (b = 1). Weibull distribution F (t/T ) D 10D F (t/T ) 30 D [%] 10D F (t) = 1 – exp – ( t )b T = T b = / √3 3 , 0,1 25 D T D 10D D Probability 20 of a b = 1, 10% failed dangerous 15 dangerously T D = MTTF D = T /0,1 failure 10D 10 5 Operation time limitation 0 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 1.8 B Standardized time t/T 10D 10D Weibull failure rate λ (t) D T · λ (t) 0.5 10D D b = 3, F´ (t) tb–1 0.4 λ D (t) = 1 – D F ( t ) = b T b T D = T 10D / √3 0,1 D D Dangerous failure rate 0.3 standardized b = 1, at T 0.2 10D T = MTTF D D = T /0,1 10D0.1 Operation time limitation 0 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 1.8 Figure D.3: B Standardized time t/T 10D 10D Illustration of the conversion from B to MTTF 10D D An increase in the failure rate following onset of the wear If only dangerous failures are considered, this can be phase can be described well by b parameters > 1. The T presented by the “D” suffix. Alternative methods can be parameter describes the characteristic life at which 63.2% used to determine the Weibull parameters, depending of the components under consideration have failed. upon the test method. Such methods are also appropriate 271 Annex D when data are incomplete, for example when intact parts five out of seven valves must fail for evaluation of the test are to be considered. Results in the form of data for the results. The “maximum likelihood” and “rank regression” parameters b and T can be read off from the diagrams. In methods are stated in ISO 19973-1 as example methods turn, the nominal life T , at which 10% of the components for determining the Weibull parameters. 10 studied have failed, can then be determined. The durabi- lities of pneumatic and electromechanical components As an approximation, where testing is performed on a are generally stated in the pseudo-unit of (operation) small number of test specimens, e.g. seven valves, the “cycles” rather than in the dimension of time. The mean first failure determines the B value, i.e. the number of 10 number of operations per year n (in cycles per year, see cycles attained by the time of the first failure corresponds op subclause D.2.4.2) is used for conversion. The B value approximately to the B value. Should the first failure be 10 10 in cycles corresponds here to the time-based Tvalue. dangerous, the number of operation cycles performed up 10 The MTTF value is determined as described below in sub- to this point approximates to the B value. D 10D clause D.2.4.2 by the nominal life B . A reliability analysis 10 employing Weibull statistics can be conducted by means Dangerous failures on pneumatic valves particularly of commercial software. The safety-related reliability include: values for fluid power and electromechanical components must be stated by the manufacturer of the components • Failure to switch (sticking at an end or zero position) concerned. The reliability of pneumatic components can or incomplete switching (sticking at a random inter - be determined with reference to ISO 19973, Pneumatic me diate position) fluid power – Assessment of component reliability by tes- ting. This standard currently comprises five parts: • Change in switching times • Part 1: General procedures • Spontaneous change in initial switching position (in the absence of an input signal) • Part 2: Directional control valves Analysis of the failures always refers to the entire modular • Part 3: Cylinders with piston rod unit, consisting for example of main valve and pilot valve. • Part 4: Pressure regulators D.2.4.2 Conversion of B to MTTF 10D D • Part 5: Non-return valves, shuttle valves, dual pressure For the simplified method for estimation of a PL, the stan- valves (AND function), one-way adjustable flow control dard expects statement of an MTTF value for considera- D valves, quick-exhaust valves tion of random component failures. For electromechanical and pneumatic components however, B are typically 10D Where the reliability of pneumatic valves is determined, available, which must first be converted to MTTF values. D the life (B value) is indicated in cycles before failure. The standard provides an approximation formula for this 10 The nominal life B (termedt in some references) is the purpose. This formula is subject to certain conditions: 10 10 average number of operation cycles by the attainment of which 10% of the units studied have failed. Since in T B 10D 10D the case of valves, the “availability” failure criterion also MTTF D = 0,1 = 0,1 · n (D.3) op encompasses failures that are not relevant to safety (e.g. leakage above the defined threshold), it has been set out This approximation is based upon reformulation in two in the standard that the value determined for the nominal steps. The B value, stated in the pseudo unit of “cyc- 10D life (B ) multiplied by two may be considered equal to the les”, is first converted to a T value. This value is the 10 10D B (dangerous) value (number of cycles until 10% of the elapsed time at which 10% of the components under ana- 10D components fail dangerously): lysis have failed dangerously: B = 2 ⋅ B (D.2) B 10D 10 T = 10D (D.4) 10D n op The B value is generally determined in the laboratory. For 10 this purpose, at least seven valves produced at different The average number of actuations per year n (stated in op times are subjected to endurance testing. The maximum cycles per year) serves as the conversion factor for this rate of operations for the endurance test is determined purpose. It is based upon the following parameters, which from the pressure build-up (attainment of 90% of the test must be estimated for the anticipated application (if pressure) and the pressure dissipation (attainment of appropriate, the worst-case scenario): 10% of the test pressure) in a connected volume that is defined according to the port cross-subclauses. At least 272 Annex D • h → Mean operationin hours per day however, the onset of the wear phase results in strong op variation. • d → Mean operation in days per year op Formula (D.3) is derived from the condition • t → Mean operation time between the beginning cycle of two successive cycles of the component F(T ) = 1 – exp(– λ · T ) = 10% 10D D 10D (e.g. switching of a valve) in seconds (s) per cycle. for the exponential distribution forming the approxi- mation, where λ represents the “substitute failure D The n (in cycles per year) can be determined from these rate” referred to above. Reformulation produces op parameters as follows: λ = –ln(0.9)/T . Since ln(0.9) approximates closely to D 10D 0.1 and MTTF = 1/λ , the result is finally MTTF ≈ T /0.1. D D D 10D d · h s op op n = (cid:31)· 3,600 (D.5) D.2.5 Good engineering practice methods op t h cycle The second step in the approximation hidden in the for- Should no component reliability data be available from mula (D.3) consists of the assumption of a “substitute the manufacturer, the standard proposes the use of failure rate” constant over time for the actual failure rate, values listed within it as the first alternative. It provides of which wear is the dominant cause. This approximation, support in the form of typical values for mechanical, however, yields a result of adequate quality only up to hydraulic and pneumatic components and for electro- attainment of the T value (which equates in “cycles” to mechanical safety components frequently used in 10D the B value). practice. These values are listed as MTTF values or B 10D D 10D values in Table D.2. The B value, which is obtained by 10D This part of the approximationis illustrated in Figure D.3. the component manufacturer by testing, indicates the The unbroken curve represents the original Weibull distri- average number of cycles at which 10% of the compo- bution with an assumed shape factor of b = 3. In the parti- nents have failed dangerously. This value can be used to cular case where b = 1, the Weibull distribution transitions estimate the MTTF value. A number of conditions must D to an exponential distribution that is characterized by a however be met when the values in Table D.2 are used: constant failure rate over time. The dashed line now refers to the exponential distribution corresponding to the “sub- • The manufacturer of the component confirms that basic stitute failure rate”, constant over time, which is equal safety principles to EN ISO 13849-1:2012 or the relevant to the reciprocal of the MTTF value obtained by means standard (see Table D.2) were applied during design of D of the formula (D.3). The MTTF obtained by this means the component (confirmation on the data sheet for the D ensures that the exponential distribution shown by the component). dashed line intersects the original Weibull distribution at the point (t = T ; F = 10%). The point at which 10% of • The manufacturer of a component that is to be used in 10D D the components under analysis have failed dangerously a Category 1, 2, 3 or 4 control system confirms that well- is therefore reached by both distributions following elap- tried safety principles to EN ISO 13849-1:2012 or the sing of T . From Figure D.3, it can be seen that the actual relevant standard (see Table D.2) were applied during 10D fail ure rate prior to attainment of the wear phase is very the design of the component(confirmation on the data low, and remains below the approximated exponential sheet for the component). distribution up to point T . This approximation is there- 10D fore conservative (on the safe side). The importance of • The manufacturer of the component specifies the sui- limiting the mission time to T is also evident: above this table application and operating conditions for the 10D value, the proportion of dangerous failures which may SRP/CS designer and the user and informs them of actually be expected rises significantly over time when their responsibility to satisfy the basic safety principles compared to the exponential substitute function. The to EN ISO 13849-1:2012 during implementation and validity of the approximation based upon the substitute operation of the component. failure rate constant over time can be extended by preven- tive re placement of the affected component when the T • The designer of the SRP/CS and the user satisfy 10D value is reached. the basic and/or well-tried safety principles to EN ISO 13849-1:2012 for implementation and operation In the lower part of Figure D.3, it can be seen clearly that of the component. the selected “substitute failure rate” λ = 1/MTTF of the D D exponential approximation corresponds approximately Compliance with these requirements is to ensure that the to the arithmetic mean of the failure rate which may actu- application of basic and/or well-tried safety principles ally be expected up to the point in time T . Beyond T is assured from manufacture, through implementation, 10D 10D 273 Annex D to routine operation of the component. The interface This topic will therefore be discussed separately in detail between the manufacturer, the designer of the SRP/CS in subclauses D.2.5.1 to D.2.5.6 below. and the user of the machine (operating party) is clearly defined: the manufacturer must provide bindingconfir- By their nature, these approaches constitute major sim- mation that the safety principles were observed during plifications of the actual, complex relationships. A very design, and must make all relevant information available low load current in particular, combined with infrequent concerning the conditions of use and operation. The actuation, can for example lead to cold welding of elec- de signer of the SRP/CS and the user of the machine trical contacts. These effects should however be avoided (operating party) are in turn responsible for observing by the required application of basic/well-tried safety prin- all safety principles concerning implementation and ciples. These principles include the suitability of both the operation of the component. Provided these conditions mechanical and electrical component characteristics and are met, the typical values cited in Table D.2 can be their adaptation to the anticipated load. used for calculation of the MTTF , if applicable via the D B . The MTTF value of 150 years for hydraulic control D.2.5.1 Modelling of electromechanical compo- 10D D components, the reasoning for which is stated above, is nents (position switches, guard-locking extended here to include mechanical components. This devices, emergency stop devices, enab- secondary value can be used when reasoning cannot be ling switches and pushbuttons) provided for a fault exclusion but when the use of basic/well-tried safety principles is assured. In addition, It has been seen in practical application of the standard B values for electromechanical components are stated to date that considerable uncertainty exists regarding the 10D that can be converted to an MTTF value in accordance modelling of electromechanical components. This can D with the procedure also described above involving the also be seen from the fact that the language between the average number of actuations per year n . two parts of the standard differsrea- sonable risk reduction by means of technical protective Detection Processing Switching measures is not possible; in the majority of cases, safegu- ards will however be required. In this context, safety func- From risk analysis (EN ISO 12100) 1 Identification of safety functions (SFs) 2 Specification of characteristics of each SF For each 3 Determination of required PL (PL) r SF Figure 5.5: To implementation Return and determining of the PL if further Excerpt from the iterative process for (Figure 6.1) SFs exist the design of the dafety-related parts of (Figure 7.1) control systems (SRP/CS) 28 5 Safety functions and their contribution to risk reduction 5.3.1 Definition of safety functions f) Prevention of entrapment of persons The necessary safety functions are defined in considera- g) Stopping of the closing movement controlled by two- tion of both the application and the hazard. For example, hand operation in the event of intervention in the dan- if flying debris must be anticipated, a light curtain will ger zone by a second person (initiated by means of a be an unsuitable solution, and an arrester (guard) will light curtain) be required. A safety function is therefore a function by which measures (including measures in the control tech- Compound safety functions are frequently employed, as nology) reduce the risk presented by a particular hazard to in the example in subclause 5.7. The movement is initi- an acceptable level. In the absence of relevant provi sions ally braked to a halt by the electronic drive, after which in a Type C standard, the safety functions are de fined by a mechanical holding brake is applied. The two tables the designer of the machine, e.g.: below provide information on possible safety functions. Table 5.1 summarizes the safety functions according to a) Controlled stopping of the movement andto some extent in this op context: whereas the first part selects an approach invol- All values in the table relate to dangerous failures only, ving B within the good engineering practice method 10D as expressed by the “D” suffix. It has generally been (see Table D.2), the second part addresses possible fault assumed here that only half of all failures are dangerous. exclusions. This is exacerbated by the fact that for many The third edition of the standard however deviated from of these components, a clear distinction cannot be made this rule for “contactors with nominal load”, and the pro- between their mechanical and electrical parts. Conse- portion of dangerous failures (75% break faults or short- quently, the requirements and information in both parts circuits) stated in Table K.2 of the IEC 60947-4-1 product of the standard will first be presented below in general standard [5] was used for conversion. This leads to a terms; a pragmatic modelling approach will then be pro- reduced B value compared to that in the second edition posed for the various electromechanical components that 10D of the standard, namely 1,300,000 rather than 2,000,000 draws primarily upon Part 1 of the standard. Part 2 can cycles. Consequently, the values stated here may well also be applied as an alternative; implementation often appear more optimistic than those indicated on manu- fails in practice however owing to the fact that complete facturers' data sheets, which relate to all fault types that fault exclusion for the mechanical and electrical part could impair functionality in the sense of availability. On requires confirmation by the manufacturer – for example some electromechanical components, for example relays, in the data sheet – or precise knowledge of the conditions contactor relays and contactors, the electrical load of the of use. In practice,the two conditions are often not met. contacts is a major factor determining the B value, as 10D is frequently confirmed by observations in the field. At What is stated in the standard? – Electro mechanical low electrical load (typically resistive load), described by components in accordance with Part 1 of the standard EN ISO 13849-1 as up to 20% of the rated value, substan- tially better values are obtained. The mechanical rather With the good engineering practice method introduced than the electrical durability was assumed decisive in above, EN ISO 13849-1:2015 proposes that subject to this case (see subclause D.2.4). Depending upon the type satisfaction of the conditions set out below, the typi- (resistive or inductive) and magnitude of the load, B cal B values [S] for position switches, guard-locking 10D 10D values lying between the extremes stated here may be devices, emergency stop devices, enabling switches and derived. For the position switches, guard-locking devices, pushbuttons stated in Table D.2 may be assumed: emergency stop devices and pushbuttons, such as ena- bling switches, listed in the table, the safety principle of • Use of basic and well-tried safety principles in design, direct opening action is generally a requirement for the application and operation of the component (see Tables electrical part. Between the second and third editions of D.1 and D.2 to EN ISO 13849-2), and the standard, certain changes took place for these com- ponents in the good engineering practice method as a result of experience gained with application in the field. 274 Annex D • The possibility of fault exclusion for direct opening and application aspects. These are special cases in which action (contacts to IEC 60947-5-1, Annex K, characte- the machine manufacturer excludes certain faults on a rized in the conceptual circuit diagrams by →) case-by-case basisfor specific applications in consulta- tion with the component manufacturer. Manufacturer's data [M] should of course always be given preference over typical values stated in the standard. What is stated in the standard? – Electro mechanical Regarding modelling, the standard states that the compo- components in accordance with Part 2 of the standard nents “can be estimated as a Category 1 or Category 3/4 subsystem depending on the number of electrical output Table D.8 of EN ISO 13849-2 applies to switches, such contacts and on the fault detection in the subsequent as electromechanical position switches and manually SRP/CS. Each contact element (including the mechanical operated switches, and can therefore be applied to all actuation) can be considered as one channel with a res- the electromechanical components referred to above. The pective B value.” following conditions are stated for exclusion of the fault 10D “failure of contacts to open”: Although this statement refers directly only to emergency stop devices and enabling switches, the principle can • The switch must satisfy IEC 60947-5-1:2003, Annex K, also be applied to other electromechanical components. i.e. it must possess contact elements with direct ope- ning action. It appears at first glance inconsistent for single-channel or two-channel modelling to be determined by the num- • Fault exclusion applies only up to a maximum of PL d. ber of electrical output contacts, despite the fact that PL e requires redundant components, i.e. a second fault exclusion for direct opening action can be assumed (position) switch (exception: emergency-stop devices). for mechanically linked contact elements. However, the statement that the B value of each channel is to apply This yields, irrespective of the number of electrical contact 10D to the contact element including its mechanical actuation elements, the following result for position switches (with shows this to be astrategy intended to present, in the and without separate actuator), guard-locking devices, simplest way possible, the complex interrelationship of enabling switches and pushbuttons: mechanical and electrical elements in the electromecha- nical components referred to. The focus lay here not upon • Up to PL d: fault exclusion is permissible and may also the details of the electromechanical design, but upon a apply to the mechanical aspects, subject also to con- recipe that is as simple as possible: firmation by the manufacturer. Modelling as a Category 3 encapsulated subsystem (with single-fault tolerance) • An electromechanical component employing one con- and direct statement of PL d and PFH of zero. The D tact element with direct opening action that satisfies coupling between PL and PFH must be cancelled for D the above conditions can be modelled as part of a Cate- this purpose in SISTEMA (under Subsystem, “PL” tab). gory 1 subsystem. In the functional channel, the subsys- tem contains a block with the corresponding B value. • PL e: no fault exclusion (for mechanical and electrical 10D aspects) is permissible • An electromechanical component employing (at least) two contact elements with direct opening action that For emergency stop devices in accordance with IEC 60947- satisfies the above conditions can be modelled as part 5-5, fault exclusion with respect to the “failure of contacts of a Category 3 or 4 subsystem, depending upon fault to open” is permissible for mechanical aspects up to detection in the downstream SRP/CS. In each of the two PL e, provided a maximum number of actuations is con- functional channels, the subsystem contains one block sidered. In the past, 6,050 actuations to IEC 60947-5-5 with the corresponding B value. was em ployed in this context as the number of operation 10D cycles over the lifetime. Beyond thegeneral case, EN ISO 13849-1 adds that “in some cases it may be possible, that the machine builder As mentioned in the preceding subclause, the permissi- can apply a fault exclusion according to EN ISO 13849-2, bility of fault exclusions in principle is of only limited rele- Table D.8 considering the specific application and envi- vance in practice. ronmental conditions of the device.”. The formulation of fault exclusion for an electromechanical component is The requirements stated in the standard are applied therefore on the one hand an issue for the component below to frequently used electromechanical components. manufacturer, who alone is familiar with the detail of its mechanical design. At the same time, it must be consi- dered with respect to the application whether fault exclu- sion is permissible in consideration of ambient, operating 275 Annex D D.2.5.2 Position switches as well as the switch itself. The relevant requirements of EN ISO 13849-2, Annex A must also be satisfied for Electromechanical position switches manufactured in the requisite fault analysis, including of possible fault accordance with IEC 60947-5-1 employing one or two exclusions. In accordance with EN ISO 13849-2, Table D.8, electrical contact elements with direct opening action a maximum of PL d is attainable with a single position in accordance with IEC 60947-5-1, Annex K can be consi- switch (even with two contact elements). The relevant dered as described in Table D.3. The B value that can be Type C standards for machines may contain provisions 10D applied (to one or two channels) in accordance with the deviating from this, such as the use of two position good engineering practice method is 2,000,000 cycles for switches for Category 3. position switches with separate actuator and 20,000,000 cycles for all other position switches. Information on the selection and fitting of positionswitches can be found in DGUV Informative publication Positive actuation of the switch (e.g. the actuating 203-079 [6] (in German). mechanism, attachment of the actuator) is important, Conceptual schematic circuit B1 B1 diagram B1.1 B1.2 Safety- related block B1.1 diagram B1 B1.2 Modelling Block B1 Blocks B1.1 and B1.2 per block: B = 2,000,000 or B = 2,000,000/ 10D 10D Table D.3: 20,000,000 cycles [N] or 20,000,000 cycles [S] or Modelling of position switches in the manufacturer‘s data [M] manufacturer‘s data [M] conceptual schematic diagram and in Category Category 1 Category 3 the safety-related block diagram, with and PL max. PL c max. PL d Category and PL assignment D.2.5.3 Guard-locking devices locking also possesses a facility for blocking the moving guard in the closed position. As long as this facility is Guard-locking devices in this context are equipment for active, the guard cannot be opened. the mechanical blocking of closed guards, with integra- ted position switch(es), considered as a modular unit, A product standard for guard-locking devices does not by means of which the safety functions of guard locking exist; basic safety requirements are however listed in and interlocking (position monitoring of the safeguard) EN ISO 14119. The GS-ET-19E test principles [7] also govern can be implemented. Of the “guard locking” safety func- guard-locking devices as modular units. According to tion, only position monitoring of the locking element will these principles, electromechanical guard-locking devices be considered below. For discussion of the complete contain a position switch for position monitoring of the “guard locking” safety function, refer to subclause 8.2.19 safeguard (guard door) and a position switch for position (Example 19). Besides the arrangement for monitoring monitoring of the locking element (see Figure D.4). the position of a guard, an interlocking device with guard 276 Annex D Guard locking Actuator*Locking element Open guard Faulty-closure protection B2: Position switch for monitoring of the B2 locking element position B1.1 B1.2 Unlock Q1 Figure D.4: Conceptual presentation of a guard- locking device with faulty-closure B1: Position switch for monitoring * Permanently attached protection and additional position moni- of the guard position to the moving guard toring of the safeguard (interlock) If the guard-locking device uses the constructive element element is not in the locked position, no conclusion of a “faulty-closure protection”, the position switch for can be drawn regarding the position of the safeguard. position monitoring of the safeguard is not required: if Guard-locking devices can be considered as shown in the locking element is in the locked position, it can be Tables D.4 and D.5 in consideration of the requirements in assumed that the safeguard is closed. If the locking EN ISO 14119 and the GS-ET-19E test principles. Table D.4: Modelling of guard-locking devices without faulty-closure protection in the conceptual schematic diagram and in the safety-related block diagram, with Category and PL assignment Guard locking without faulty-closure protection Conceptual Monitoring of the guard Monitoring of the locking Monitoring of the guard Monitoring of the locking position mechanism position position mechanism position schematic circuit diagram B1 B1 B2 B2 B1.1 B1.2 B2.1 B2.2 Safety- related B1.1 B2.1 B1 B2 block diagram B1.2 B2.2 Modelling Blocks B1 and B2 per block: Blocks B1.1, B1.2, B2.1 and B2.2 per block: B 10D = 2,000,000 cycles [S] or B 10D = 2,000,000 cycles [S] or manufacturer‘s data [M] manufacturer‘s data [M] Category Category 1 Category 3 and PL max. PL c max. PL d 277 Annex D Guard locking with faulty-closure protection Conceptual Monitoring of the locking Monitoring of the locking mechanism position mechanism position schematic circuit diagram B1 B1 B1.1 B1.2 Safety- related B1.1B1 block diagram B1.2 Modelling Block B1 Blocks B1.1 and 1.2 per block: Table D.5: B = 2,000,000 10D B = 2,000,000 cycles [S] or Modelling of guard-locking devices cycles [S] or 10D manufacturer‘s data [M] manufacturer‘s data [M] with faulty-closure protection in the conceptual schematic diagram and in Category Category 1 Category 3 the safety-related block diagram, with and PL max. PL c max. PL d Category and PL assignment The following can be summarized for guard-locking D.2.5.4 Emergency stop device devices: Emergency stop devices constructed in accordance with • The B value that can be applied (to one or two chan- the IEC 60947-5-5 product standard can be considered as 10D nels) for guard-locking devices in accordance with the described in Table D.6 (see page 279). good engineering practice method is 2,000,000 cycles. D.2.5.5 Enabling switches • The existence of the faulty-closure protection and the associated fault exclusion for the mechanical part must Three-position enabling switches constructed in be confirmed by the manufacturer. accordance with the IEC 60947-5-8 product standard or the GS-ET-22E test principles [8] can be considered as • A maximum of PL d can be attained by a single guard- described in Table D.7. Enabling switches are available locking device as a modular unit for the interlock with different contact sets (different numbers of make-/ function (even with two contact elements per position break-contact elements). The safety-related cancellation switch) in accordance with EN ISO 13849-2, Table D.8. of the enabling function is attained on three-position If a PL of e is desired, it can be attained only by means enabling switches by releasing the switch or pressing it in of an external additional position switch for position fully. The two functions can be evaluated in the same way; monitoring of the safeguard. with respect torelease of the switch however, particular attention must also be paid to overdimensioning of the • On guard-locking devices in the form of modular units, electrical (in this case make) contacts with regard to the the guard-locking function is limited to PL d, since only load. The functions of “releasing” and “pressing in fully” one position switch exists for monitoring of the locking are grouped below in a single safety function, since the element and for the associated actuating mechanism. direction of actuation is not predictable. • The restrictions stated in the relevant Type C standards for machines must be observed. Guidance on the selection and fitting of guard-locking devices can be found in DGUV Informative publication 203-079 [6] (in German). 278 Annex D Conceptual schematic S1 S1 circuit diagram S1.1 S1.2 Safety- S1.1 related S1 block diagram S1.2 Modelling Block S1 Blocks S1.1 and S1.2 per block: B = 100,000 cycles [S] or B = 100,000 cycles [S] or 10D 10D Table D.6: manufacturer‘s data [M] manufacturer‘s data [M] Modelling of emergency stop devices in the conceptual schematic diagram and in the Category Category 1 Category 3 or 4 safety-related block diagram, and PL max. PL c max. PL e with Category and PL assignment Table D.7: Modelling of three-position enabling switches in the conceptual schematic diagram and in the safety-related block diagram, with Category and PL assignment Conceptual 1 2 3 1 2 3 1 2 3 1 2 3 1 2 3 1 2 3 1 2 3 1 2 3 schematic circuit 1 2 3 1 2 3 1 2 3 diagram S1 S1 S1 S1.1 S1.2 S1.1 S1.2 S1.1 S1.2 S1.3 S1.4 Condition Break contact to Enabling button to GS-ET-22E Enabling button to GS-ET-22E EN 60947-5-1 Annex K Safety- Release Press in fully Release Pressin fully Release Press in fully related S1.1 S1.3 block S1.1 S1.2 S1.1 S1.2 diagram S1.2 S1.4 b) Modelling Block S1.1 Block S1.1 Blocks S1.1 and S1.2 per block: B = 100,000 cycles [S] or B = 100,000 cycles [S] or B = 100,000 cycles [S] or 10D 10D 10D manufacturer‘s data [M] manufacturer‘s data [M] manufacturer‘s data [M ] Block S1.2 fault exclusion, Block S1.2 fault exclusion, Blocks S1.3 and S1.4 per block: PFH = 0 PFH = 0 fault exclusion, PFH = 0 D D D Category Category B Category 1 Category 3 and PL max. PL b a) max. PL c max. PL d a) Make contact S1 limits the attainable PL to b. b) Adequate fault detection for the electrical contacts is implemented in the downstream SRP/CS. The IEC 60947-5-8 product standard places no design tried components in this case, and Category 1 is conse- requirements upon the opening function. This applies to quently not possible. both the make- and break-contact elements (releasing of the switch or pressing in fully). In particular, electrical The GS-ET-22E test principles set out particular design contact elements with direct opening action to IEC 60947- requirements, for example: 5-1, Annex K are not required. They are not therefore well- 279 Annex D • For the “releasing” function: the use of well-tried with a maximum PL of c, or two-channel in Category 3 with springs, or a two-channel arrangement with contact a maximum PL of d. monitoring D.2.5.6 Pushbuttons • For the “pressing in fully” function: electrical contact elements with direct opening action to IEC 60947-5-1, Pushbuttons to EN ISO 13849-2, Table D.8 are used for Annex K, or two-channel signal transmission with example for initiating a movement of limited duration or corresponding monitoring by the control system. distance in inching mode.application subclause 5.1 of EN ISO 13849-1 and adds examples of of the holding brake in the rest position possible applications. The “emergency stop function” is also included: though not part of a safeguard, it is used b) Prevention of a crushing point being caused by for implementation of a complementary protective meas- descending machine parts ure (see subclause 5.5). Table 5.2 shows further safety functions for safe power drive systems to IEC 61800-5-2 c) Reduction of the power of a cutting laser where the eye (PDS/SR, power drive systems/safety related) [20]. The is directly exposed scope of this standard includes the safety functions fre- quently employed for prevention of unexpected start-up d) Prevention of dropping of the shaft in setup mode (safe torque off, STO), for safe stop SS1 and SS2 and for safely-limited speed (SLS). e) Evasion of the robot when a person enters its danger zone Safety functions for pneumatic drive technology are described in VDMA Technical Rule 24584 [21]. Table 5.1: Safety functions described in EN ISO 13849-1 Safety function Example application Safety-related stop function, initiated by a safeguard Response to tripping of a protective device with STO, SS1 or SS2 (Table 5.2) Manual reset function Acknowledgement when areas behind the protective device are vacated Start/restart function Permissible only with interlocking guards with start function to EN ISO 12100 Local control function Control of machine movements from a location within the hazard zone Muting function Temporary deactivation of safeguards, e.g. during material transport Hold-to-run equipment (inching switch) Machine movements controlled from a position within the hazard zone, e.g. during setup Enabling function Machine movements controlled from a position within the hazard zone, e.g. during setup Prevention of unexpected start-up Manual operator intervention in hazard zones Escape and rescue of trapped persons Separation of rollers Isolation andIn this application scenario, they are always engineered as make-contact elements; Design in accordance with GS-ET-22E provides safety com- the safety function is however dependent upon reliable parable to that of a well-tried component. opening of the make contact following actuation (com- parable with the basic safety principle of de-energization Two-position enabling switches implement only the (closed-circuit principle) to EN ISO 13849-2, Table D.1). The “releasing” safety function, and are not therefore con- same analysis applies here as for the “releasing” function tained in the IEC 60947-5-8 product standard. Where they of a two-position enabling switch. Here too, particular satisfy the GS-ET-22E test principles, the same evaluation attention must be paid to overdimensioning of the electri- applies as in Table D.7 for make contacts of the three- cal contacts with respect to the load. position enabling switches: single-channel in Category 1 Table D.8: Modelling of pushbuttons in the conceptual schematic diagram and in the safety-related block diagram, with Category and PL assignment Conceptual schematic circiut diagram S1 S1 S1 S1 S1.1 S1.2 S1.1 S1.2 Condition Pushbuttons to Pushbuttons to two-stage enabling two-stage enabling EN 60947-5-1 EN 60947-5-1 button to GS-ET-22E button to GS-ET-22E Safety- related S1.1 block S1 S1.1 S1 diagram (or S1.2) S1.2 Modelling Block S1 Block S1.1 or S1.2 Block S1 Blocks S1.1 and S1.2 B = 100,000 per block B = 100,000 per block 10D 10D cycles [S] or B = 100,000 cycles [S] or cycles [S] or B = 100,000 cycles [S] or 10D 10D manufacturer‘s data [M] manufacturer‘s data [M] manufacturer‘s data [M] manufacturer‘s data [M] Category Category B Category B Category 1 Category 3 and PL max. PL b max. PL b max. PL c max. PL d For inching mode, Type C standards for machines often advisable for consideration to be given tothe specific require an emergency-stop device in the vicinity of the supplementary requirements for inching mode stated in a pushbutton. Should the make contact fail to open fol- Type C standard when the PL is set. r lowing release of the pushbutton/inching button, the hazardous movement can be halted by actuation of the Prevention of unintended start-up must also be con- emergency-stop device. In addition, inching mode is often sidered: this leads to the need for control devices to permitted only for a limited distance or duration, and/or EN 60947-5-1 to be used, even for the two PL b variants with the SLS safety function (safely limited speed) activa- in Table D.8, for example in order to exclude the short- ted. These measures cannot be quantified during determi- circuiting of adjacent contacts that are isolated from each ning of the PL (for example by means of SISTEMA), since as per Table D.8 of EN ISO 13849-2. they are dependent upon intentional action. It is therefore 280 Annex D For higher risks (PL c or d), control devices to IEC 60947- enclosure). Generally, base failure rates are stated in the 5-1 are not sufficient, since they satisfy only Category B first instance for reference conditions (e.g. for a compo- owing to their potential failure to open. “Safe” pushbut- nent ambient temperature of 40 °C and nominal load). tons, such as two-stage enabling buttons to GS-ET-22E, Where the actual conditions of use differ, these rates are a suitable alternative. Versions of these pushbuttons can be corrected by means of adjustment factors. Tables with one make contact are suitable for use up to PL c, two- C.2 to C.7 of the standard even list values taken from the channel versions up to PL d. SN 29500 database for certain typical electronic compo- nents.In the third edition of the standard however, the D.2.6 MTTF of electronic control components columns present in the previous version, in which a safety D margin of 10 (worst case) was implied, have been deleted. As already mentioned, declaration of the failure rates Provided the data sources are applied correctly, an additi- λ and λ , for example in the form of FIT values (failures onal safety factor is not generally required. Adjustment to D in time, i.e. failures in 109 component hours), has long stresses outside the reference conditions is not explicitly been normal practice for electronic components. It is required by the standard, and should be applied with a therefore very likely that reliability information can be sense of proportion in the interests of simplicity. obtained from the manufacturer. These data may possibly have to be converted to MTTF values, for example with D.3 Integration of components and equip- D the aid of the simplifying assumption that only 50% of ment that have already been certified all failures are dangerous. If manufacturers' data are not available, reference can be made to a number of known Manufacturers are increasingly stating an MTTF for their D datab ases. The following are cited by way of example in components on the data sheet. For components intended EN ISO 13849-1: for use as subsystems in an SRP/CS, the manufacturer states a PL to EN ISO 13849-1 or an SIL to IEC 61508, • Siemens Standard SN 29500, Ausfallraten Bauele- IEC 62061 or IEC 61800-5-2, combined with statement mente, Erwartungswerte, published by: Siemens of an average probability of dangerous failure per hour AG, Corporate Technology, Technology & Innovation PFH (PFH to IEC 61508). Should such components be D Management, Munich, Germany 2004-2014 (updated at employed in one channel of the SRP/CS only,the stated irregular intervals; order from michaela.pabst@ probability of failure per hour (PFH ) may be considered as D siemens.com or thomas.haizmann@siemens.com) a substitute for the rate of dangerous failure (see formula • IEC/TR 62380, Reliability data handbook – Universal D.6). Internal component characteristics such as redun- model for reliability prediction of electronics compo- dancy and self-diagnostics are already considered in this nents, PCBs and equipment. Published by: International case. More detailed information on this aspect can be Electrotechnical Commission (IEC), Geneva, Switzerland found in Chapter 2 of SISTEMA Cookbook 4 [9]. 2004 • Handbook of 217Plus Reliability Prediction Models, 1 1 (“Black-Box” components with MTTF = ≈ (D.6) Quanterion Solutions Incorporated, Utica, New York, D λ PFH PFH within one channel) D D D 2015, www.quanterion.com (further development of MIL-HDBK-217F) D.4 Parts count method • Telcordia SR-332, Reliability Prediction Procedure for Electronic Equipment, Issue 4, March 2016, telecom- Once the MTTF values of all safety-related components D info.telcordia.com are known, the MTTF of each block must first be calcula- D • EPRD-2014, Electronic Parts Reliability Data (RAC- ted from them. This step can be performed in close detail STD-6100), Quanterion Solutions Incorporated, Utica, by an FMEA (failure mode and effects analysis, Annex B); New York, 2015, www.quanterion.com ideally, however, the different failure modes of each • NPRD-2016, Nonelectronic Parts Reliability Data (RAC- safety-related component and their effect upon the block STD-6200), Quanterion Solutions Incorporated, Utica, must be analysed for this purpose. In consideration of New York, 2015, www.quanterion.com the effort, this approach is therefore generally worthwhile • British Handbook for Reliability Data for Components only for components with a high failure rate, i.e. a low used in Telecommunication Systems, British Telecom MTTF value. An alternative that can be performed quickly D (HRD5, last issue) and yields values that onaverage are not appreciably • Chinese Military Standard, GJB/z 299B & 299C poorer is the parts count method stated in EN ISO 13849, Part 1. Essentially, this method is a summation with two In addition to these collections of data, a number of soft- chief assumptions: ware tools are available on the market that provide auto- mated access to these or other databases. In the majority • Irrespective of the failure mode of a component and its of databases, electronic components are catalogued by effects upon the block, all failures are divided into two component type and other criteria (e.g. design, material, halves, safe and dangerous. This means that half of the 281 Annex D ⎛ ⎞ failure rate λ of a component contributes to the dange- ⎜ ⎟ rous failure rate λ of the associated block. If the propor- MTTF = 2⎜ MTTF +MTTF − 1 ⎟ (D.8) D D 3⎜ DC1 DC2 1 1 ⎟ tion of dangerous failures, λ , within the failure rate as a ⎜ + ⎟ whole has already been dete D rmined for the component, ⎝ MTTF DC1 MTTF DC2 ⎠ the same λ value is also allowed for the block. D The average MTTF per channel is thus produced from the D • The dangerous failure rate λ of the block is then formed MTTF values of the two redundant channels C1 and C2 by D D by summation of the λ contributions of all N safety- means of an averaging formula (this formula can be deri- D related components present in the block concerned (the ved mathematically by calculation of the MTTF value for a D contributions of identical components can simply be two-channel system without diagnostics but with known grouped): MTTF values of both channels – MTTF and MTTF [5]).D DC1 DC2 This completes the successive grouping of the MTTF λ D = 1 2 ∑ N λ i or λ D =∑ N λ Di (D.7) values of all components involved in the control sys D tem. i=1 i=1 The result is a value for the typical reliability of the com- ponents present in the control system, without conside- Since, as described above, the standard assumes con- ration of the redundancy, diagnostics or CCF (common stant failure rates, the λ failure rates can be converted cause failures, cf. Annex F). Given that the MTTF is already D D to MTTF values simply by formation of the reciprocal. capped to 100 years (2,500 years in the case of Category D Based upon this relationship, the MTTF value of a block 4) for each channel involved, assignment of the MTTF D D can easily be derived from the MTTF values of its com- values to one of the three classes, “low”, “medium” or D ponents. An example of application of the parts count “high”, is expedient only after symmetrization. The sym- method can be found in Chapter 6. metrized value is substituted in the numerical calculation of the PL as a parameter in addition to the Category, the D.5 Series arrangement of blocks in a average diagnostic coverage and the measures against channel and capping of the MTTF common cause failure. Depending upon the Category to D be attained, a minimum MTTF value of three years (for D If MTTF values or λ failure rates are available for each Category B, 2 and 3) or 30 years (for Category 1 and 4) is D D block, the MTTF for each channel can also be calculated also required. D in accordance with formula (D.7) by summation of the fail- ure ratesof all blocks involved in a channel. It is assumed References in this case that the dangerous failure of any block in the chain of blocks constituting a channel is also to be treated [1] Birolini, A.: Qualität und Zuverlässigkeit technischer as a dangerous failure of the channel. Since under certain Systeme: Theorie, Praxis, Management. 3rd edition. circumstances however, downstream blocks are capable Springer, Berlin, Germany 1991 of detecting a dangerous failure of upstream blocks, this assumption constitutes an estimation erring on the safe [2] Bork, T.; Schaefer, M.: Aus Aktivität wird Vor- side. The capping rule of the standard takes effect in this sicht – Sinn und Unsinn der Quantifizierung. phase of determining the MTTF : with the exception of O + P Ölhydraulik und Pneumatik 51 (2007) No 3, D Category 4, each MTTF of a channel that mathematically pp. 78-85. www.dguv.de/medien/ifa/de/pub/grl/ D exceeds 100 years is routinely reduced to the maximum pdf/2007_016.pdf value of 100 years. In Category 4, the cap is 2,500 years. The purpose of this rule is to prevent the component reli- [3] Schuster, U.: Untersuchung des Alterungsprozesses abilities from being overstated in comparison with the von hydraulischen Ventilen. BGIA-Report 6/2004. other dimensions relevant to the PL, such as the architec- Published by: Hauptverband der gewerblichen ture, tests and common cause failures. Berufsgenossenschaften (HVBG), Sankt Augustin, Germany 2004. www.dguv.de/ifa, Webcode: d6362 D.6 Symmetrization of multiple channels [4] Weibull, W.: A statistical distribution function of wide As soon as a control system involves two channels (as applicability. J. Appl. Mech. 18 (1951), pp. 292-297 is generally the case for Categories 3 and 4) exhibiting different MTTF values, the question arises as to which of [5] IEC 60947-4-1: Low-voltage switchgear and control- D the MTTF values for each channel is to be used for deter- gear– Part 4-1: Contactors and motor-starters – Elec- D mining the PL with the aid of the bar chart. For this issue, tromechanical contactors and motor-starters (2009) too, EN ISO 13849-1 has the answer in the form of a simple + A1 (2012). formula: 282 Annex D [6] DGUV Information 203-079: Auswahl und Anbrin- [9] SISTEMA Cookbook 4: When the designated gung von Verriegelungseinrichtungen. Published by: architectures don't match. Published by: Deutsche Deutsche Gesetzliche Unfallversicherung (DGUV), Gesetzliche Unfallversicherung e.V. (DGUV), Berlin, Berlin, Germany. August 2014 – updated edition Germany 2015. www.dguv.de/ifa, Webcode: e109249 December 2015. http://publikationen.dguv.de/ dguv/udt_dguv_main.aspx?FDOCUID=26231 [10] Goble, W. M.: Control systems safety evaluation and reliability. 3rd ed. Published by: The International [7] Principles of testing and certification for interlocking Society of Automation (ISA), Research Triangle Park, devices with solenoid guard-locking, Principles of North Carolina 2010, www.isa.org testing GS-ET-19E. Published by: DGUV Test, Prüf- und Zertifizierungsstelle Elektrotechnik, May 2015. www.bgetem.de, Webcode: 12700341 [8] Principles of testing and certification for electro- mechanical enabling switches and enabling devices with and without start-up controllers, Principles of testing GS-ET-22E. Published by: DGUV Test, Prüf- und Zertifizierungsstelle Elek trotechnik, July 2016. www.bgetem.de, Webcode: 12700341 283 284 Annex E: Determining of the diagnostic coverage (DC) Figure E.1: Changes with respect to the second edition Illustration of the diagnostic coverage (BGIA Report 2/2008e): ∑ λ DU • Reference inserted to possible reduction of the DC by DD DC = cascading, e.g. of electromechanical position switches DD S ∑(λ +λ ) • Two DC measures deleted from Table E.2: redundant DD DU shut-off path without monitoring of the actuator, and redundant shut-off path with monitoring of one of the actuators by either logic or the test equipment may also be detectable or undetectable; the distinction • Figure E.3 amended is irrelevant, however, since the safe state isassumed in • Conditions amended for the simplified method in both cases. Category 2 (testing upon demand as an alternative to testing 100 times as frequently as demand; test chan- The diagnostic coverage (DC) is determined by the pro- nel at least half as reliable as the functional channel, portion of detectable dangerous failures (DD) among all instead of MTTF ≥ 0.5 · MTTF ) dangerous failures (D), and is generally stated as a per- D,L D,TE • Examples inserted from the standard concerning fault centage. For calculation of the DC, for example in conjunc- detection in the process tion with an FMEA (failure mode and effects analysis, see Annex B), the ratio is calculated of the totals of the failure rates λ and λ of the unit under consideration. The DC is DD D The diagnostic coverage DC is a measure of the effec- seen here to be a value relating to the tested unit (e.g. the tiveness of a control system's self-test and monitoring block) and not to the test equipment. In order to simplify measures. It may relate to individual components, blocks, calculation of the DC, EN ISO 13849-1 offers an alternative or entire subsystems (DC ). The precise definition of the solution to the FMEA: it proposes DC key values for typi- avg DC is based upon the division of failures into three groups cal diagnostics measures, the attainment of which may (see Figure E.1): be assumed when the relevant measure is implemented correctly. In this way, evaluation from tables of the dia- • Safe (S) failures: these failures automatically result in gnostics measures implemented per unit is sufficient. a safe state being assumed that does not give rise to A similar procedure is frequently used by test bodies as any hazards (example: a contactor remainingopen or standard and economic practice. a valve remaining closed, resulting in interruption of energy and consequently stopping of potentially hazar- Since the proportion of dangerous undetectable failures dous movements). (i.e. 1 – DC) is the relevant value for the probability of failure for evaluation of the implemented test and moni- • Dangerous detectable (DD) failures: these potentially toring measures, selection of the key values (60, 90 and dangerous failures are detected by test or monitoring 99%) for formation of the four DC quality stages (Table E.1) measures and transferred to a safe state (example: fail- is self-explanatory. ure of a contactor to open or of a valve to close, which is detected by a readback contact or position monitor, and Table E.1: handled safely). The four levels of diagnostic coverage in accordance with the simplified approach of EN ISO 13849-1 • Dangerous undetectable (DU) failures: these potentially dangerous failures are not detected (example: undetec- DC (level of diagnostic coverage) ted failure of a contactor to open or of a valve to close, Description Range as a result of which a demand for a safe torque off does None DC < 60% not result in stopping of a hazardous movement). Low 60% ≤ DC < 90% Medium 90% ≤ DC < 99% On multi-channel systems, the term “dangerous failure” High 99% ≤ DC is used with regard to a single channel, although a dange- rous system failure need not necessarily yet have occur- red. The failures “DD” and “DU” can be combined to form the group of dangerous failures (D). The safe failures 285 Annex E A fundamental distinction must be drawn between the Table E.2 shows typical test and monitoring measures for DC of an individual test for a certain component or block, components (usually elements or blocks), andCe texte met en évi- la relación de la norma con los requisitos básicos de dence le lien entre la norme et les exigences essentielles seguridad de la directiva de maquinaria y se presentan de sécurité de la directive Machines, et présente des los posibles procedimientos de estimación del riesgo. procédures possibles permettant d’évaluer les risques. Sobre la base de estas informaciones, el informe permite Sur la base de ces informations, le rapport permet de seleccionar el nivel de prestaciones requerido (required sélectionner le niveau de performance PL nécessaire performance level PL) para las funciones de seguridad r r pour les fonctions relatives à la sécurité des systèmes de los sistemas de mando. Se explica detalladamente de commande. Il explique aussi en détail la manière de cómo de determinar el nivel de prestaciones PL que se ha déterminer le niveau de performance PL effectivement alcanzado realmente. Se tratan en detalle los requisitos atteint. Le rapport traite également en détail des exigen- para lograr el nivel de prestaciones en cuestión y sus ces à satisfaire pour atteindre le niveau de performance categorías correspondientes, la fiabilidad de los compo- donné et ses catégories correspondantes, de la fiabilité nentes, los grados de cobertura del diagnóstico, la seguri- des composants, des taux de couverture de diagnostic, dad del software y las medidas contra fallos sistemáticos de la sécurité des logiciels et des mesures à prendre con- así como los errores de causa común. La oferta se com- tre les défaillances systématiques, ainsi que contre les pleta con informaciones de trasfondo para implementar erreurs de cause commune. Cette offre est complétée par los requisitos en la práctica de la ingeniería de control. des informations générales concernant la mise en œuvre Numerosos ejemplos de circuitos que abarcan hasta el des exigences dans la pratique de laenergy dissipation function Opening of a hydraulic valve for pressure release Control modes and operating mode selection Activation of safety functions by an operating mode selector switch Function for stopping in an emergency Response to actuation of an emergency-stop device with STO or SS1 (Table 5.2) 29 5 Safety functions and their contribution to risk reduction Table 5.2: Safety functions described in IEC 61800-5-2 (2016 edition) [20] Abbreviation Description Function STO Safe torque off Motor not receiving energy capable of generating rotary movement; stop category 0 to EN 60204-1 SS1-r Safe stop 1 Motor decelerating; monitoring of deceleration ramp and STO following SS1-t standstill (SS1-r), or STO following a timeout (SS1-t); stop category 1 to EN 60204-1 SS2-r Safe stop 2 Motor decelerating; monitoring of deceleration ramp and SOS following SS2-t standstill (SS2-r), or SOS following a timeout (SS2-t); stop category 2 to EN 60204-1 SOS Safe operating stop Motor is stationary and resisting external forces SLA Safely-limited acceleration Violation of an acceleration and/or deceleration limit value is prevented. SLS Safely-limited speed Exceeding of the speed limit value is prevented. SLT Safely-limited torque Violation of a torque/force limit value is prevented. SLP Safely-limited position Exceeding of a position limit value is prevented. SLI Safely-limited increment The motor is moved a specified incremental distance, after which it stops. SDI Safe direction The motor is prevented from running in the undesired direction. SMT Safe motor temperature Exceeding of a motor temperature limit value is prevented. SBC Safe brake control Safe actuation of an external brake. SCA Safe cam A safe output signal is generated as long as the motor position remains within a specified range. SSM Safe speed monitor A safe output signal is generated as long as the motor speed remains below a specified value. SAR Safe acceleration range The accelerationevalua- and the average diagnostic coverage DC for the entire tion of their DC to EN ISO 13849-1. Different measures are avg subsystem under analysis of a safety-related control sys- usual for each function (I, L, O, i.e. input, logic, output), tem (SRP/CS). The formation of groups by means of the Category and technology. Their evaluation may vary as key values is applied here both for qualification of the a function of the design or external factors, such as the individual tests, and for definition of the DC . Since DC application in which the control system is operated. In avg avg is one of the input variables for the simplified bar-chart some applications, indirect monitoring by displacement method for quantification of the probability of failure, transducers or position switches on the actuators rather the calculated DC value is rounded down to the next than on the control system elements may for example not avg lowest of the four key values (0, 60, 90 and 99%) from provide any indication of whether the safety function can Table E.1, and thereby placed in one of the four DC classes still be executed independently by each of two redundant (None, Low, Medium and High). For example, a DC value control channels. In general, evaluation as a numerical DC avg of 80% is reduced in the simplified approach to a value value makes no distinction between automatic tests (e.g. of 60% (in contrast to the procedure in the IFA SISTEMA program routines that are performed regularly) or delibe- software utility, which employs intermediate DC values rate tests (e.g. tests initiated manually by the operator at avg in its default setting; see Annex H). The DC of individual regular intervals); refer here also to subclause 6.2.14. tests will first be discussed below, followed bycalculation of the DC . avg Table E.2: DC key values for typical test and monitoring measures at component and block level, to EN ISO 13849-1 Measure Primarily relevant for DC (%) Description of measure I L O Cyclic test stimulus by dynamic X 90 Periodic generation of a signal change with change monitoring of the results Plausibility check/readback/ (cross-)monitoring • Without dynamic test X X 0 to 99 The attained DC value depends on how often a signal change is done by the application • With dynamic test, X X 90 without high quality fault detection • With dynamic test, X X 99 with high quality fault detection Indirect monitoring X X X 90 to 99 The attained DC value depends on the application Direct monitoring X X X 99 Fault detection by the process X X X 0 to 991 The attained DC value depends on the application; this measure alone is not suf- ficient for the required Performance Level e2 Monitoring some characteristics X 60 286 Annex E Which unit performs a test is in principle also irrelevant, redundant functional channels executing the safety func- for example in the case of self-tests. Only where appro- tion. The appropriate DC level depends on the overlap priate independence is assured (single-fault tolerance, of the commonly used resources (logic, inputs/outputs resistance to common cause failures) between the testing etc.). E.g. when all faults of a rotary encoder on a printing and tested units, however, is a test actually effective. It machine lead to highly visible interruption of the printing is also important that the safe state is actually assumed process, the DC for this sensor used to monitor a safely following detection of a dangerous failure. If, for example, limited speed may be estimated as 90% up to 99%.” Forcontact welding on a main contactor is detected, but no PL = e, this measure is not sufficient on its own (see Table r means exist for timely stopping of a hazardous move- E.2), and produces a red warning message when SISTEMA ment, the detection is useless and must be rated with a is used. Where adequately justified however, for example DC of 0%. by means of further DC measures acting upon the same block, or when the complementary block of the redundant With regard to the DC measure of “fault detection by channel implements a different DC measure with a DC at the process”, the third edition of the standard provides least as great as the assumed DC provided by the process, information in the form of examples: “The DC measure this measure may still be included in the analysis. In ‘fault detection by the process’ may only be applied if the SISTEMA, this can be achieved by direct input of the DC safety-related component is involved in the production with manual selection of the percentage step, accompa- process, e.g. a standard PLC or standard sensors are nied by documentation of the justification. used for workpiece processing and as part of one or two Typical realisation in different technologies Mechanics Pneumatics Hydraulics Electrical systems (Programmable) electronics See description of measure Manual initiation of the test function Comparision of inputs or outputs without detection of short circuits Position monitoring of the valving Cross monitoring of Cross monitoring of signals and inter- element, value of DC depends inputs or outputs with mediate results with detection of short on concrete realisation detection of short circuits circuits and static faults and temporal and and static faults, e.g. logical program sequence monitoring; using safety modules dynamic cross monitoring of indepen- dently attained position ofvelocity information Position measuring Position measuring systems or Position measuring systems or limit switches at the actuators instead systems or limit limit switches at the actuators of the control elements switches at the actu- instead of the control elements; ators instead of the monitoring of valves by pressure control elements switches Position monitoring Position monitoring directly at the Position monitoring by Signal monitoring by readback e.g. using directly at the valving element over the whole mechanically linked read- optocouplers control element stroke back contacts (non-equi- valent break contacts) Failure of the process control, becoming obvious through malfunction, damage of workpiece or parts of the machine, interrupts or delay of the functional process, without producing a hazard immediately Monitoring of response time, range of analogue signals Monitoring of response time, range of analogue systems (e.g. electrical resistance, capacitance) 287 Annex E Measure Primarily relevant for DC (%) Description of measure I L O Program sequence monitoring • Simple temporal X 60 Time monitoring • Temporal and logical X 90 Start-up self-tests X (X) 90 To detect latent faults, DC depends on the testing technique Checking the monitoring device X 90 Checking the monitoring device reaction capability by the main channel at start-up or whenever the safety function is demanded or whenever an external signal demands it, through an input facility Dynamic principle X 99 All components of the logic are required to change the state ON-OFF-ON when the safety function is demanded Test of memory and CPU • Invariable memory: X 90 signature of one word (8 bit) • Invariable memory: X 99 signature of double word (16 bit) • Variable memory: X 60 RAM-test by use of redundant date e.g. flags, markers, constants, timers and cross comparison of these data • Variable memory: X 60 check for readability and writeability of used data memory cells • Variable memory: X 99 RAM monitoring with modified Hamming code or RAM self-test (e.g. “galpat” or “Abraham”) • Processing unit: X 60 to 90 self-test by software • Processing unit: X 90 to 99 coded processing Redundant shut-off path • With monitoring of the actuators X 99 by logic or test equipment 1 For example to be determined by FMEA calculating the ratio of detected dangerous failures to all dangerous failures 2 PL e normally requires two channels. Therefore as a minimum the complementary block of the redundant channel should implement a different DC measure, with a DC value at least as high as the assumed DC by the process 288 Annex E Typical realisation in different technologies Mechanics Pneumatics Hydraulics Electrical systems (Programmable) electronics not relevant Timer as watchdog, where trigger points are within the program of the logic not relevant By the watchdog, where the test equipment does plausability checks of the behaviour of the logic Detection of e.g. welded Detection of latent faults in program- and contacts by triggering data memories, input/output ports, and readback interfaces Checking the watchdog reaction capa bility Interlocking Interlocking circuits circuits implemented by relays implemented by pneumatics not relevant see description of measure not relevant see description of measure not relevant see description of measure not relevant see description of measure not relevant see description of measure not relevant see description of measure not relevant see description of measure 289 Annex E The following requirement applies, in addition to the test electronics with separate tests for the memory and the and monitoring measures stated in Table E.2: should a DC processing unit (see Figure E.3). The block DC is then at of “medium” or “high” be required for the logic, at least least as goodas the poorest individual DC. (Whether the one measure with at least 60% must be selected in each occurrence of units without testing is permissible must case for variant memory, invariant memory and proces- be determined with reference to the relevant Category sing unit. Measures other than those stated in Table E.2 definition, see subclauses 6.2.5 to 6.2.7; the DC for the may also be employed. logic is subject to further requirements, see above.) A better and more precise value for the block DC can be Further information on determining the DC for typical test attained by weighting the individual DC value with the measures can be found for example in Tables A.2 to A.14 associated failure rate λ (= 1/MTTF ). Formula (E.1) can D D of IEC 61508-2 [1]. These tables contain the key values of also be used for this purpose as an averaging formula at 60, 90 and 99% as the maximum DC to be attained by the block level. Depending upon the accuracy, such an ana- relevant measure. With suitable unrestricted implemen- lysis also ultimately leads to an FMEA, however. tation of the measures stated, this maximum value can however generally be employed for estimation. Annex E of • Where components are cascaded, such as electro- EN ISO 13849-2 [2] describes a comprehensive example mechanical position switches connected to a safety of validation of the failure behaviour and the diagnostic module by a common conductor, it may lead to a reduc- measures on an automatic assembly machine. tion in the DC. An electrically two-channel arrangement enables certain faults of a position switch to be detec- Following determining of the DC for individual test meas- ted by the safety module from logically implausible ures and prior to calculation of the DC , the DC value persignals from the two electrical contacts. Starting of the avg block must be determined. An individual test measure machine for example is prevented following closing of generally acts upon an entire block (e.g. cross monito- the door on which the switch is defective. If, in addition ring): the discrete value can then simply be adopted for to the door on which the position switch has failed the block. Further permutations exist, however: dangerously, a further door is opened, fault detection is (depending upon the sequence) not possible. Casca- • If a block is monitored by a number of individual meas- ding thus leads to a reduction in the DC; this is depen- ures (see Figure E.2), the block DC is at least as good as dent upon factors including the number of guard doors the best individual DC. Should the measures mutually and the frequency with which they are opened. Details complement each other, a higher block DC may even be of such constellations and of estimation of the DC for possible; this DC however must then be determined by them can be found in ISO/TR 24119 [3]. Subclause 6.1 of analysis of the failures covered by each test, similar to this standard excludes PL e for cascading. If, as shown an FMEA. in Example 28 (see subclause 8.2.28), an additional contact is employed for fault detection for each position • A block consists of several units, each of which is tes- switch, fault detection is also not restricted for casca- ted by different measures, for example programmable ding, and PL e is attainable. Test 1, DC = 60% Test 1, DC = 60% Test 2, Figure E.2: DC = 60% Test 2, DC = 60% Where several tests act upon the same block, their overlap may lead to ahigher overall DC (left), or it may not (right); the hatched areas represent the proportion of the detected dangerous failures; the „60% + 60% 90%“ „60% + 60% 60%“ square overall area represents all dangerous failures (100%) 290 Annex E 100 80 Untested Test for DC 60 unit 2 in DC = 99% Test for % 40 unit 1 DC = 60% 20 0 λ λ D D (Unit 1) (Unit 2 ) Figure E.3: Failure rate λ = 1/MTTF Where the DC is averaged for several units D D of one block, weighting of the individual DC values of 60% and 99% with λ leads to D „60% + 99% 90%“ a different value (90%) than for example the unweighted arithmetic mean (79.5%) The average DC for an SRP/CS (at subsystem level) is • For blocks with fault exclusion for the dangerous failure termed DC and is calculated from the DC values for all mode (an imperceptibly low failure rate λ or infinitely avg D blocks in functional channels. In contrast to the MTTF high MTTF ), the corresponding value is omitted from D D per channel, no distinction is drawn between the control the numerator and the denominator. channels; rather, an overall value is determined directly. The averaging formula weights the individual DC values • All blocks that execute safety functions in the various with the associated failure rate λ (= 1/MTTF ) of each functional channels are considered. Blocks that have D D block. This ensures that blocks with a high failure rate, i.e. the function of testing only are not considered. For a low MTTF , are given greater consideration than blocks Category 2 structures, this means that blocks of the test D the dangerous failure of which is comparatively unlikely. channel (“TE” and “OTE”) arenot counted. In Category 3 The averaging formula is as follows: and 4, the average value is formed directly across both channels; symmetrization is not performed separately DC 1 + DC 2 + … + DC N per channel as it is for the MTTF D . MTTF MTTF MTTF D1 D2 DN DC = (E.1) For a detailed analysis of the influence of the tests upon avg 1 1 1 the probability of failure of the overall system, further + + … + MTTF MTTF MTTF variables must be considered in addition to the DC. D1 D2 DN These include, in addition to the test rate, the failure The summation extends over all relevant blocks with the rate of the test equipment itself, for example. In multi- following provision: channel systems however, the frequency of a test is of lesser consequence, since the relevant intervals are • For blocks with no DC, a DC of 0% is substituted. These generally considerably smaller than the MTTF values of D blocks thus contribute only to the denominator of the the channels. Consequently, several channels must fail fraction. Whether the absence of diagnostics for blocks before the impairment of a test becomes relevant to the is consistent with the requirements of the Category con- system, which is very unlikely as long as the test cycles cerned must be determined on a case-by-case basis. continue to be much smaller than the MTTF of a channel. D Category 2 imposes the generic requirement of “check Subclause 6.2.14 provides more comprehensive expla- of the safety function(s)”, Category 3 fault detection nations concerning the required test rate. In Category 2 “whenever reasonably practicable”, Category 4 also structures however, failure of the test equipment turns a requires detection of an individual fault and only “if this single-channeltested system into a single-channel untes- detection is not possible” that the safety function is ted system. The next dangerous failure in the functional also to be performed in the event of an accumulation of channel can then no longer be detected and leads directly undetected faults. to performance of the safety function no longer being possible. In addition to requirements for the DC, further 291 Annex E References conditions therefore apply for the simplified assessment of the probability of failure of Category 2 systems: [1] IEC 61508-2: Functional safety of electrical/electro- • All test rates must be at least 100 times (in exceptional nic/programmable electronic safety-related systems cases, at least 25 times) greater than the demand rate – Part 2: Requirements for electrical/electronic/pro- upon the safety function; alternatively, in the event of grammable electronic safety-related systems (2010) testing immediately upon demand of the safety func- tion, testing should be performed so quickly that the [2] EN ISO 13849-2: Safety of machinery – Safety-related safe state is reached before a hazard arises. This is to parts of control systems – Part 2: Validation (2012) ensure that a failure can be detected by a test before a demand of the safety function cannot be met (see also [3] ISO/TR 24119: Safety of machinery – Evaluation Annex G). of fault masking serial connection of interlocking devices associated with guards with potential free • The MTTF of the test channel (TE and OTE) must be contacts (11/15) D at least half as high as the MTTF of the functional D channel (I, L and O). This assumption ensures that the probability of failure of the test channel is not unac- ceptably high. Should this condition be violated (even after capping of the MTTF of the functional channel to D 100 years), it isof the motor is kept within specified limit values. SSR Safe speed range The speed of the motor is kept within specified limit values. STR Safe torque range The torque of the motor (the force in the case of linear motors) is kept within specified limit values. The manner in which a safety function is executed may • Specification of safety-related parameters, such as the take very different forms. For this reason, certain characte- maximum permissible speed ristics must be observed at selection, and specified on a case-by-case basis. These include: • Required Performance Level PL r • Use in different operating modes (e.g. automatic mode, Detailed information on the definition of safety functions setup mode, troubleshooting) can be found in SISTEMA Cookbook 6, “Definition of safety functions: what is important?” [23]. • Use of different safety functions according to whether the power supply is available or has failed (see also 5.3.2 Examples in which the definition of the subclause 4.3 of [22]) safety function has an influence upon subsequent calculation of the PFH D • Response(s) to tripping of the safety function • Response(s) to detection of a fault in the safety function Later chapters will show how the average probability of a dangerous failure per hour (PFH ) can be calculated for D • Response time a safety function. The foundation for this is however laid at this stage, with definition of the safety function. By its • Frequency of actuation nature, the technical implementation of a safety func- tion determines the type and scale of the components • Priority, in cases where several safety functions may be re quired for it. The definition of the safety function thus active simultaneously has a considerable influence upon determination of the 30 5 Safety functions and their contribution to riskof course permissible to calculate the probability of failure using an MTTF of the functional D channel that is reduced mathematically to double the MTTF of the implemented test channel. D 292 Annex F: Common cause failure (CCF) Changes with respect to the second edition purpose by which β values of between 0.5 and 10% can (BGIA Report 2/2008e): be determined. Points are assigned in a long list of meas- ures sorted according to different causes; when certain Text of the descriptions of the measures brought into rules are applied, the sum of these points results in an line with the third edition of the standard estimated β value. EN ISO 13849-1 takes up this method, both in simplified form and with adaptation to machine safety. Simplification is based upon technical measures The term common cause failure (CCF) describes the fact that experts have considered particularly useful for the that in a redundant system or a single-channel system avoidance of CCF. This is, however, a compromise that can with separate test channel, several channels may be dis- be justified empirically, but not scientifically: abled by one and the same cause. The desired single-fault tolerance of a redundant structure is thus negated. It is • The list of measures against CCF was focused upon therefore important that this source of faults be elimina- the relevant solutions, primarily technical in nature, in ted as far as possible. The triggers of CCFs may be physical machine safety. in nature, such as overtemperature or strong electromag- netic interference, or systematic, such as defective circuit • A single target value with a maximum of 2% was selec- design or programming errors where identical software is ted instead of several possible β values. The target employed for both channels. value can only be either attained ornot attained. The simplified method to EN ISO 13849-1 for determining A common strategy for quantification of a control system's the Performance Level is based upon an assumed beta susceptibility to CCF is the beta-factor model. This stra- factor of 2%. tegy assumes that a certain proportion of the dangerous failures in one channel share the same cause as dange- • The mathematical rules for the points system were rous failures in the second channel. This concept is illus- summarized in two steps: each measure can only be trated in Figure F.1: the dangerous failure rates for the two either satisfied completely (full number of points) or not channels (shown symbolically as elliptical areas) have a satisfied (zero points); no provision is made for propor- CCF overlap, which is shown by the hatching. The propor- tional numbers of points for measures that are not com- tionality factor between the CCF rate and the dangerous pletely satisfied. If measures (such as diversity, use of failure rate of the single channel λ is normally termed β well-tried components) are satisfied completely only in D (common cause factor or beta factor). individual SRP/CS in the form of subsystems, different packages of measures may act against CCF at subsys- Figure F.1: tem level. The minimum number of 65 points must be Illustration of common cause failure (CCF) by means of the beta- reached for the Categories 2, 3 and 4 in order for use of factor model the simplified method for determining the Performance level to be permissible. A maximum of 100 points can be reached. Channel 1 Channel 2 CCF: Common Cause Failure: λ λ The following points must be observed during evaluation D D the same cause leads to failure of both channels of the measures: • The measures must be evaluatedwith particular consideration for their effectiveness against CCF. For β factor: example, the product standards already require immu- Ratio of CCF rate to failure rate nity to environmental influences and electromagnetic of one channel, interference. Supplementary evaluation must be per- CCF rate = β · λ β·λ D formed of whether these influences have been effec- D tively minimized as sources of common cause failures. It is virtually impossible to calculate the beta factor pre- • The physical counter-measures differ according to the cisely for a specific control system, particularly since this control technology employed: of the environmental should be done at the beginning of the actual design influences, for example, electromagnetic interference is process. IEC 61508-6 [1] employs a points system for this more relevant in the case of electrical control systems, 293 Annex F whereas contamination of the fluid is more relevant in • Assessment/analysis (5 points): a failure mode and the case of fluid control systems. Counter-measures effects analysis has been performed for each part of must therefore be evaluated with consideration for the the SRP/CS, and its results taken into account during technology employed. design for the avoidance of CCF • The tested structure of Category 2 systems constitutes a • Competence/training (5 points): training of designers in special case. In this case, CCF concerns common failure understanding the causes and consequences of CCF of both the functional channel and the test channel. A common cause failure results in the structural benefit • Environmental conditions concerning protection against being negated. The evaluation of the measures must adverse influences upon electrical/electronic and fluid be adjusted accordingly to the particular aspects of the power systems (25 points): Category 2 structure. – Electrical/electronic systems: prevention of • The full number of points may be credited for a measure contaminationand electromagnetic disturbances against common cause failures that cannot occur owing (EMC) in accordance with appropriate standards to the inherent characteristics of the control system. – Fluid power systems: filtration of the pressure The measures against common cause failures and the medium, prevention of dirt intake, drainage of associated numbers of points from EN ISO 13849-1 are as compressed air, for example in compliance with the follows: component manufacturer's requirements for purity of the pressure medium • Separation/segregation (15 points): physical separation between the signal paths, e.g.: On combined fluid power and electrical systems, both aspects should be considered. – Separation in wiring/piping • Environmental conditions with regard to other influen- – Detection of short-circuits and open circuits by ces (10 points): consideration of the requirements for dynamic testing immunity to all relevant environmental conditions, such as temperature, shock, vibration, humidity (for example – Separate shielding for the signal path of each as specified in the relevant standards) channel Reference – Sufficient clearances and creepage distances on printed-circuit boards [1] IEC 61508-6: Functional safety of electrical/elec- tronic/programmable electronic safety-related • Diversity (20 points): different technologies/design or systems – Part 6: Guidelines on the application of physical principles are used. Examples include: IEC 61508-2 and IEC 61508-3 (2010) – One channel electronic or programmable electronic, the other electromechanical hard-wired – Different initiation of the safety function for each channel, for example by means of position, pressure or temperature – Digital and analogue measurement of variables (e.g. distance, pressure or temperature) – Sourcing of components from different manufac- turers • Design/application/experience: protection against overvoltage, overpressure, overcurrent, overtempera- ture, etc. (15 points) and the use of well-tried compo- nents (5 points) 294 Annex G: What is the significance of the bar chart in Figure 5 of EN ISO 13849-1? For a comprehensible diagramto be obtained, certain Changes with respect to the second edition restrictions and simplifications are necessary. Firstly, the (BGIA Report 2/2008e): standard limits the number of designated architectures and therefore also the number of necessary models. • Reference to Note 1 in Annex K of the new standard Secondly, the large number of input parameters has been reduced by intelligent grouping. For this purpose, the • Explanations from subclause 4.5.4 of the standard of values MTTF and DC were introduced, each of which D avg the time aspects during testing brought into line with groups several input parameters. the new standard The MTTF used in the diagram represents a mean time to D • Explanations inserted concerning extension of the failure of each channel in its dangerous failure mode. The mission time beyond 20 years MTTF values of several function blocks are grouped here D to form a single channel MTTF (Chapter 6 and Annex D). D • “Reference” subclause updated All MTTF values are based upon the assumption of con- D stant component failure rates λ , hence MTTF = 1/λ . D D D • Sequence of the images brought into line with the text In a two-channel structure with different MTTF values D between channels, an averaged substitute MTTF value is D employed. Conversely, the DC represents the weighted avg Unlike its predecessor, EN 954-1 [1], EN ISO 13849-1 makes average value of the diagnostic coverage for the entire provision for demonstration of a Performance Level (PL) in system; this value is used for assignment to one of the addition to examination of the Category. The Performance four DC levels (see Table 6.4). avg Level is determined numerically, as shown in Table 6.1 of this report, from the average probability of a dangerous The meaningfulness and permissibilityof this grouping failure per hour (PFH ) of the system (cf. Footnote 4 in within the required quantification accuracy have been D Chapter 3, Page 15). This value must be determined from demonstrated by comprehensive test calculations. The the system structure, the failure rates of the components, same applies to the relationship, permitted in sub- the level of diagnostic coverage provided by automatic clause 4.5.4 of the standard, between the MTTF values D testing, the mission time of the system, and in the case of of the test and functional channels in the Category 2 relevant system structures, the sensitivity of the system to architecture: the MTTF of the test channel must be at D CCF (common cause failure). least half the MTTF of the functional channel. Finally, a D requirement is imposed for redundant structures that Mathematical models are employed for this purpose common cause failures be reduced to an appropriate that take account of the combined effect of the stated level: no more than 2% of the dangerous failures may factors and return the result in the form of the PFH (as have a common cause. This must be demonstrated in D an average value over the mission time). In theory, a each case during application of the standard by means of custom model should be created for each system under a simple estimation method (Annex F). analysis when the standard is applied. For some common structural variants, the “designated architectures” of The Markov models upon which the bar chart in EN ISO EN ISO 13849-1, subclause 6.2, (cf. subclauses 6.2.1 to 13849-1 (and Figure G.1 of this report) is based take 6.2.7 of this report), Markov models have been developed account of operation of the systems under underlying con- at the IFA the numerical results ofwhich are compiled ditions that are realistic for machinery. They assume that in the form of a bar chart in subclause 4.5.4, Figure 5 of the systems: the standard (Figures 6.10 and G.1 of this report). This dispenses with the need for development of a dedicated • Are subject to at least to one demand of the safety func- mathematical model and for complex calculations, pro- tion per year vided the system essentially shares the form of one of the designated architectures, or can be broken down into • Assume the safe “Operating inhibition” state in res- system parts that do so (cf. in this context subclause 6.3 ponse to automatic detection of an internal fault, and and Annex H of EN ISO 13849-1, or subclause 6.4 of this are then generally switched off manually shortly after- report). A basic introduction to the Markov modelling wards (and at the latest after a few hours) technique can be found for example in [2]. 295 Annex G PFH D PL (1/h) 10-4 a 10-5 b 3 · 10-6 c 10-6 d 10-7 e 10-8 Cat. B Cat. 1 Cat. 2 Cat. 2 Cat. 3 Cat. 3 Cat. 4 DC = DC = DC = DC = DC = DC = DC = avg avg avg avg avg avg avg none none low medium low medium high Legend PFH Probability of a dangerous failure per hour D PL Performance Level MTTF of each channel = low Figure G.1: D PFH and Perfor- D mance Level as MTTF of each channel = medium D a function of the Category, DC and MTTF of each channel = high avg D MTTF D • Are repaired or replaced and restored to service fol- quantity indicated on the vertical axis of the bar chart lowing assumption ofthe operating inhibition state, an (cf. Figure G.1). accident or detected dangerous failure Despite consideration being given in principle to Under these underlying conditions, the quantitative tar- demands upon the safety function and to repair, the get value for modelling, the PFH , represents the average absolute values for the demand rate and the repair rate D number per hour of demands upon the safety function (the reciprocal of the repair time) have only a negligibly that are not met owing to failure. Where demands are small influence upon the PFH in this sense. Only for the D made continually upon the safety function (continuous designated architecture for Category 2 must testing at a mode of operation), it indicates the number of dangerous frequency substantially higher than that of the demand system failures per hour. For Category 2, a requirement is of the safety function be made a requirement (alterna- that testing is fully effective. This can be attained by an tively: testing takes place immediately upon demand adequate relationship between the test and demand rate and the times for fault detection and safe response are or by an adequately fast response to a fault (cf. subclause together shorter than the specified system response 6.2.14). Since the PFH determined in this way considers time; cf. EN ISO 13849-1, subclause 4.5.4). The standard D only random failures and not systematic failures and other proposes a test rate that is at least 100 times that of the negative effects, it must be regarded as a theoretical per- demand rate. Even down to a ratio of 25 : 1, however, the formance value that denotes the safety quality of a design PFH increases only by approximately 10%, which can D but does not permit conclusions for example regarding be allowed for by acorrection factor of 1.1 (cf. Note 1 in the frequency of accidents. This PFH is the mathematical Annex K of the standard). This ratio in the rates avoids D an unacceptably high impairment of diagnostics caused 296 Annex G by insuffi ciently frequent performance of the test. For the anticipated from the Markov modelling can then be esti- Categories B, 1, 3 and 4, the influence of the demand rate mated as described in the first case with addition of upon the PFH is negligibly low. The PFH values deter- an allowance. The situation is critical where the D D mined from the diagram for the Categories B, 1, 3 and SRP/CS contains wearing parts or components that 4 therefore apply to any demand rates and any (mean) deteriorate over age; these typically include “chemical” repair times. For values of less than one demand per year, components (e.g. “wet” electrolytic capacitors, batte- the bar chart provides an estimation erring on the safe ries, electrochemical sensors), mechanical components side. For Categories 3 and 4, the PFH values are valid for (such as brakes, clutches), electromechanical compo- D adequately high test frequencies (see explanations in nents (such as switches, relays, contactors), fluid power subclause 6.2.14). components (such as valves), and certain optical com- ponents (such as optocouplers). In this case, the user Should the mission time of an SRP/CS exceed 20 years, of the machine (operating party) is generally unable to the PFH values determined by means of the simplified assess whether all its components are also designed for D method (Annex K of the standard) are generally no longer an extended mission time, or what measures, such as valid. Under certain circumstances, this situation can preventive replacement of individual parts, proof tes- however be addressed within the simplified procedure ting, etc.,must be performed. Extension of the mission with a few improvements. Two possible scenarios exist: time – with addition of the allowance stated above to the PFH – is possible only when manufacturer's infor- D • In the first scenario, the SRP/CS is specified from the mation is available on the measures to be taken when outset for a mission time exceeding 20 years. The influ- the mission time is extended, and only conditional ence of the longer mission time can then be estimated upon these measures being implemented by the user erring on the safe side from the Markov models upon (operating party). which Annex K of the standard is based, as follows: for every five years' extension of the mission time beyond The columns for Category B and 1 in Figure G.1 were cal- 20 years, a further 15% is added to the PFH for Cate- culated by means of a model that considers the demand D gories 2, 3 and 4 (Categories B and 1 require no adjust- of the safety function, and the repair. The PFH values D ment of the PFH ). The simplified method and SISTEMA for these Categories can however be approximated very D can therefore still be used. This is conditional upon well by the simple relationship PFH ≈ λ = 1/MTTF . D D D constant failure rates, irrespective of the mission time. This means simply that the PFH of the single-channel D For parts subject to wear, this means that the parts un tested system (DC = 0) corresponds practically to its avg must be designed for the specified longer mission time dangerous failure rate. T (T ≥ T ), or each part must be replaced preventively M 10D M upon expiration of T . For the other Categories, however,reduction safety-related reliability. This will be explained in the fol- Figure 5.6: lowing examples. Stopping of drives 1 and 3 when the guard door is opened Example 1: Safety function “Stopping when the guard door is Drive 1 opened” Drive 2 When the guard door is opened, a machine operator has access to a danger zone in which five drives control the Position monitoring movements of machine parts. Opening the guard door Logic Drive 3 o f guard door causes all five drives to be brought to a halt as quickly as possible. Drive 4 When the PFH of the safety function is calculated later, D the PFH values of the following blocks2 are therefore Drive 5 D added: • Position monitoring of the guard door, including mecha- Example 2: nical components Safety function “Stopping of the drive when a guard door is opened” • Logic A hazardous movement is safeguarded by a fence with • Drives 1 to 5 five guard doors. Opening any of the doors halts the movement. Since a person will only ever open one of the The calculation may yield a PFH that is no longer ade- guard doors at once, each door constitutes a safety func- D quate for the application, even though it may be that tion in its own right, SF1 to SF5, which is composed of the only drives 1 and 3 initiate hazardous movements at the following blocks: instantaneous location of the operator, and the remaining drives are halted purely “functionally”. In this case, it is • Position monitoring of the guard door x (x = 1, 2, ... 5), recommended that only the movements actually presen- including mechanical components ting a hazard be considered for the purposes of the safety function, and that the safety function be reformulated ina more complex 10D me thod of calculation is required. The essential modelling • In the second case, the SRP/CS was originally designed method is explained below with reference to the example for a mission time of 20 years, but is now to be used of the "designated architecture" for Category 2. This struc- beyond this duration. The deterioration in the PFH ture is shown again in Figure G.2. D Triggering of Readback of test of I test response of O 297 fo foorP noitarepo I L O TE OTE Figure G.2: Designated architecture for Category 2 to EN ISO 13849-1, subclause 6.2.5 Annex G Five function blocks are present, of which the blocks I the left-hand side. Of the 32 failure combinations, those (input), L (logic) and O (output) execute the safety func- in which the system has failed dangerously and undetec- tion proper in a logical series arrangement. Block L tests tably (to itself) are grouped together for simplification of blocks I, O and itself in conjunction with the function the model. This collective state, denoted “System DU” block TE (test equipment). The function block OTE (output (dangerous undetectable), is shown on the right. It can be of TE) is capable of initiating a safe state in the event of attained from several states as a consequence of the fail- failure of the main I-L-O channel. The additional function ure of function blocks. The “Hazardous situation/harm” blocks TE and OTE, which are not directly essential to the state can be seen at the bottom of Figure G.3. This state is function, thus constitute a form of substitute channel attained if and only if a demand is made upon the safety for the fault case. Unlike a “true” second channel, this function from within dangerous previous states (shown substitute channel becomes active only when faults are in grey). Like the “Operating inhibition” state, this state detected in the main channel. is also transitioned to the OK state by repair. Further tran- sition arrows, for example from “OK” to “System DU”, are The state graph in Figure G.3 can be derived from the the result of simultaneous, common cause failure (CCF) of safety-related block diagram in Figure G.2. To this end, all multiple function blocks. It is assumed in 2% of the dan- 25 = 32 failure combinations of the five function blocks gerous failures of either of the function blocks L and TE, are first formed. The state without failure is the OK state the other of the two blocks fails dangerously for the same shown above. It is followed by a series of states in which reason. The same is assumed for the function blocks O only one function block has failed, then by a series in and OTE. which two blocks have failed, and so on. The denotation of the states consists of the names of each failed function All arrows are assigned to transition rates the dimension block followed by “D”, indicating that the block concerned of which is determined by the transition processes con- has failed dangerously (i.e. unfavourably in safety terms). cerned (failures, tests, demands, repairs). Consideration Failures of function blocks cause consequential states to of common cause failures (CCFs) at different points also be reached, indicated here by arrows. States in which the results in a change in the original transition rate. For the system is no longer capable of performing the safety func- purpose of calculation of the bar chart, the worse case is tion are shown in grey. In cases where the failure can be assumed in which the testequipment employed in the detected and a safe response is therefore possible, a tran- system is itself not tested. For this reason, a rate of zero is sition exists to the “Operating inhibition” state shown on assigned to some transitions in Figure G.3. OK I D TE D L D O D OTE D I D I D I D I D TE D L D TE D L D O D OTE D OTE D O D I D I D Figure G.3: TE D L D OTE D O D State graph of the Markov model for the Category 2 designated archi- tecture for determi- ning of the PFH D 298 noitibihni noitarepO UD metsyS Hazardous situation/harm Systems that do test their test equipment are therefore state residence periods that are distributed exponentially, estimated erring on the safe side. For the purpose of sim- even though this holds true, strictly speaking, only for the plified calculation by means of the Markov method, it is constant-rate random failures. Separate considerations assumed that all transition processes are characterized by justify this simplification. Annex G It is assumed that at the beginning of the mission time, Annex K of the standard contains the content of Figure G.1 the probability of the system being in the OK state is 1 in numerical form in Table K.1. Table K.1 can be used to and the probability of all other possible system states is determine the Performance Level more precisely than 0. During the assumed mission time of 20 years, all state is possible by means of the figure; this is particularly probabilities gradually change: beginning at the OK state, useful when the PFH contributions of several cascaded D they are redistributed along the transition arrows. The subsystems require summation. Conversely, the bar chartsum of the state probabilities remains constant at 1. This pro vides, above all, a swift overview of the suitability of also results in a migration over time to the “Hazardous various technical solutions for the PL, and can therefore situation/Harm” state, of which the average value with be used to make a preliminary selection. The information respect to time over the 20-year mission time is represen- in Table K.1 of the standard is also contained in the “Per- ted by the PFH , i.e. the average probability of a dange- formance Level Calculator” (PLC), a convenient card disc D rous failure of the system per hour. available from the IFA that can be used to determine the PL [5]. This PFH value is shown on the vertical axis of the D bar chart for the different “designated architectures” Occasionally, the DC value determined for a system avg in accordance with subclause 6.2 of the standard (cf. may lie only marginally below one of the thresholds “low” subclauses 6.2.3 to 6.2.7 of this report); Categories 2 (60%), “medium” (90%) or “high” (99%). If the simplified and 3 are subdivided further according to the average quantification method in EN ISO 13849-1 is then applied, diagnostic coverage (DC ). The columns are created by purely formal constraints require that the next-lower DC avg avg variation of the MTTF , i.e. the mean time to dangerous level, i.e. “none”, “low” or “medium”, be used. This pro- D failure of the (or a) functional channel, for a combination cedure constitutes an estimation of the system erring on of the architecture (or the associated Markov model) and the safe side. Owing to the small number of graduations the DC . The Markov model in Figure G.3 can for example on the DC scale, however, aminor change to the system avg avg be used to calculate the two columns for the designated that has the effect of causing the DC value to dip just avg Category 2 architecture. (For mathematical reasons, an below one of the thresholds may result in a substantially equivalent substitute model differing from this model was poorer assessment of the system. This can even occur used in practice. This model is not presented here, since when components with high-quality testing (a high DC) its relationship to the block diagram in Figure G.2 is less in a channel are replaced by superior components (with transparent. The substitute model delivers virtually iden- a higher MTTF ) (cf. the DC formula for example in sub- D avg tical results.) The other columns are based upon further clause 6.2.14). The minor improvement in the channel Markov models that were also developed in accordance MTTF is then over-compensated for by the formal down- D with the principles described above for the corresponding grading of the DC to the next lower level, as a result of avg designated architectures. which a poorer (i.e. greater) PFH value is determined. D This effect, which appears paradoxical, is a consequence The PFH intervals were assigned the Performance of the coarse division of the DC scale, i.e. ultimately of D avg Levels a to e on the logarithmic PFH scale in accordance the simplicity of Figure 5 (Table K.1) of the standard (cf. D with Table 6.1. This is shown in Figure G.1, in which an Figure G.1 of this report). additional PFH scale has been added to Figure 5 of D EN ISO 13849-1. This effect can be prevented or ameliorated by use of a graph with a finer scale for the DC values (Figure G.4) avg The PFH intervalfrom 10-6 per hour to 10-5 per hour has in place of Figure G.1. In consideration of the limited D a particular peculiarity: it is mapped to the two adjacent accuracy of DC values (cf. EN ISO 13849-1, Table 6, avg Performance Levels b and c. Division of the logarithmic Note 2), the minimum possible DC values were also avg scale in the middle places the boundary between Perfor- considered for all Categories. The IFA “SISTEMA” software mance Levels b and c at the geometric mean of 10-6 per utility (see Annex H) can be used to determine the PFH . D hour and 10-5 per hour, specifically at √10 ⋅ 10-6 per hour SISTEMA even interpolates between the columns shown ≈ 3 ⋅ 10-6 per hour. The assignment of PFH intervals and in Figure G.4. Generally, a major downgrading of the DC D avg Performance Levels is largely consistent with IEC 61508-1, can thereby be avoided, and a PFH value often obtained D Table 3, and IEC 61508-5, Figure E.2 (see [3; 4]). that is both more precise and superior. 299 Annex G Intermediate DC levels for Categories 2, 3 and 4 PL avg 1,00E-03 a MTTF D 1,00E-04 low b medium 1,00E-05 high c 1,00E-06 d Figure G.4: 1,00E-07 Performance Level e with finer resolu- Columns shown in DIN EN ISO 13849-1 tion of the DC 1,00E-08 avg DC scale (extended 55 60 65 70 75 80 85 90 55 60 65 70 75 80 85 90 95 99 94 96 98 99 avg modification of in % 2 2 C2ate2go2ry 22 2 2 3 3 3 C3ate3go3ry 33 3 3 3 4 C4at. 44 4 Figure 5 from EN ISO 13849-1) References [5] Schaefer, M.; Hauke, M.: Performance Level Cal- culator – PLC. 5th edition. Published by:Institut für [1] EN 954-1: Safety-related parts of control systems. Arbeitsschutz der Deutschen Gesetzlichen Unfall- Part 1: General principles for design (12.96) versicherung (IFA), Sankt Augustin; Zentralverband Elektrotechnik- und Elektronikindustrie (ZVEI) e.V. [2] Goble, W. M.: Control systems safety evaluation and – Fachverband Automation, Frankfurt am Main, reliability. 3rd ed. Published by: The International and Verband Deutscher Maschinen- und Anlagen- Society of Automation (ISA), Research Triangle Park, bau e. V. – VDMA, Frankfurt am Main, Germany 2015. North Carolina 2010 www.dguv.de/ifa, Webcode: e20892 [3] IEC 61508-1: Functional safety of electrical/electro- nic/programmable electronic safety-related systems – Part 1: General requirements (2010) [4] IEC 61508-5: Functional safety of electrical/electro- nic/programmable electronic safety-related systems – Part 5: Examples of methods for the determination of safety integrity levels (2010) 300 Annex H: SISTEMA: the software utility for evaluation of SRP/CS H.1 What is SISTEMA capable of? effects of the changes assessed with little effort. The final results are summarized in a report, which can be printed The SISTEMA software utility (SISTEMA is the German out. acronym for safety of control systems on machines) pro- vides developers and testers of safety-related machine H.2 How is SISTEMA used? controls with comprehensive support in the evaluation of safety in the context of EN ISO 13849-1. The tool, which SISTEMA processes basic elements from a total of six runs on Windows, enables the structure of the SRP/CS hierarchical levels: the project (PR), the safety function to be modelled based upon “designated architectures”, (SF), the subsystem (SB), the channel (CH)/test channel and ultimately permits automated calculation of the reli- (TE), the block (BL) and the element (EL). The relationship ability values at various levels of detail, including that of between them is shown briefly below (Figure H.1). the attained Performance Level (PL) and the probability of failure (PFH ).The user first opens a project, in which the machine or D hazard zone that is to be analysed in greater detail can be Relevant parameters, such as the risk parameters for defined. Safety functions are then assigned to the project. determining the required PÜerformance Level (PL), the The safety functions can be defined and documented, r Category of the SRP/CS, the measures against common and a PL assigned to them. The PL actually attained by r cause failure (CCF) on multi-channel systems, the mean the parameterized SRP/CS is determined automatically time to dangerous failure (MTTF ) and the diagnostic from the subsystems which – in a series arrangement D coverage (DC) of components and blocks, are entered – execute the safety function. Each subsystem is based step by step in input dialogs. Once the required data have upon a “designated architecture” from the standard, as a been entered into SISTEMA, the results are calculated and function of the selected Category. The architecture deter- displayed virtually instantly: each parameter change is mines, among other things, whether the control system reflected immediately on the user interface with its impact is of single-channel, single-channel tested or redundant upon the entire system. Users are for the most part spared design, and whether a special test channel must be consi- time-consuming consultation of tables and calculation dered during evaluation. Each channel can be subdivided using formulae (calculation of the MTTF by means of in turn into any desired number of blocks, for which either D the parts count method, symmetrization of the MTTF for an MTTF value and a DC value are entered directly, or – D D each channel, estimation of the DC , calculation of the on the lowest level in the hierarchy – the values for the avg PFH and PL,etc.), since these tasks are performed by the individual elements of which the block is composed. D software. This enables parameter values to be varied and BL = block PR = project SF = safety function EL1 EL2 SB = subsystem EL = element CH = channel EL3 EL4 I1 L1 O1 I2 L2 O2 TE = test channel TE OTE Figure H.1: Hierarchy levels considered in SISTEMA 301 Annex H User-friendly library functions complete SISTEMA's range log in the editing view. Each input dialog is further sub- of features. Many manufacturers of components provide divided into different areas by tabs. The final tab in each libraries of their products' data. Links to these libraries input dialog contains a table summarizing all lower-level can be found on the IFA's website (www.dguv.de/ifa, branches and listing the main information. If, for example, Webcode: e92603). Users can however create libraries of a block in the tree view is marked, this table shows all their own, in which they can store subsystems that they elements contained within the block, together with their have developed themselves, or frequently used compo- MTTF and DC values. D nents. Libraries can be stored either locally, or centrally on servers. The tree view also shows status information for each basic element. The status information takes the form of H.3 The SISTEMA user interface a coloured marker adjacent to the branch. A red cross indicates that a condition of the standard is not satisfied, The SISTEMA user interface is divided into four areas a limit value is exceeded, or that a required value cannot (see Figure H.2). The greatest part of the user interface is be calculated owing to a general inconsistency. A warning occupied by the workspace in the centre. Depending upon is output in this case. A yellowdot indicates the presence which view is active, the workspace contains an editable of a message (as for example when a basic element has input dialog or a partial view of the overview document. not yet been assigned a name). All other basic elements The content of the active view is determined by the basic are marked with a green tick. The colour marking is also element selected from the hierarchy described above, always inherited by the branches higher up in the hierar- which is selected from a tree view on the left-hand side. chy, red having the highest and green the lowest priority. Each branch in the tree view represents one basic ele- All warnings and information concerning the active basic ment. Basic elements can be created, deleted, moved or element are displayed in the message window below the copied on different levels in the tree view. The details of workspace. the selected basic element are entered in the input dia- Figure H.2: SISTEMA user interface The area below the tree view shows the main context In addition to its flexibility, the SISTEMA user interface is information for the selected basic element. This informa- notable for its ease of use and intuitiveness. Context help tion comprises the PL, PFH , MTTF , DC and number of on the right-hand side is intended to facilitate the lear- D D avg CCF points of the higher-level subsystem, and the PL, PL ning process. r and PFH of the higher-level safety function (this applies, D of course, only to basic elements on lower hierarchy levels). The consequences of changes in the displayed parameters are thus displayed immediately. 302 Annex H H.4 Where can SISTEMA be obtained from? After registering, you can download the SISTEMA software free of charge from www.dguv.de/ifa, Webcode e34183.• Logic consideration of the drives critical to the operator‘s safety. The associated functional diagram is shown in Figure 5.6. • Drive If more than one drive is involved in the hazardous Figure 5.7 shows the functional diagram and blocks of the movements in the danger zone under consideration, the safety function SF3. hazards are considered overlapping. If the number of drives to be considered is too high, the sum of the PFH Figure 5.7: D values of the individual drives may once again be a total Stopping of the drive when guard door 3 is opened PFH that is too high for the required PL of the safety D function. The revised standard makes provision for consi- Positioning monitoring deration of overlapping hazards. Accordingly, the hazards of guard door 1 considered in the safety function in question can under certain circumstances be reduced to discrete hazards, i.e. Positioning monitoring the hazardous machine movements can be reduced to the of guard door 2 movements of discrete parts of the machine. Whether this is possible in a given case must be determined during the Positioning monitoring Logic Drive risk assessment. Assistance in this context is provided by of guard door 3 Annex J of the present report and by [24]. Positioning monitoring of guard door 4 Positioning monitoring of guard door 5 2 Possible faults in the electrical system are assigned to the relevant blocks. 31 5 Safety functions and their contribution to risk reduction Example 3: The examples show the advantage of a “local approach” Safety function “Stopping of all drives when the emer- for definition of a safety function, in which the following gency-stop device is actuated” (see subclause 5.5) are considered: Twenty emergency-stop devices are installed on a larger • At what location are persons present at theSISTEMA may be shared with third parties. Modification of SISTEMA is however not permitted. SISTEMA is supplied in the following language versions: English, German, French, Italian, Spanish, Japanese and Finnish. Instructions on the use of SISTEMA can be found in the Getting Started (Webcode m1221153), the SISTEMA cookbooks (Webcode e109249) and the help file installed with SISTEMA. Infor- mation and guidance on EN ISO 13849-1 can be found under Webcode e89507 and at www.dguv.de/ifa/13849e. 303 304 Annex I: Operating mode selection safety function I.1 Introduction Since an error in selection of the operating mode may lead to a direct increase in the risk, selection of the ope- Work on a machine generally entails manual intervention rating mode must be regarded as a safety-related func- in the danger zone, in addition to automatic operation. tion. It is also listed as such in Table 8 of the standard. Since such intervention, required for example for setup, This raises the question whether the control aspect of troubleshooting or cleaning, is generally associated with operating mode selection is part of each safety function an elevated risk, different operating modes are employed implemented on the machine, or whether operating mode depending upon the task to be performed. selection can be regarded as a safety function in its own right. As in the procedure described in subclause 5.3.2, Selection of an operating mode activates safety functions in which overlapping hazards within a given danger zone on the machine that reduce the respective prevailing risk can be divided into hazards presented by individual parts to an acceptable level. From a safety perspective, an ope- of the machine, it is expedient for operating mode selec- rating mode is thus defined in terms of the safety func- tion to be treated as a safety function in its own right.This tions that are activated and those that are deactivated also prevents the components used for operating mode when the operating mode is selected. Errors in selection selection from further increasing the average probability of the operating mode may lead to the required safety of a dangerous failure per hour (PFH ) in each individual D functions not being activated: if a different operating safety function. mode is activated to that selected, other safety functions are activated rather than those required for the planned As stated in the introduction, an operating mode is cha- task. In the worst-case scenario, an error in operating racterized in safety terms by the safety functions that are mode selection may even lead to no safety functions at all activated by its selection. Accordingly, the safety function being active. The increase in the risk associated with the of operating mode selection can be defined as follows: two cases necessitates a safety analysis of the operating activation of the safety functions required for the selected mode selection. operating mode. Operating mode selection is normally implemented by It must now be determined how the required Performance electromechanical selector switches. The Machinery Level PL of the operating mode selection function is to be r Directive [1] sets out a number of requirements for this set. In some cases, the PL of operating mode selection r purpose. For example: is already stated in the product standard used. Where this is not the case, it is logical for the highest PL of all r • A selector switch that can be locked in each position safety functions that can be activated on the machine to must be provided for operating mode selection be applied. This rule is based upon the fact that failure of the operating mode selection function canresult in • Activation of an operating mode must be unambiguous the required safety functions not being activated, or – in (i.e. each position of the selector switch must corres- a worst-case scenario, when operating mode selection pond to only one operating mode) fails altogether – the machine being operated unnoticed with no safety functions whatsoever. When a machine • The selected operating mode must be clearly identi- tool is changed from the “setup” to the “process monito- fiable by the operator (for example evident from the ring” operating mode, for example, this could lead to an position of the selector switch) un acceptable increase in the risk. The Machinery Directive permits substitution of the selec- When operating mode selection is treated as a safety tor switch in the application by a different item of equip- function in the sense of EN ISO 13849-1, the standard also ment for selection that is able to restrict the use of certain becomes relevant for evaluation of the control technology machine functions to selected groups of persons. The use employed. Depending upon the components used and of electronic equipment for this purpose is not excluded; the scenario, fault exclusions could be asserted. This pro- the circuits and components used that are relevant to cedure will be described below for common control ele- safety, and any software that may be used, must however ments used for operating mode selection. Further infor- attain a level of safety comparable to that of an electro- mation on operating mode selection as a safety function mechanical operating mode selector switch. can be found in subclause 4.1 of [2]. 305 Annex I I.2 Cam-operated selector switches Figure I.1: Structure of the operating mode selection function On switches with direct opening contact elements to IEC 60947-5-1 [3], Annex K, faultexclusion for failure of the contacts to open can be applied in accordance with Table D.8 of EN ISO 13849-2 [4]. These switches also have Access system Selection system Activation system the status of well-tried components; the safety function can therefore be classified as Category 1 in accordance with the standard when they are used. Access system If, on switches with direct opening contact elements, the fault exclusions are also possible for short circuit between The access system is the part of the operating mode adjacent isolated contacts and for simultaneous short cir- selection function that restricts the facility to select the cuit between the three terminals of changeover contacts operating mode to certain groups of persons and prevents in accordance with Table D.8 of EN ISO 13849-2, these actuation of the selection system inadvertently or impro- component faults need not be assumed. For example, on perly. Since selection of each operating mode is associ- a two-channel electrical circuit, fault exclusion permits ated with the activation of different safety functions, the modelling as a Category 3 subsystem and implementation access system is considered relevant to safety. up to Performance Level PL d in the single-channel mecha- nical components (refer in this context also in IFA Report On electromechanical selection equipment, access is 4/2018e, Annex A, Example 8 [2]). implemented by means of a key. Mechanical coding of the key can be used to limit the selection to specific operating Fault exclusions cannot be asserted for PL e; additional modes. This measure is accompanied by organizational measures are required in this case. It is possible for measures that have the purpose of limiting access to the example for the operator of the machine to be required to key(s) to certain groups of persons. confirm the selected operating mode following display ona user interface. At the same time, an activation system On electronic selection equipment, access can be imple- (see subclause I.3) in the safety-related control in PL e is mented for example by means of an RFID (radio-frequency to ensure that at any given time, no more and no less than identification) key or by passwords and corresponding one operating mode is selected on the machine. organizational measures. For analysis of the safety, assessment is necessary of whether the access restric- I.3 Electronic equipment tions exhibit safety comparable to that provided by a key on electromechanical selection equipment (integrity of Fault exclusion is not possible on electronic equipment. A the access data, coding, copy protection, organizational further analysis is therefore required for fault analysis of measures, etc.). The access system does not therefore operating mode selection by means of electronic equip- need to be considered during determining of the probabi- ment. lity of failure of the safety function. For this purpose, it must first be established which ope- Selection system rating mode selection functions must be modelled by the selection equipment. Analysis reveals the following sub- The selection system determines the operating mode that functions: is to be activated by the activation system in the control system (see below). 1) Access to the operating mode selection function On electromechanical selection equipment, the selection 2) Selection of the operating mode system corresponds to the manually actuated switch knob, the position of which is transmitted mechanically, 3) Activation of the operating mode for example via a shaft and cams, to the electrical contact elements. As described above, fault exclusion permits On an operating mode selection arrangement engineered safety implementation up to PL d and with the application by means of electronic equipment, the sub-functions sta- of additional measures up to PL eon such equipment. ted can be implemented in three subsystems (Figure I.1) [5]: On electronic selection equipment, the selection system is generally implemented by means of a user interface (human-machine interface, HMI), for example employing a touchpad or membrane keyboard. The operator specifies the operating mode to be activated in the machine control 306 Annex I through the user interface and where applicable further For the activation system, a PFH is determined according D electronic components. Since standard components are to the control components used for this purpose that must generally employed for this purpose, classification of a yield at least the Performance Level PL required for the r selection system engineered in this way as PL c or higher operating mode selection function. is not generally possible in the first instance. One means by which the required safety can nevertheless be attained Operating mode selection by means of electronic selec- is described in subclause 4.6.4 of the standard, which tion equipment is described below in further detail with states provisions concerning software-based parameteri- reference to an example (Figure I.2). zation. Since selection of the operating mode by an elec- tronic selection system is equivalent to software-based I.4 Operating mode selection with use of parameterization, the safety of this selection system an electronic key system as the access can be assessed against this subclause of the standard. system – PL e The method described in subclause 4.6.4 encompasses selection of the operating mode by the operator, checking I.4.1 Safety function of the selected operating mode in the safe control sys- tem, and confirmation of the selected operating mode by Activation of the safety functions required for the selected the operator. This ensures that the integrity of the data operating mode. used for parameterization is maintained along the entire communication chainand that corruption is detected. In I.4.2 Structure particular, should a fault occur in one of the components of the selection equipment, it is prevented from selecting The access system in the example takes the form of an or confirming an incorrect operating mode. electronic key system. The personal authorization level for access is stored on the electronic key. Activation system The selection system comprises three components: an The actual safety function of operating mode selection, HMI with touchscreen for displaying and selecting the i.e. activation of the safety functions required for the operating modes available in the applicable authorization selected operating mode, is performed on the activation level, a safety PLC for checking the authorization level and system. Where electronic selection equipment is used, the selected operating mode, and a standard PLC for com- only the activation system is considered in quantifica- munication between the components. tion of the operating mode selection when the selection system – as described above – is evaluated against the requirements of software-based parameterization. Access system Selection system Activation system Electronic HMI key d Reader SPLC e Figure I.2: a Example of operating mode selection b with use of an electronic key system as PLC the access system; HMI: human-machine interface; PLC: programmable logic c controller (standard); SPLC: safety PLC; a to e: information flow (see functional description) 307 Annex I The safety PLC forms the activation system. It is res- 5. The safety functions required for the operating ponsible for changing the operating mode and thus for mode are activated. activating the safety functions required for the operating mode. The safety PLC also ensures that one operating I4.4 Safety analysis mode and the associated safety functions are active at any given time. The reader in this example satisfies the structural require- ments forCategory 3. This means that a single fault can- I.4.3 Functional description not lead simultaneously to an incorrect output on the data interface and the relay output. Single faults are detected Key system/standard PLC by high-quality coding of the authorization level, cross monitoring in the reader, and anticipation in the safety Insertion of a key into the reader causes the authorization PLC. The reader combined with the electronic key serving level to be read out. The authorization level defines, as as an access system thereby attains a level of safety com- a function of the technical qualifications of the operator, parable to that of the key of electromechanical selection which operating modes the operator is to be entitled equipment. to select. The reader is connected to the standard PLC through a data interface. Once the key data have been The process described for selection, checking and confir- read out, the authorization level is transmitted to the HMI mation of the operating mode and programming of this (a) and the safety PLC (b). process satisfy the requirements for software-based para- meterization in accordance with subclause 4.6.4 of the In addition to the data interface, the reader features a standard. relay output that is switched off as long as no key is inser- ted or the key data cannot be read out. The relay output is The SRASW software of the safety PLC is programmed connected to a safe input on the safety PLC (c). in accordance with the requirements for PL e and the guidance in subclause 6.3. HMI The safety PLC is a safety component for use in PL e. The operating modes to which the key provides entitle- ment by virtue of the authorization level are displayed on The average probability of a dangerous failure of the ope- theHMI. Following selection of an operating mode, it is rating mode selection safety function is derived from the transmitted via the standard PLC to the safety PLC (d). The PFH for the activation system, which in the example is D safety PLC sends a feedback message regarding the saved the safety PLC. operating mode over the same path back to the HMI, where it must be acknowledged by the operator. More detailed references Safety PLC [1] Directive 2006/42/EC of the European Parliament and of the Council of 17 May 2006 on machinery, As soon as a signal change takes place on the safe input and amending Directive 95/16/EC (recast) OJ EU of the safety PLC following insertion of the key, a process (2006) L 157, pp. 24-86 is launched in the safety PLC at the end of which the selected operating mode is activated. The process com- [2] Werner, C.; Zilligen, H.; Köhler, B.; Apfeld, R.: Safe prises the following discrete steps: drive controls with frequency converters. IFA Report 4/2018e. 3rd ed. Published by: Deutsche Gesetzliche 1. The authorization level stored on the key is checked Unfallversicherung e. V. (DGUV), Berlin, Germany for its validity. 2019 (will be published in Summer 2019). www.dguv.de/ifa, Webcode: e635980 2. The operating mode selected on the HMI is then checked for whether it constitutes a valid operating [3] IEC 60947-4-1: Low-voltage switchgear and control- mode and the operator is authorized to select it based gear – Part 5-1: Control circuit devices and switching upon the authorization level. elements – Electromechanical control circuit devices (2009) + A1 (2012) 3. The operating mode is signalled back to the HMI for acknowledgement (e). [4] EN ISO 13849-2: Safety of machinery – Safety-related parts of control systems – Part 2: Validation (2012) 4. Following acknowledgement of the operatingmode, it is checked for its consistency with the operating mode actually selected. 308 Annex I [5] DGUV-Information: Sicherheitsbezogene Betriebs- arten an spanenden Werkzeugmaschinen der Metallbearbeitung (FB HM-073). Date of publication: 2/2016. Published by: Fachbereich Holz und Metall der Deutschen Gesetzlichen Unfallversicherung e. V. (DGUV), Mainz, Germany 2016. www.dguv.de/ifa, Webcode: d545286 309 310 Annex J: Overlapping hazards Changes with respect to the second edition (BGIA Report 2/2008e): The content below is taken from DGUV expert committee information sheet No 47. Following publication of the third edition of the standard, this information sheet was withdrawn, as its regulatory content was adopted in the standard. It has been included here for the purpose of illustrating the handling of overlapping hazards. 331111 312 Annex J Safety functions to EN ISO 13849-­‐1 where multiple overlapping hazards are present On complex manufacturing systems and machine tools, overlapping hazards may arise in working C ontents areas as a result of hazardous movements caused for example by multiple feed axis drives 1 Current situation with closed-­‐loop control. This information sheet describes a procedure, agreed with OSH experts 2 Handling of overlapping hazards in and the Institute for Occupational Safety and Health of the German Social Accident Insurance practice (IFA), by which safety functions with overlapping hazards can be modelled and analysed by application of EN ISO 13849-­‐1 [1] or IEC 62061 [2]. 1 Current situation The analysis of discrete hazards is proven good Prism magazine Q5 practice in safety technology. Probabilistic analysis (behind end panel) in accordance with EN ISO 13849-­‐1 or IEC 61508 [3, 4] and IEC 62061 and the risk assessment for a hazard situation show however that consideration must also be given to the overlap of hazards. The paper [5] provides a basis for discussion of the consequences of a probabilistic approach to thepoint in time machine; when actuated, they bring all 50 drives to a halt under analysis? as rapidly as possible. What components must be con- sidered in this case during implementation of the safety • What movements present hazards at the location of the function? It cannot be predicted which of the emergency- person(s)? stop devices will be actuated in order to initiate the safety function. Since the user only ever actuates one emergency • What safeguards initiate the safety function at the point stop device at any one time, safety functions SF1 to SF20 in time under analysis? are defined. The location of a person exposed to a hazard at the time the emergency stop is initiated is not known. 5.4 Determining of the required Regardless of where this person is located however, not Performance Level PL r all 50 drives present a hazard. The worst case should therefore be considered representative for all conceivable A required Performance Level PL – in technical terms, the r situations. The worst case is determined by the worst desired value – must be specified for each implemented PFH , and is therefore partly dependent upon the num- safety function3. The requirements are derived from the D ber of drives in the safety chain that generate hazardous necessary risk reduction. During definition of the risk movements at the least favourable location, and upon the reduction, consideration must also be given to the likeli- respective individual PFH values. The associated block hood and severity of accident, which may not be known. D diagram is shown in Figure 5.8. ISO/TR 14121-2 [4] describes methods for determining the required scale of the risk reduction. EN ISO 13849-1 The PFH values of the following blocks must therefore be employs one of these methods, that of the riskanalysis of overlapping hazards. The present Source: WFL Millturn Technologies GmbH & Co. KG information sheet details and elaborates upon this paper. Figure 1: Owing to the wide range of hazardous situations Diagram showing the axes of a machine encountered at the human-­‐machine interfaces tool referred to above, this information sheet cannot be considered universally valid for their analysis. Overlapping hazards are characterized by the Standards developers are free to describe simultaneous action of multiple discrete hazards appropriate machine-­‐specific provisions in the upon one or more persons (or their limbs or parts of relevant product or Type C standards and have the the body) requiring protection and present at a remit to do so. hazardous location or able to reach hazardous areas (see Figure 1). Problematic in this context is that where a large number of overlapping hazards arise at a human-­‐ Discrete hazards include both the movement of an machine interface, a sufficiently low probability of individual axis, and hazards resulting for example failure of all safety-­‐related control components from the movement of an entire machine part. involved (sensors, logic, multiple actuators) can be Where the movement of a machine part is the result demonstrated only with very high analytical effort of kinematic interaction between one or more (e.g. Markov modelling), if at all. spindle and feed axis drives (such as a milling tool on the saddle of a machining centre), it may Furthermore, overlapping hazards of differing risk r therefore be regarded as a discrete hazard. (differing in their PL or SIL) make determining the probability of failure of safety functions more complex, which in turn drastically increases the required analytical effort. 313 Annex J Safety functions to EN ISO 13849-­‐1 where multiple overlapping hazards are present 2 Handling of overlapping hazards in practice risk and the properactions on the part of the machine operators must be considered, as must the possible movements of the machinery parts presenting a hazard (such as vectorial movements Precise examination of which hazards actually caused by the kinematics of multiple axes or overlap within a specific hazard zone is absolutely translational movements of single axes). essential. The dimensions of the parts of the body at E2 Prism magazine Q5 (behind end panel) E3 E1 E4 Source: WFL Millturn Technologies GmbH & Co. KG Fig 2: Different discrete hazards, with reference to the example of a machine tool 314 Annex J Depending upon the specific risk assessment, it is per- rotational movement need not therefore be considered missible in practice to model safety functions based upon here) an analysis of their discrete hazards, even though they are formed by overlapping hazards. These four discrete hazards thus yield the four safety func- tions SF1 to SF4. The safety function SF1 for E1 for example However, where several actuators (e.g. contactors, valves, comprises one feed axis and one spindle drive (C, S). The 1 1 closed-loop drive controls) contribute to reducing the risk safety function SF2 for E2 for example comprises the feed of the same discrete hazard, they must all be considered axis drives X, Y, Z, the swivel drive (B) and the spindle 1 1 1 1 together in a safety function. In other words, all actuators drive (S). 3 capable of causing hazardous movements on one and the same machine part must be considered together in a References safety function. [1] EN ISO 13849-1: Safety of machinery – Safety-related When the individual risk assessment on the machine parts of control systems – Part 1: General principles leads to a differentiated risk assessment with differing PL for design, 2015-12 r or SIL,it is permissible in practice to model safety func- tions based upon the analysis of discrete hazards. [2] IEC 62061: Safety of machinery – Functional safety of safety-related electrical, electronic and programma- Examples: ble electronic control systems, 2015-06 1. If the movement of a milling tool is derived from the [3] IEC 61508-1: Functional safety of electrical, elec- kinematic interaction between multiple movements of tronic, programmable electronic safety-related discrete axes, all actuators triggering this movement systems. Part 1: General requirements, 1998-12 must be grouped in a safety function. The resulting (replacement planned by 65A/548/FDIS, 2009-12) movement may for example be comprised of five discrete movements: three translational movements [4] IEC 61508-5 Functional safety of electrical/electro- in the axes X, Y, Z, one swivel movement B and one nic/programmable electronic safety-related systems 1 1 1 1 rotational movement S (see Figure 2, discrete hazard – Part 5: Examples of methods for the determina- 3 E2). tion of safety integrity levels, 1998-12 (replacement planned by IEC 65A/552/FDIS, 2009-12) 2. Movements of a single multi-axis robot must be grouped in a safety function for analysis (multiple [5] Apfeld, R.; Bömer, T.; Hauke, M.; Huelke, M.; robots side by side are considered separately). Schäfer, M.: Praktische Erfahrungen mit der DIN EN ISO 13849-1. openautomation (2009) No 6, 3. Multiple chucks that together hold an item (where a pp. 34-37 failure of one of the chucks results in the item no lon- ger being held) must be grouped in a safety function. With reference to Example 1, formulation of safety func- tions from the discrete analysis can result in the analysis of the hazards presented by the drive axes as shown in Figure 2. The image shows, by way of example, four discrete hazards E1 to E4, marked by red circles, in the machining zoneof a machine tool: E1: Rotational (S) and translational (C, for off-centre 1 1 machining) movement of the left-hand workpiece spindle E2: Rotational (S), translational (X, Y, Z) and swivel (B) 3 1 1 1 1 movement of the milling spindle E3: Rotational (S ) and translational (Z ) movement of the 2 4 right-hand workpiece spindle E4: Rotational (S ) and translational (X , Z ) movement 4 2 2 of a tool spindle (the turret toolholder is indexed; its 315 Annex K: Index A access system 306 accumulation of undetected faults 50, 53 activation system 307 actuation (positive mode of) → positive mode of actuation actuator 28, 198 adjustment factor 255 ageing process 267 analysis 89 application programmer 64 application software 47 arrangement in series 54 arrangement of subsystems 72 ASIC 51 autonomous transport vehicle 247 average diagnostic coverage 286 average probability of a dangerous failure per hour 15, 39 avoiding the hazard 33 B B values 254 10D bar chart 61, 295 base current 103 base failure rate 254 basic Category 49 basic measure 67 basic safety principles 49 bath-tub life curve 265 beta factor 293 block 53 block diagram → safety-related block diagram braking time 112 break and make contact combination 203 break/clutch combination 238 bus system 63 C capping 57, 282 cascading 156, 203 Category 49, 251 CCF → common cause failure channel 53, 251, 252 circuit breaker 211 circuit examples 99, 104 clamping bar 36 closed-circuit current principle 40, 260 closing edge protection 247 cold welding 274 common cause factor 293 317 Annex K: Index common cause failure 74, 293 component failure rate 254 conceptual schematic diagram 99 conditions of use 254 conductors/cables 260 connection 74 contactor 269 contactor relay 269 control device 100 control component (mechanical) → mechanical control component control (electromechanical) →electromechanical control control subsystem 72 counter-measures 293 D [D] for database 100 danger zone 247 dangerous detectable (DD) failure 285 dangerous failure mode 254 dangerous undetectable (DU) failure 285 data communications protocol 154 data transfer 154 DC classes 286 decoupling diode 99 de-energization principle 40 de-energized state 40 defeating 48 demand mode 15 demand rate 296 design 39 design and development process 41 design process 41 designated architectures 48, 252, 295 development tool 69 diagnostic coverage 57, 251, 253, 257, 285, 295 diagnostics 251, 252, 257 directional control valve 193 direct opening action 100, 263 discrete hazard 31 diverse SRESW 68 diversity 125, 169 documentation 44 duration of exposure 247 E [E] for estimate 100 early failure 266 earth-moving machinery 152 electrical durability 269, 274 electromagnetic compatibility (EMC) 49, 251, 252 electromechanical control 100 electromechanical selection equipment 306 electronic selection equipment 306 electro-sensitive protective equipment 126, 168 EMC → electromagnetic compatibility 318 Annex K: Index emergency stop 168 emergency stop device 274, 278 emergency stop function 118 emergency switching off device 262 enabling switch 274, 278 encapsulated subsystem 54, 73 encoder shaft breakage 173, 184 environmental influence 103 ergonomic aspects 82 ESPE → electro-sensitive protective equipment exposure to the hazard 33 F failure measure 15 failure mode 103, 254 failure mode (dangerous) → → dangerous failure mode failure mode and effects analysis 54, 56, 251, 253, 254 failure of hydraulic valve 46 failure of pneumatic valve 46 failure rate 253 failure mode 103 failure mode distribution 256, 257 failure (systematic) → systematic failure fast-moving gate 247 fault combination 53 fault consideration 55 fault detection 251 fault detection by the process 287 fault exclusion 55, 103, 259, 274 fault list 88, 103, 259 faulty-closure protection 277 FIT (failures in time) 255, 265 fluid power 259 fluid power control 101 FMEA →failure mode and effects analysis FMEDA 251, 256 frequency inverter 128, 168, 183 full variability language 65 function block 251, 253, 254 G gate 247 good engineering practice method 273 guard locking device 274, 276 H hazard 29 hazard zone 25 high force surplus 47 history of accidents 33 homogeneous redundancy 238 human-machine interface 48 hydraulic control component 268 hydraulic directional control valve 267 319 Annex K: Index hydraulic fluid 101 I inching mode 172, 186 incidence of accidents 247 information for use 93 infrared light sensor 177 inherent heating effect 254 inherently safe design 36 interface 74 interlocking device 276 interlocking device with guard locking 164 inverter 172 merging 17 iterative process 19 L laser scanner 148 legacy machinery 34 life cycle 41 lifetime 27 lifetime value 271 light barrier 124, 183 light curtain 169 limited variability language 65 limits of the machine 35 locking element 276 M [M] for manufacturer 100 machine movement 31 Machinery Directive 11 maintenance unit 101 Markov model 253 masking 59 matrix method of the IFA 64 mean number of operations per year 272 means of the safety PLC K1 172 mean time to dangerous failure (MTTF ) 55, 295 D measures against common cause failure 60 measures for fault avoidance 103 mechanical control component 267 mechanical durability 269, 274 mechanical technology 262 mechanically linked contact 269 micro controller 183 mirror contact 269 mission time T 62, 254, 265, 297 M mode of actuation 263 modification 69 monitoring elements 238 program sequence monitoring 141 MTTF 253, 265 D MTTF values 266 D 320 Annex K: Index multi-purpose control 153 muting function 176 muting sensor 179 O operating mode 252 operating mode selection 305 operating inhibition 295, 298 operating stresses 49 operation time 33 optocoupler 259 oscillator 252 overlapping hazards 31 P palletizer station 177paper-cutting guillotine 34, 75, 236 parallel arrangement 54 parameter 261 parts count method 56, 79, 258, 281 Performance Level 16, 251, 295 PFH 251 D PLC disc 80 position monitoring 116, 199 position switch 274, 276 positive mode of actuation 261 power drive system 29 power control element 62 power failure 46 power supply 251, 252 press control 222 press force 36 pressure filter 111 pressure limitation 101, 260 pressure-relief valve 223 pressure-sensitive edge 183 printed circuit board 259 printing press , 186258 probability of a dangerous failure per hour 296 probability of failure 15, 40 product standard 25 programmable system 262 programming guidelines 69, 83 programming language 69 proportionality factor 293 protective circuitry 99 protective equipment (electro-sensitive) → electro-sensitive protective equipment protective measure 29 proven-in-use component 62 proximity switches 106 pushbutton 274, 280 Q quantification 48, 251, 253 321 Annex K: Index R random failure 265 RDF (ratio of dangerous failure) 257 reduction process 26 redundancy 254 redundancy (homogeneous) → homogeneous redundancy redundant position monitoring 160 reliability 31 reliability data 33 reliability of the test equipment 59 residual error rate 154 restart interlock 125, 148 revolving door 182 risk assessment 247, 315 risk estimation 27, 28, 35 risk evaluation 27 risk graph 32 risk parameter 33 risk reduction 25, 27, 41, 42 rotary printing press 248 S safe (S) failure 285 safe state 287 safely limited speed (SLS) 172, 182 safe stop 1 with ramping monitoring 182 safe torque off (STO) 168 safety chain 32 safety component 11 safety factor 261 safety function 251 safety integrity level 15 safety module 156, 210 safety principle 51, 259, 261 safety-related application software 64 safety-related block diagram 54, 77, 251 safety-related embedded software 64 safety-related software 64 safety screen 202 schematic diagram 75 secondary fault 55 selection system 306 selector switch 306separation 262 separation of safety-related functions 47 severity of accidents 247 severity of harm 27 severity of injury 33, 247 shear points 247 shut-off element 58 silting 47 simplification 16 simplified quantification method 253 single-fault tolerance 53 SISTEMA 301 322 Annex K: Index slack-cable switch 141 SOFTEMA 65 soft seal 47 software function 69 software requirements specification 82 software specification 66 software (SRASW) 125, 169 software (SRESW) 153, 184 special case 74 specification 43, 82 spring 261 SRESW requirements 70, 82 standard PLC 124 starting 178 stop function 116 studio and stage application 140 studio hoist 140 subsystem 49 suitable software tools 68 switches connected in series 59 symmetrized 57 systematic failure 40, 44, 81 T technical file 45 temperature factor 255 test 254, 257 test channel 52 test equipment 251 test of the safety function 51 test rate 52, 62, 296 three-position enabling switch 278 transient 261 transmission channel 64 two-hand control 75, 237 type 1 position switch 157 type 2 position switch 157 Type C standard 25 U undervoltage release 106 unexpected start-up 260 user interface 302 V validation 85, 87 verification 85, 87 V-model 65 voltage monitor 141 V&V activities 86 323 Annex K: Index W watchdog 252 wear 256 wearing part 257, 297 weaving machine 248 Weibull statistic 271 well-tried component 51, 262 woodworking machine 112 well-tried safety principle 51 324graph. D taken into account during subsequent calculation of the PFH of the safety function: 5.4.1 Risk graph D • Emergency stop device 03 The diagram in Annex A of the standard leads directly to • Logic the required Performance Level PL and is explained below r • Drive 21 (see Figure 5.9). Further examples of determining of the • Drive 35 PL can be found in Annex A. r • Drive 47 Figure 5.9: Figure 5.8: Risk graph for determining the PL for each safety function r Emergency stop of the entire machine, worst case Required · Low Performance · risk Level PL r · P a Emergency-stop device 01 Drive 21 1 F 1 · Emergency-stop device 02 · Starting S 1 P 2 P 1 b · Emergency-stop device 03 Logic Drive 35 point for F 2 P 1 P 2 c Emergency-stop · device 04 · · · e o r s e f t d t i h m u e c a t r t i i i o s o n k n S 2 F F 2 1 P 2 P 1 d · P e · Drive 47 2 · High · risk · 3 The r (required) suffix indicates that the Performance Level in this case is that required for the safety function (desired value). Validation at a later stage examines whether the PL attained by the actual control system (actual value) is greater than or equal to the PL. In this context, “greater than” means: PL = e > PL = d > PL = c > PL = b > PL = a 32 5 Safety functions and their contribution to risk reduction From the starting-point, the following risk parameters are considered for the duration of the hazardexposure in rela- evaluated4: tion to the overall time for which a machine is in use. • S – severity of injury For a manually charged metalworking press whose ope- rator must reach cyclically between the dies of the press, • F – frequency of and/or duration of exposure to hazard F2 is clearly the appropriate choice. Conversely, for a machining centre that is set up once each year and then • P – possibility of avoiding the hazard or of limiting the operates automatically, F1 will doubtless be selected. For harm evaluation of the frequency and duration of exposure to the hazard, cases in which the same person or different The risk graph thus leads to the necessary PL. This analy- persons are exposed must be treated in the same way. r sis must be performed for each safety function and with- out consideration of the risk reduction that is achieved as P – possibility of avoiding the hazard P1 and P2 a result. Where other technical measures are in place that (parameter P) are implemented independently of the control system, such as a mechanical guard or further safety functions, At this point, an evaluation must be made of whether they can be assumed to be effective for the purpose of recognition and avoidance of a hazardous situation is: determining the PL. r • P1 – possible under specific conditions Severity of injury S1 and S2 • P2 – scarcely possible Generally, the severity of injury (parameter S) in a hazard Aspects relevant to definition of this parameter include zone will be found to vary widely. For the requirements the physical characteristics of a machine, the qualifica- upon the control system however, only the following dis- tions of the operator, and their possible reaction. If, for tinction is relevant:example, the machine must be set up whilst running at limited speed, the parameter P1 will be the correct choice • S1 – slight (normally reversible injury) at the low acceleration values for setup: with the slow emergence of the hazards and given sufficient freedom • S2 – serious (normally irreversible injury or death) of movement, the operator will be able to move out of the hazard zone. Conversely, P2 must be selected when The usual consequences of accidents and the normal higher speeds may rapidly be reached and the operator healing processes must be taken into account for deter- has no realistic chance of evading an accident. During this mining between S1 and S2. evaluation, consideration should be given only to hazard limitation by physically possible means, and not to limi- Frequency of and/or exposure to the hazard F1 and F2 tation by control components, since the latter could fail (parameter F) in the event of a fault. For example, rollers moving in the direction of the operator‘s hand cannot entrap it under The frequency of and/or exposure to the hazard are eva- fault-free conditions. In the event of a control-system luated as: fault, however, the direction of rotation could be rever- sed, and under worst-case conditions, the hand would be • F1 – seldom to less often, and/or exposure time is short drawn in. • F2 – frequent to continuous, and/or exposure time is A further factor influencing determining of the PL is the r long probability of the occurrence of a hazardous event ([3], 5.5.2.3.2). Human behaviour and technical failure may be Consideration is therefore given both to the number of factors in this context. Both are difficult to estimate nume- interventions in the danger zone within a period and to rically. The standard states the followingexample criteria the duration of presence within it. The standard assists however: decision-making by stating that where operator interven- tions occur more frequently than once every 15 minutes, • Reliability data F2 should be selected. In all other cases, F1 is the cor- • History of accidents on comparable machines rect choice, provided the duration of hazard exposure does not exceed 1/20 of the total operation time of the machine. During evaluation, an average value should be 4 The probability of a hazardous event occurring is analysed in conjunction with the risk parameter P. 33 5 Safety functions and their contribution to risk reduction Where factors exist that enable the probability of a hazar- • Measures for stopping in an emergency dous event occurring to be deemed “low”, the PL may • Reversal of movements r be reduced by one level; it must however not drop below • Isolation and energy dissipation PL a. According to the definition, these do not constitute tech- What reasoning may now be given for a “low” ranking? nical protective measures the implementation of which Consideration of reliability data refers (among other would require a certain Performance Level. These com- aspects) to the process-related (i.e. not safety-related) plementary protective measures should however take control system. The machine manufacturer must there- effect when technical protective measures (guards and/ fore assess for this purpose whether high reliability of or protective devices) have failed or have been defeated. the components (high MTTF, in this case without “D”) In these cases in particular, an emergency stop function can also be assumed for his machine. How great is there- for example is expected actually to be serviceable. The fore the probability for example that a standard PLC for requirements placed by IEC 60204-1 [25] upon control functional control of amachine will incorrectly initiate circuits and the control functions of machines should unexpected start-up of a drive? How should new compo- therefore be observed. subclause 9.4, “Control functions nents be evaluated that have good MTTF values but with in the event of failure”, requires an appropriate level of which practical experience has not yet been gained? Are safety performance, which must be defined by the risk the conditions of use of PLCs and associated components evaluation of the machine. Ultimately, the requirements (sensors, frequency inverters, power supplies, etc.) com- of EN ISO 13849 therefore also apply to these comple- parable with the usual applications? What are the charac- mentary protective measures. Under no circumstances teristics of the supply network? Could there be elevated may complementary protective measures influence the electromagnetic interference at the machine‘s planned function and standard of safeguards. location of use? What are the prevailing temperatures? Etc. Factors such as these may increase the probability 5.6 Treatment of legacy machinery of failure, even if the specified limits of the components used are not violated. The possibility further exists of Legacy machinery in this context refers to machines that errors in the software, which of course may also give rise were placed on the market before the Machinery Directive to hazardous events. came into force. The requirements of the directive were not applied to these machines. However, its application Where the incidence and severity of accidents on compa- may become necessary should legacy machines be exten- rable machines with identical risks, the same operating ded, modified, modernized, etc. In such cases, it must and safety concept and identical safeguards is known and be assessed whether an essential change has occurred. is considered low, the probability of a hazardous event Should this be the case, the requirements of the ECtechnique de com- nivel de sus componentes muestran cómo implementar mande. De nombreux exemples de circuits allant jusqu’au técnicamente los niveles de prestaciones «a» hasta «e» niveau des composants montrent comment les niveaux con las categorías B a 4 en las tecnologías correspon- de performance ‘a’ à ‘e’ avec les catégories B à 4 peuvent dientes. Además, se dan indicaciones sobre los princi- être réalisés techniquement dans les technologies res- pios de seguridad aplicados y los componentes que han pectives. Ils fournissent des indications sur les principes demostrado su valía en materia de seguridad. Las nume- de sécurité utilisés et sur les composants techniques qui rosas referencias bibliográficas tienen por objeto permitir ont fait leurs preuves en matière de sécurité. De nombreu- entender en mayor profundidad los distintos ejemplos ses références bibliographiques permettent d’approfondir citados. El informe muestra cómo se pueden implemen- la compréhension des différents exemples. Montrant tar los requisitos de la norma DIN EN ISO 13849-1 en la comment les exigences de la norme DIN EN ISO 13849-1 práctica técnica, contribuyendo así a la homogeneidad de peuvent être mises en œuvre dans la pratique technique, aplicación y de interpretación de la norma a nivel nacio- le rapport contribue ainsi à ce que la norme soit utilisée et nal e internacional. interprétée de manière identique, tant au niveau national qu’international. Contents 1 Foreword ..............................................................................................................................................9 2 Introduction ........................................................................................................................................11 3 Generic standards concerning the functional safety of machinery control systems...............................15 4 Report and standard: an overview .......................................................................................................19 4.1 Identification of safety functions and their properties ...........................................................................19 4.2 Design and technical implementation of the safety functions ...............................................................20 4.3 Verification and validation of the control system for each safety function ..............................................21 4.4 Changes arising from the third edition of the standard published in 2015 ..............................................22 4.5 Future development of EN ISO 13849-1 ..................................................................................................22occurring can also be ranked as low. Machinery Directive apply to “old”, i.e. legacy machines in the same way as to new machinery. These requirements The PL reduced as a result of these considerations must include the application of EN ISO 13849. An interpretation r not under any circumstances be lower than that of the paper produced by the German Federal Ministry of Labour machines considered by way of comparison, since it does and Social Affairs (BMAS) assists in determining whether not follow from a low incidence and severity of accidents an essential change has occurred [21]. that the level of safety provided by the implemented safety functions is greater than that required. It cannot be 5.7 Risk reduction with reference to the predicted whether a reduction of the existing level would example of a paper-cutting guillotine lead to an unacceptable increase in the incidence and with diverse redundancy in the logic severity of accidents. control (Category 4 – PL e) Chapter 6 describes the subsequent design of the safety The example in this subclause illustrates the application functions. of EN ISO 13849-1 on a paper-cutting guillotine. Only certain aspects will be considered in detail, and not the 5.5 Complementary protective measures entire process. The requirements for complementary protective measures Paper-cutting guillotines (see Figure 5.10) are used to cut are contained in EN ISO 12100 [3], subclause 6.3.5. With stacks of paper sheets or similar materials by means of a regard to the control technology issues addressed in this knife. The product to be cut is generally placed under the report, these complementary protective measures parti- knife by hand. Immediately before the cutting action is cularly include: performed, a clamping bar is lowered at high force onto 34 5 Safety functions and their contribution to risk reduction ESPE THC Figure5.10: Paper cutting guillotine with two-hand control (THC) and electro-sensitive protective equipment (ESPE) the stack in order to hold it in place during cutting. The The following operating modes are implemented: knife and the clamping bar are driven hydraulically. 1. Pressing 5.7.1 Definition of the limits of the machine 2. Manual cutting (single cut) 3. Automatic sequence of cuts (automatic process Space limits following the first, manual cut) 4. Knife change Since paper-cutting guillotines are charged manually, sufficient space is required for the handling of product In the first three operating modes, movement of the clam- for cutting, onward transport and storage of the cut paper ping bar alone is possible, in order for the line of cut to stack, and disposal of paper waste, as well as sufficient be indicated. For this purpose, the operator operates a space for the operator to move. pedal, and is able at the same time to alter the position of the paper stack with his or her hands within the danger Time limits zone. Depending upon the application, the machine may be 5.7.2 Identification of the hazards used for a period of approximately 20 years. Component wear may lengthen the time required for a movement to The following mechanical hazards are significant for a stop. The resulting violation of the overrun must therefore paper-cutting guillotine: be detected and must result in the machine being stop- ped. • G1 – crushing by the clamping bar • G2 – cutting by the knife during the cutting process Use limits • G3 – cutting by the knife in the rest position The intended use of the machine is that of cutting stacked Risk estimation sheets of paper or similar materials. The machine is charged manually by a single person. Depending upon The dynamic press force ofthe clamping bar (hazard G1) the site of installation and the width of the machine, how- is sufficiently great to cause not only reversible crushing ever, the presence of other persons in the vicinity cannot injuries, but also broken bones. For hazard G2, amputa- be excluded. tion of limbs must be assumed. During manual positio- ning of the paper stack, hazard G3 may lead to injury to the hands or forearms on the stationary knife. These inju- ries are however generally reversible. 35 5 Safety functions and their contribution to risk reduction The operators‘ exposure to hazard is very high, since they 7. The mechanical components for guiding the knife and regularly (cyclically) intervene manually in the danger the clamping bar are linked such that in its top rest zone in the course of routine work. position, the knife is shrouded by the clamping bar. The drop speeds of the clamping bar and knife (hazards 5.7.3 Required safety functions G1 and G2) are very high, with the result that the operator has virtually no means of avoiding the hazard. When the In consideration of all operating modes and all manual knife is stationary (hazard G3), the operator is able to interventions, the following safety functions are required: avoid or limit harm. • SF1 – STO (safe torque off), for avoidance of unexpected The probability of a hazardous event occurring as a result start-up of technical failure is not known. The incidence and seve- rity on comparable machines is however low; the safe- • SF2 – Controlled location of the operator‘s hands out- guards implemented here are therefore evidently ade- side the danger zone during a hazardous movement quate. Should the risk analysis for a safety function yield a higher PL than that actually implemented on the compa- • SF3 –Detection of intervention by further persons in the r rable machines, the PL can in principle be reduced by one danger zone by means of ESPE (electro-sensitive pro- r level. However, since the safety functions on comparable tective equipment), e.g. a light curtain, and immediate paper-cutting guillotines are achieved with the highest PL, interruption of the cutting operation a reduction of the PL will not be possible in this case (see r subclause 5.7.4). • SF4 – Automatic stopping of all movements following each individual cut or following completion of the auto- Risk evaluation matic cutting sequence In consideration of all operating conditions and all possi- • SF5 – Reduction of the dynamic press force for the clam- bilities for operator intervention, a risk reduction is found ping bar during the “indicate cut” function to be required. • SF6 – Automatic return of the clamping bar and knife to Inherently safe design their initial positions following interruption of a cutting operation It is not possible for the dynamic press force of the clam- ping bar and the energy of the knife to be reduced, as this Note: The principle of overlapping hazards could be would impair the functionality of the machine. An arrange- applied to the machine parts of knife and clamping bar ment and design of the machine that would prevent the (see subclause 5.3.2). In this case, SF1, SF3, SF4 and SF6 operator from reaching into the danger zone is also not would be divided up such that dedicated safety functions possible, since this is precisely where the operator must would be defined separately for the knife and the clam- line up the stack of paper. ping bar. In the present case however, this division is not made, since owing to the low number of components in Thefollowing measures can however be taken: SF1 to SF6, the required PFH can still be attained when D these safety functions are grouped. 1. Shrouding of all points of access to the danger zone except on the operator side. Characteristics of the safety functions 2. Avoidance of sharp edges and corners. The cut must be interrupted immediately should the light curtain be penetrated. The safety function SF3 therefore 3. Assurance of a suitable working position and accessi- takes priority over SF2. For SF5, the maximum permissible bility of the controls. force for the clamping bar during the “indicate cut” func- tion must be specified (see [27]). 4. Ergonomic design of the machine. 5.7.4 Determining of the required 5. Avoidance of electrical hazards. Performance Level PL r 6. Avoidance of hazards presented by the hydraulic The PL must be determined for each safety function. If r equipment. the situations in which the individual safety functions are used are analysed, evaluation of the risk parameters S, F and P is seen to be similar for the safety functions SF1 to SF6: 36 5 Safety functions and their contribution to risk reduction • S2 – serious, generally irreversible injury of these machines have already been implemented with PL e, as specified in [28]. The result of the risk analysis is • F2 – continuous presence in the danger zone; the fre- therefore confirmed by the situation in practice; a possi- quency is therefore greater than once every 15 minutes ble reduction in the PL is not indicated. Figure 5.11 shows r the documentation and risk graph in the SISTEMA soft- • P2 – evasion of a hazardous situation is virtually impos- ware application for the SF1 safety function. sible An adequate risk reduction has been achieved for the In accordance with the riskgraph in Figure 5.9, this hazard G3, “Cutting by the knife in the rest state”, by evaluation yields a required Performance Level PL of e. mechanical coupling of the knife and the clamping bar. r The incidence and severity of accidents on comparable A safety function is not required. machines is low. The safety functions considered here Figure 5.11: Documentation and risk graph for SF1 37 5 Safety functions and their contribution to risk reduction 5.7.5 Complementary protective measures device features a two-channel circuit, stopping in an emergency therefore also satisfies a PL of e. The following measures are required: 2. Freeing of a trapped person requires a reverse move- 1. Emergency stop ment of the knife and clamping bar; this is achieved by spring force. Suitable safety functions with a PL of e are already available in the machine control system and are used for the emergency stop. Provided the emergency-stop 38 6 Design of safe control systems i Changes with respect to the second edition • Raising of the MTTF capping in Category 4 to D (BGIA Report 2/2008e): 2,500 years added in subclause 6.2.13 (FMEA vs. parts count method). • Further information added in subclause 6.1.2 (Syste- matic failures) on application-specific integrated cir- • Explanations of the test rate revised and information cuits (ASICs), field programmable gate arrays (FPGAs), on components with DC < 60% down to DC = 0% added programmable logic modules and complex standard in subclause 6.2.14 (diagnostic coverage). mo dules. subclause 6.1.3 (Ergonomics) brought into line with the new 2006/42/EC Machinery Directive. • New subclause 6.2.17 added on alternative determi- ning of the PFH for the output part of the SRP/CS in D • Recommendations added to subclause 6.2.5 (Cate- accordance with subclause 4.5.5 of the standard. gory 2) for interpretation of therequirements for a Category 2. • The previous subclause 6.2.17 (Bus systems as “inter- connecting means”) becomes subclause 6.2.18 as a • Clarification added in subclauses 6.2.5 (Category result. 2) and 6.2.14 (DC) that up to a PL of c, providing a r warning is a permissible alternative under certain • Subclause 6.3.10 concerning requirements for SRESW circumstances to initiation of a safe state. In addition, for standard components brought into line with the testing immediately upon demand of the safety func- new subclause 4.6.2 of the standard. Reference to IFA tion added as an alternative to testing being at least Report 2/2016 concerning safety-related application 100 times as frequent as the demand of the safety software for machinery also added. function. If the safety function is tested only 25 times as frequently as a demand is made upon it, this can • Summation of PFH values stated as the new standard D be estimated on the safe side by multiplication of the procedure in subclause 6.4 (Combination of SRP/CSs PFH with the factor of 1.1. In addition, the requirement as subsystems); tabular method for downgrading of the D for the quality of the test equipment in Category 2 now PL according to the number of subsystems degraded to refers to the MTTF of the test channel (instead of only the status of an alternative solution for the event that D of the “TE” block) in relation to the MTTF of the func- PFH values are not available for subsystems. D D tional channel (instead of only of the “L” block). • Example of the paper-cutting guillotine in subclause • “Encapsulated subsystem” introduced in subclauses 6.5 updated. 6.2.9 and 6.4. • References to SISTEMA Cookbooks 1, 4 and 6 as sour- ces of further information added. 6.1 Introduction The safety-relatedquality of the SRP/CS is indicated by one of five Performance Levels (PLs). Each of these PLs Once the precise safety function and its required risk corresponds to a range of the probability of a dangerous reduction in the form of the PL have been defined, failure per hour (Table 6.1, Page 40). In addition to the r design proper begins of the safety-related parts of the average probability of a dangerous failure per hour (PFH ), D control system (SRP/CS) that are to carry out the safety further measures, for example to enhance software function(s). The corresponding subclause from the robustness or to counter systematic failures, are required iterative design process of EN ISO 13849-1 is shown in in order for the corresponding PL to be attained. Figure 6.1 (see Page 40). 39 6 Design of safe control systems From determining of the PL r (Figure 5.5) 4 Realisation of SFs, identification of the SRP/CSs For each Evaluation of PL for SRP/CSs concerning SF 5 category, MTTF , DC , CCF D avg Software and systematic failure Figure 6.1: Determining of the attained PL in the implementation To verification and Return phase of the SRP/CS: excerpt validation (V&V) if V&V from the iterative (Figure 7.1) not successful design process, see (Figure 7.1) Figure 4.1 Table 6.1: of the SRP/CS. It is followed by measures necessary for Correspondence between the probability of failure and the the control of systematic failures (subclause 6.1.2) and Performance Level ergonomic design aspects (subclause 6.1.3). Subclause 6.2 describes the Categories and the simplified method Performance Average probability of a dangerous based upon them for evaluation of the quantifiable Level (PL) failure per hour (PFH ) in h-1 D aspects. Subclause 6.3 then presents requirements a ≥ 10-5 to < 10-4 upon the software. Finally, subclause6.4 shows which b ≥ 3 ⋅ 10-6 to < 10-5 quantifiable aspects must be considered when SRP/CSs c ≥ 10-6 to < 3 ⋅ 10-6 are used in combination. Figure 6.2 explains the need for this additional subclause. The machine control sys- d ≥ 10-7 to < 10-6 tem (CS) as a whole is divided into safety-related parts e ≥ 10-8 to < 10-7 (SRP/CS) and the non-safety-related parts; the latter are generally substantially more comprehensive and serve only to perform normal operating functions. The combi- In principle, any method (e.g. Markov calculations, Petri nation of safety-related parts of a control system begins nets) may be used to prove the probability of failure. The at the point at which safety-related signals are generated following criteria must however always be observed: (these include, for example, the actuating cam and rol- ler of a position switch), and ends at the outputs of the • Quantifiable aspects (structure, component reliability, power control elements (for example including the main diagnostics in the form of tests, common cause failure) contacts of a contactor). Where hazards do not arise in the de-energized state (closed-circuit current principle, • Non-quantifiable, qualitative aspects that influence de-energization principle), power components such the behaviour of the SRP/CS (behaviour of the safety as motors or cylinders are not regarded as an SRP/CS. function under fault conditions, safety-related software, Should external forces take effect, however (for instance systematic failures and environmental conditions) on vertical axes), the power elements must be reenforced for functional safety (e.g. non-return valve on cylinders; For both groups of criteria, EN ISO 13849-1 proposes supplementary mechanical brakes). Finally, subclause 6.5 practical methods that produce a good and scientifically takes up the content of subclause 5.7 by describing actual sound estimate of the attained PL. For each specific sub-implementation with reference to the practical example of aspect, proof can be made coarser or finer as required, the control system of a paper-cutting guillotine. permitting both a fast approximation and a more detailed determination. The development procedure is first described (see sub- clause 6.1.1). This includes requirements upon the speci- fication and upon the documentation within the life cycle 40 6 Design of safe control systems Machine control system (CS) Non-safety-related parts Whole SRP/CSs, executing safety function(s) Figure 6.2: SRP/CS SRP/CS SRP/CS SRP/CS and sub- 1 2 3 (as Subsystem) (as Subsystem) (as Subsystem) systems within the machine control system 6.1.1 Design and development process in the machine's life cycle must therefore be considered during identification of the safety functions and defini- The objective of each activity during the design and inte- tion of their characteristics. In order for this process to be gration of the safety-related parts of control systems organized as comprehensibly and verifiably as possible, (scope of the standard) is the development and use as safety functions are first specified. SISTEMA Cookbook intended of products that are as free of faults as possible 6 [23] addresses this topic in detail: “Definition of the and that satisfy the requirements. The objective is after safety functions: what is important?”. An SRP/CS that is all the health of human beings and the avoidance of acci- not developed for a specific machine control system – dents. The motto for the design and development process examples include light curtains or safety PLCs – therefore must therefore be: “Structured and well documented”. requires a particularly precise description of their charac- teristic data and their interfaces in order for proper use to The process of risk reduction in accordance with be assured. EN ISO 12100 [3] must be geared to the entire life5 Safety functions and their contribution to risk reduction ....................................................................25 5.1 Requirements of the EC Machinery Directive .........................................................................................25 5.2 Risk reduction strategy .........................................................................................................................25 5.2.1 Risk estimation ....................................................................................................................................27 5.2.2 Risk evaluation .....................................................................................................................................27 5.3 Identification of the required safety functions and their properties .......................................................28 5.3.1 Definition of safety functions ...............................................................................................................29 5.3.2 Examples in which the definition of the safety function has an influence upon subsequent calculation of the PFH .............................................................................................30 D 5.4 Determining of the required Performance Level PL ................................................................................32 r 5.4.1 Risk graph ............................................................................................................................................32 5.5 Complementary protective measures ...................................................................................................34 5.6 Treatment of legacy machinery ............................................................................................................34 5.7 Risk reduction with reference to the example of a paper-cutting guillotine with diverse redundancy in the logic control (Category 4 – PL e) ...........................................................34 5.7.1 Definition of the limits of the machine ..................................................................................................35 5.7.2 Identification of the hazards .................................................................................................................35 5.7.3 Required safety functions ....................................................................................................................36 5.7.4 Determining of the required Performance Level PL ...............................................................................36 r 5.7.5 Complementary protective measures ...................................................................................................38 6 Design of safe control systems ...........................................................................................................39 6.1 Introduction ........................................................................................................................................39 6.1.1 Design and development process .........................................................................................................41 6.1.2 Systematic failures ..............................................................................................................................44 6.1.3 Ergonomics ..........................................................................................................................................47 6.2 Quantification of the probability of failure ............................................................................................48 6.2.1 Designated architectures ... ................................................................................................................48 6.2.2 ... and Categories ................................................................................................................................49 6.2.3 Category B ...........................................................................................................................................49 6.2.4 Category 1 ............................................................................................................................................51 6.2.5 Category 2 ............................................................................................................................................51 6.2.6 Category 3 ............................................................................................................................................53 6.2.7 Category 4 ............................................................................................................................................53 6.2.8 Blocks and channels ............................................................................................................................53 6.2.9 Safety-related block diagram ................................................................................................................54 6.2.10 Fault consideration and fault exclusion .................................................................................................55 6.2.11 Mean time to dangerous failure – MTTF ................................................................................................55 D 6.2.12 Data sources for individual components ...............................................................................................56 6.2.13 FMEA versus the parts count method ....................................................................................................56 6.2.14 Diagnostic coverage of test and monitoring measures – DC ...................................................................57 6.2.15 Measures against common cause failure (CCF) .....................................................................................60 6.2.16 Simplified determing of the PL by means of the bar chart ......................................................................61 6.2.17 Determining the PL for the output part of the SRP/CScycle of a machine, as shown in Figure 6.3. Although The life cycle of the SRP/CS begins with specification of EN ISO 13849-1 contains no explicit provision to this the safety functions. Besides particular aspects of various effect, the concept of the life cycle must also be taken up safety functions, EN ISO 13849-1 also lists general aspects during design and integration of one or more SRP/CSs, that are a minimum requirement in such a specification. in order for the activities to be structured appropriately. The description of the standard in Chapter 4 also shows A specification of this kind sets out, at the beginning of clearly that the iterative process described in the standard the design process, the framework for all parties involved. for the design of the safety-related parts of control sys- It constitutes a set of requirements specifications; in no tems is a process subdivided into individual phases. As way is it a product specification produced post-develop- can be seen in Figure 6.3, the validation phase is charac- ment. A safety function is implemented by the SRP/CS terized by structured procedures of its own. These will be that is part of the machine control system and that pos- discussed in greater detail in Chapter 7. Structuring into sesses interfaces to further SRP/CSs and to the functional life-cycle phases is characterized very comprehensively control system. A specification must therefore be drawn by the V model employed during development of safety- up. Box 6.1 (Page 43) shows a general arrangement tem- related software; this is explained in subclause 6.3. For plate for a specification of the safety requirements. The example, although the maintenance phase is not expli- arrangement also includes the specification of the safety citly addressed by the design process for the SRP/CS, it functions. This arrangement templaterefers to the SRP/CS is taken into account by the required content of the infor- that executes the entire safety function. Where the mation for use. SRP/CS takes the form of subsystems, the specification must be suitably adapted. Since an SRP/CS constitutes parts of a machine, requi- rements in virtually any phase of the machine's life cycle may also have an influence upon an SRP/CS. All phases 41 6 Design of safe control systems Figure 6.3: Life cycles of machines and SRP/CS Construction Use: - Set-up, teaching-in/programming Transport, assembly and installation and/or process changeover - Operation - Cleaning Commissioning - Maintenance - Troubleshooting Decommissioning, dismantling and Livecycle of the disposal machine to EN ISO 12100 Specification of the Validated Process of safety functions S s a o fe ft t w y- a re re late - d Validation Validation software specification risk reduction to EN ISO 12100 System Integration design tests Protective measure in the Module Module form of a control system design tests Software V model: Coding Chapter 6.3 Identification of safety functions (SFs) Specify the characteristics of each SF Determine the required PL (PL) r Start Implement the SFs, identify the SRP/CS Determ c i a n t e e g th o e ry P , L M o T f T th F e , S D R C P/ , C C S C f F rom the (Sec F A t a i n o u n n l e t 7 x l . i 1 s C . t 3 ) s and Desig ( n S c e o c n ti s o i n d e 6 r ) ations V ( a S li e d c a ti t o io n n 7 p .1l . a 2 n ) Val ( i S d e a c ti t o io n n p 7 r . i 1 n .1 c ) iples D avg Software and systematic failure Documents For (Section 7.1.4) each Analysis (Section 7.1.5) SF Verify: no fa C u r lt i t e e x ri c a lu fo si r o n PL = PL (Annex C) r Is analysis no yes sufficient? yes Validate: no Testing (Section 7.1.6) Requirements met? Safety functions (Section 7.3) yes Performance Level (PL) (Section 7.4) - Category Is testing no All SFs no - - - M D CC C T F TFD passed? analysed? - systematic faults yes - Software yes Combination/integration Validation report (Section 7.6) (Section 7.1.7) Design of safe End control systems: Chapter 6 Validation: Chapter 7 42 6 Design of safe control systems Box 6.1: General arrangement template for a safety requirements specification 1 General product and project information 1.1 Product identification 1.2 Author, version, date, document name, file name 1.3 Contents 1.4 Terminology, definitions, glossary 1.5 Version history and changes 1.6 Directives, standards and technical rules relevant to development 2 Functional information on the machine, where relevant to safety 2.1 Intended use and reasonably foreseeable misuse 2.2 Process description (operating functions) 2.3 Operating modes (e.g. setup mode, automatic mode, operation of localized relevance or of parts of the machine) 2.4 Characteristic data, e.g. cycle times, response times, overrun distances 2.5 Other characteristics of the machine 2.6 Safe state of the machine 2.7 Interaction between processes (see also 2.2) and manual actions (repair, setting, cleaning, troubleshooting, etc.) 2.8 Action to be taken in an emergency 2.9 Behaviour of the machine in the event of energy loss 3 Required Performance Level(s) (PL) r 3.1 Reference toexisting documentation concerning identified hazards and risk assessment for the machine 3.2 Results of the risk assessment for each identified hazard or hazardous situation and determination of the safety function(s) required in each case for risk reduction 4 Safety functions (information applies to each safety function; see also Table 4 in [23]) – Description of the function (“input – logic – output“) including all functional characteristics (refer also to Tables 5.1 and 5.2) – Activation/deactivation conditions or events (e.g. operating modes of the machine) – Behaviour of the machine when the safety function is triggered – Conditions to be observed for re-starting – Performance criteria/performance data – Process (timing behaviour) of the safety function, including response time – Frequency of actuation (i.e. demand rate), recovery time following demand – Other data – Adjustable parameters (where implemented) – Classification and assignment of priorities in the event of simultaneous demand upon and processing of multiple safety functions – Behaviour in the event of a power failure – Functional concept for separation or independence/freedom of reciprocal action from non-safety functions and further safety functions 5 Required information for the SRP/CS design 5.1 Allocation of the SRP/CS and the form of technology by which the safety function is to be implemented; intended equipment 5.2 Selection of the Category, designated architecture (structure) in the form of a safety-related block diagram and description 5.3 Description of the interfaces (process interfaces, internal interfaces, user interfaces, control and display elements, etc.) 5.4 Behaviour at switch-on, implementation of the required starting and restarting behaviour 5.5 Performance data: cycle times, response times, etc. 43 6 Design of safe control systems 5.6 Behaviour of the SRP/CS in the event of component failures and faults (achieving and maintenance of the safe state), including timing behaviour 5.7 Failure modes of components, modules orblocks that are to be considered; where applicable, reasoning for fault exclusions 5.8 Concept for implementation of the detection and control of random and systematic failures (self-tests, test circuits, monitoring arrangements, comparisons, plausibility tests, fault detection by the process, etc.) 5.9 Quantitative aspects 5.9.1 Target values for MTTF and DC D avg 5.9.2 Switching frequency of components subject to wear 5.9.3 Frequency of measures for fault detection 5.9.4 Mission time, where different from the assumption upon which the designated architecture is based (20 years) 5.10 Operating and limit data (operating and storage temperature range, humidity class, IP degree of protection, values for resistance to shock/vibration, EMC values, supply data with tolerances, etc.) (IP = ingress protec- tion; EMC = electromagnetic compatibility) 5.11 Generic standards to be applied for design (for the equipment, for protection against electric shock/ hazardous shock currents, for resistance to environmental conditions, etc.) 5.12 Technical and organizational measures for protected access to safety-related parameters and to SRP/CS characteristics (protection against tampering, access protection, program/data protection) and for protection against unauthorized operation (key switch, code, etc.), for example in non-standard operating modes 5.13 General technical requirements and organizational framework for commissioning, testing and acceptance, and for maintenance and repair In order to be valid, such a specification must be veri- for machines required in accordance with the European fied prior to the next design step. Verification primarily Machinery Directive 2006/42/EC [2]. concerns completeness, correctness, intelligibility and freedom from contradictions. It is clearly advantageous 6.1.2 Systematic failures for verification to be performed, for example by way of an inspection, by a party not involved in the project. If safety- In contrast to random component failures, systematic related software is employed, this safety requirements failures have causes that can be eliminated only by modi- specification must form the basis fora dedicated software fication for example of the design, the manufacturing specification (see subclause 6.3.2). process, the operating methods or the documentation. They arise at some point in the life cycle of a product, for The specification is the first document to be created in example as a result of errors in the specification or the the procedure for the design of the SRP/CS. The docu- design, or during modification of the SRP/CS. The imple- mentation is of great importance in the interests of veri- mentation of multi-channel structures and analysis of the fiable development. It must be considered that the task probability of component failures are important elements of updating a product may lie with a party other than the in the design of safety technology. Should fundamental original designer. Details concerning the necessary docu- aspects not be considered, even the most favourable mentation in the context of the iterative design process of figures for the probability of failure are of no benefit. If, for the SRP/CS can be found in subclause 6.3.8 concerning example, a product is not used correctly or is used in the software, and in subclauses 7.1.4 ff. The reader is remin- wrong environment, a risk of systematic failure may exist. ded at this point that the documents must be unambi- This fact is addressed by EN ISO 13849-1 in conjunction guously identifiable; version management is therefore with Part 2, when it requires that possible systematic essential. The contents of the information for use are ulti- failures also be considered for attainment of a PL. Essen- mately of major importance for the proper implementa- tially, it can be said that many of the basic and well-tried tion of safety functions. EN ISO 13849-1, Clause 11 lists the safety principles are already effective in preventing syste-minimum items of information that must be included in matic failures (see Annex C). These principles, which sup- the information for use. The content of the manufacturer's plement Annex G of the standard, should be considered internal technical documentation for the SRP/CS is listed in accordance with EN ISO 13849-2. in clause 10 of the standard. Requirements concerning the documentation are also set out in legislation. Box The informative Annex G of the standard contains a list of 6.2 shows the content of the technical documentation measures, and therefore indirectly also of influences that are to be considered. The measures are divided into those 44 6 Design of safe control systems Box 6.2: Technical documentation for machines: excerpt from the Machinery Directive (2006/42/EC), Annex VII, A 1. The technical file shall comprise the following: a) a construction file including: — a general description of the machinery, — the general drawing of the machinery and drawings of the control circuits, as well as the pertinent descriptions and explanations necessary for understanding the operation of the machinery, — full detailed drawings, accompanied by any calculation notes, test results, certificates, etc., required to check the conformity of the machinery with the essential health and safety requirements, — the documentation on risk assessment demonstrating the procedure followed, including: i) a list of the essential health and safety requirements which apply to the machinery, ii) the description of the protective measures implemented to eliminate identified hazards or to reduce risks and, when appropriate, the indication of the residual risks associated with the machinery, — the standards and other technical specifications used, indicating the essential health and safety requirements covered by these standards, — any technical report giving the results of the tests carried out either by the manufacturer or by a body chosen by themanufacturer or his authorised representative, — a copy of the instructions for the machinery, — where appropriate, the declaration of incorporation for included partly completed machinery and the relevant assembly instructions for such machinery, — where appropriate, copies of the EC declaration of conformity of machinery or other products incorporated into the machinery, — a copy of the EC declaration of conformity. b) for series manufacture, the internal measures that will be implemented to ensure that the machinery remains in conformity with the provisions of this Directive. for the avoidance of failures (G.3 and G.4) and those for lopment techniques and measures for the avoidance of their control (G.2). Figure 6.4 provides an overview. The systematic failures. measures for the avoidance of failures must be effective throughout all phases of a product's lifetime, and are Particular care must be taken where complex standard addressed accordingly to some degree in Chapter 7 of components are used. Should software be involved, the this report, under the aspect of validation. Although not standard provides relevant information; refer in this con- stated explicitly, appropriate care must be taken not text to subclause 6.3.10 of the present report. Manufactu- least during modifications, troubleshooting and main- rers of standard components take only limited measures tenance. It is during these phases in particular that the for fault avoidance in a safety context. The user must details of development are not (or are no longer) evident. therefore concentrate on the measures for the control Conversely, measures for the control of failures must be of systematic failures. Should for example two standard implemented within a product, and take full effect during PLCs be used in two-channel structures, an overvoltage operation. Besides basic requirements, the standard also in the power supply could give rise to a systematic failure lists measures for selection, one or more of which are to despite redundancy (including diverse redundancy). be applied in consideration of the complexity of the Systematic failure can be prevented in such cases only SRP/CS and of the PL (marked “in addition” in Figure 6.4). by additional measures.The astute reader of this report may wonder in what way these measures differ from those Most of the measures are explained briefly in the stan- against common cause failure (CCF, see subclause 6.2.15). dard. Attention is drawn to the fact that in the day-to-day Common cause fail ures are of course also to be regar- activities of the IFA, diversity is assumed to be of major ded as systematic fail ures. The analysis of CCF however benefit in general, and not only as shown for hardware in addresses only structures that are multi-channel in form Figure 6.4 (see Page 46). Refer in this context also to the or that at least possess test equipment (Categories 2, 3 information in subclause 6.3.10 concerning the require- and 4). A further difference is the “attempt” to consider ments upon software. CCF aspects numerically (quantitatively); by contrast, the analysis described in Annex G of the standard is purely Should application-specific integrated circuits (ASICs), qualitative. Given adequate measures against systematic field programmable gate arrays (FPGAs), programmable failures in accordance with Annex G of the standard and logic modules or similar be used, attention is drawn to observance of basic and well-tried safety principles, it Annex F of IEC 61508-2:2010, which lists design and deve- 45 6 Design of safe control systems Figure 6.4: Measures against systematic failures in accordance with Annex G of the standard Causes Measures for the avoidance of failures of systematic failures Suitable materials and suitable manufacturing methods Correct dimensioning and geometry · Prior tocommissioning, e.g.: Proper selection, arrangement, assembly, installation – Manufacturing faults Components with compatible operating characteristics – Error during design (incorrect Ability to withstand specified environmental conditions selection, incorrect dimensioning, Components complying with an appropriate standard, defective software) with defined failure types – Error during integration (incorrect Function testing selection, incorrect wiring) INTEGRATION: Project management, documentation Black-box test In addition: · Following commissioning, e.g.: Measures for the control of failures – Power failure/fluctuation De-energization principle – Environmental influences Design for the control of voltage influences – Wear, overload Design for the control of environmental influences – Incorrect maintenance Program sequence monitoring (for software) „Safe“ data communication processes (bus systems) Automatic tests In addition: Redundant hardware/diverse hardware Positive mode of actuation Mechanically linked contacts/direct opening action Oriented mode of failure Over dimensioning would not appear particularly difficult to satisfy the systematic failures – and in some cases even as operating requirements for measures against common cause failure states – that must be controlled by the SRP/CS such that (CCF). the safe state is achieved and/or maintained. Since its third edition, the standard proposes that different safety Three examples will show that actual requirements may functions be provided for these scenarios: indeed vary according to application and technology, and that the general requirements may therefore also require a) Where power is available interpretation on occasion. b) Where power is not available Example 1: If it is assumed that power is normally available, assess- Measures for control of the effects of a power failure ment of the risk parameters for the two safety functions to EN ISO 13849-1 may yield different results. In individual The design of safety-related parts of control systems caes, this may – depending upon the actual risk para- must also give consideration to faults in the power sup- meters –(power control elements) in accordance with subclause 4.5.5 of the standard .............................................................................62 6.2.18 Bus systems as “interconnecting means” ............................................................................................63 6.3 Development of safety-related software ...............................................................................................64 6.3.1 Error-free software ... ...........................................................................................................................65 6.3.2 Overall safety interface: software specification ....................................................................................66 6.3.3 System and module design for the “safety-related technical specification” ...........................................67 6.3.4 Finally:programming ............................................................................................................................67 6.3.5 Module test, integration test and validation ..........................................................................................67 6.3.6 Structure of the normative requirements ...............................................................................................67 6.3.7 Suitable software tools ........................................................................................................................68 6.3.8 Unloved, but important: documentation and configuration management .............................................69 6.3.9 Software is in a constant state of change: modification ........................................................................69 6.3.10 Requirements for the software of standard components in SRP/CS ......................................................70 6.4 Combination of SRP/CSs as subsystems ...............................................................................................72 6.5 Determining the PL with reference to the example of a paper-cutting guillotine with diverse redundancy in the logic control (Category 4 – PL e) ............................................................75 6.5.1 Safety functions ...................................................................................................................................75 6.5.2 Implementation....................................................................................................................................75 6.5.3 Functional description ..........................................................................................................................75 6.5.4 Safety-related block diagram ................................................................................................................77 6.5.5 Input variables for quantitative evaluation of the attained PL ................................................................77 6.5.6 Several approaches for quantitative calculation of the PL .....................................................................80 6.5.7 Systematic failures ...............................................................................................................................81 6.5.8 Ergonomic aspects ..............................................................................................................................82 6.5.9 Requirements concerning the software, specifically SRESW .................................................................82 6.5.10 SRP/CS in combination........................................................................................................................83 6.5.11 Further details .....................................................................................................................................83 7 Verification and validation ..................................................................................................................85 7.1 Verification and validation procedure ...................................................................................................85 7.1.1 Principles for verification and validation ..............................................................................................86 7.1.2 Verification and validation plan ............................................................................................................87 7.1.3 Fault lists ............................................................................................................................................88 7.1.4 Documents for V&V activities ...............................................................................................................89 7.1.5 Analysis ..............................................................................................................................................89 7.1.6 Tests ...................................................................................................................................................89 7.1.7 Documentation of results ....................................................................................................................90 7.1.8 Completion or iteration ........................................................................................................................90 7.2 Verification of the specification and the technical documentation ........................................................90 7.3 Validation of the safety function ..........................................................................................................90 7.4 Verification of the PL of the SRP/CS .......................................................................................................91 7.4.1 Verification of the Category ...................................................................................................................91 7.4.2 Verification of the MTTF values ............................................................................................................91 D 7.4.3 Verification of the DC values ................................................................................................................92 7.4.4 Verification of the measures against CCF ..............................................................................................92enable safety functions to be implemented with ply (electric power, air pressure in pneumatic systems, a lower PL in cases where power is not available. r hy draulic fluid pressure) (see subclause 5.2.8 and Annex G of the standard). Voltage breakdown, voltage fluctua- Example 2: tions and overvoltage or undervoltage may for example Failure of pneumatic or hydraulic valves endanger the safe state of a machine. This particularly applies to the holding of loads in a raised position by Among the requirements of EN ISO 13849-2, Tables B.1 means of electrical and hydraulic drives (vertical axes). “Basic safety principles” and B.2 “Well-tried safety prin- Such disturbances may be caused by component faults ciples” for pneumatic systems are that attention must within the SRP/CS. In this case, their effects upon the Per- be paid to the “use of suitable materials and adequate formance Level are considered during verification. Should manufacturing” and the “proper avoidance of contami- however the cause lie in the mains supply, or should the nation of the fluid” during the design and manufacture mains disconnecting device (main switch) of the machine of pneumatic components. These requirements apply have been actuated, these cases lie beyond the scope above all to the selection of materials and the processes of quantitative analysis. They can be considered only as of manufacture and treatment in consideration of factors 46 6 Design of safe control systems such as stresses, durability, abrasion, wear, corrosion This requirement is illustrated well by the example of and temperature, and the consideration of highly effective the development of application software. The most far- filtration of the compressed air and the removal of solids reaching form of separation between standard applica- and water. The requirements upon hydraulic components tion software and safety-related application software are specified in a similar mannerin Tables C.1 and C.2. (SRASW, see subclause 6.3) is of course for them to be Here too, attention must be paid to “sufficient avoidance written with separate programming systems (engineering of contamination of the fluid” and “correct dimensioning suites) and run on separate PLCs. For economic reasons in and shaping”. particular, however, it is desirable for the entire applica- tion software to be written by means of a single program- Greater resistance to operating movement may neverthe- ming system, possibly in the same engineering process. less arise in fluid power components that are operated Numerous aspects must however be considered when infrequently, owing to their design features (gap between this approach is followed. These include the requirement the valving element and the enclosure): that safety-related variables, results or outputs must not be overwritten by non-safety-related parts of software • On pneumatic valves with soft seals that remain in the (program, function block, function/instruction, etc.). same switching position for a longer period, the seals Links between the two environments are permissible, may swell owing to chemical influences caused by the but only with the observance of specified conventions. lubricant (oil with additives in the compressed air, int- One such convention is that safety-related signals and roduced by the compressor, lubricator, or lubrication for functions must always retain priority: linking by means of life), or the lubricating film may collapse under the pres- an OR operation, for example, is not permitted under any sure of the seal edge, resulting in increased resistance circumstances. Modern software development tools sup- to operation. port such approaches, and specified functions and rules with automatic checking have been implemented in their • On hydraulic valves, silting may occur when the valve editors and compilers. Errors in logic operations, which remains in the same switching position fora longer may have an effect only in unpredictable operational situ- period. In this case, fine dirt particles are deposited in ations and which may not be detectable with reasonable the sealing gap between switching cycles, causing the effort during acceptance/commissioning, can thus be valving element to stick. prevented in a user-friendly manner. For these reasons, a high force surplus (e.g. spring force) This does not mean that the designer is spared a com- must generally be engineered for return of the valving ele- plete analysis of the influence exerted by functional ment to the “safety-oriented switching position”. On non- standard components of a control system upon its safety- mechanical springs, retention of the reset function must related parts (including the influence of the safety-related be assured by suitable measures. In addition, the effects functions upon each other); the analysis of where (tech- described above must be prevented by cyclical switching, nically) and how (functionally) such influences may arise to which the standard now refers. Failures caused by the is however considerably simplified and accelerated by the absence of switching are to be prevented by suitable swit- use of the development tools referred to above. The even ching cycles/test cycles at intervals for example of less more pertinent question, namely how to eliminate (avoid than eight hours. or control) influences that are detected, may not even arise. Example 3: Separation of safety-related and non-safety-related 6.1.3 Ergonomics functions Annex I, subclause 1.1.6 of the European 2006/42/EC Standards governing functional safety generally address Machinery Directive requires requires manufacturers of the separation of safety-related functions from other machines to reduce, at the design stage of the machine, (non-safety-related) functions. EN ISO 13849-2 is one the discomfort, fatigue and psychological stress faced by such example, regarding this separation for example as a the operatorto the greatest possible extent, taking into well-tried safety principle for electrical systems under the account ergonomic principles. This therefore also applies heading “Minimise possibility of faults”. This requirement to the interfaces between operators of a machine/ins- applies to both hardware and software. At the same time, tallation and the SRP/CS. These interfaces include both there may be reasons why complete separation is disad- the safeguards themselves, such as a guard door with vantageous. In such cases, clearly defined functional and position switch, and the operation of a safety function, for technical interfaces must at least be implemented that example by means of pushbuttons or even by a software enable influences upon the safety-related part to be avoi- display interface suitable for this purpose. A machine- ded and/or controlled. determined work rate and monitoring that requires lengthy concentration are also to be avoided. 47 6 Design of safe control systems The importance of ergonomic principles for the SRP/CS, more precise methods; the method is, however, suitable and the fact that the design of a machine does not always for practical application even by non-mathematicians, take account of all cases of intended use or foreseeable and the procedure is largely transparent and therefore misuse of the SRP/CS, is demonstrated by the HVBG verifiable. This simplified method is presented below report on the defeating of protective devices on machi- in detail, both in general terms and with reference to a nery [29]. Resources and further information on the sub- calculated practical example (see subclause 6.5). Further ject of defeating can be found on the www.stop-defeating. details on selected specific subjects can be found in the org website. annexes. EN ISO 13849-1 therefore requires that ergonomic prin- 6.2.1 Designated architectures... ciples be applied, and lists a number of useful standards for this purposein subclause 4.8. In order for designers The structure or architecture of a safety-related control of machines to be able to check the design of the human- system determines its tolerance of faults, and constitutes machine interface of the SRP/CS, the IFA has drawn up the framework upon which all other quantifiable aspects a checklist for ergonomic machine design. In February are based, by which the PL of the safety-related parts 2018, this checklist was updated together with further of control systems is ultimately formed. The experience documents in the form of DGUV Informative publication gained by the IFA in conjunction with industry since 1985 209-068/069 (formerly BGI/GUV-I 5048-1/2) [30]. Among confirms that the greater part of all implemented controls the subjects addressed more specifically are: manually can be assigned to a very small number of basic types operated actuators; keyboards, (keypad) keys and input of safety-related control systems (or to combinations of devices; displays; visual danger signals; and the soft- these basic types, see below). These types are: at one end ware ergonomics of user interfaces. VDI/VDE guideline of the spectrum, the single-channel untested system with 3850 [31] for example serves as an aid to the user-friendly components of differing reliability; in the middle of the design of user interfaces for machines. spectrum, the same type, but enhanced by testing; and at the other end, the two-channel systems featuring high- 6.2 Quantification of the probability of quality testing. Systems with more than two channels and failure other “exotic” structures are extremely rare in machine construction, and the simplified method is of only limi- The numerical quantification of the probability of fail ure ted use for their assessment. Even where more than two required by the standard for determining of the PL, often channels are present, however, it is generallysufficient referred to (including in other standards) simply as for the two most reliable channels to be considered in “quantification”, can strictly speaking never be attained order for the PL to be estimated with sufficient precision exactly, but only by approximation with the aid of statis- by means of the simplified method involving designated tical methods or other estimations. The main influencing architectures. Systems employing more than two chan- variables that must be considered during this process nels are not therefore considered in EN ISO 13849-1. of determination are stated; the method by which the SISTEMA Cookbook 4 [32] provides support in some of probability of failure is actually determined from them these cases: “When the designated architectures don't is however at the user's discretion. Any validated and match”. In addition to the “horizontal” division into dif- recognized method can be used for this purpose. Such ferent functional or test channels, a “vertical” division methods include reliability block diagrams, fault tree into a sensor level (input devices, “I”), a processing level analysis, Markov modelling or Petri nets. Depending upon (logic, “L”) and an actuator level (output devices, “O”) is who determines the probability of failure, i.e. the manu- generally also advantageous. facturer of the control system, the user of the machine, or a test body, preferences for and experience with different Continuity is assured, fully intentionally, to the Categories methods may differ. For this reason, any suitable method set out in EN 954-1, which are established in the machine is explicitly permitted in this context. construction industry and in the associated standards. In accordance with this system, EN 954-1 defines five At the same time, parties lacking prior experience in structures as Categories. EN ISO 13849-1 supplements quantification of the probability of failure require some the former Category definition slightlywith quantitative degree of support in the use of EN ISO 13849-1. This requirements for the component reliability (MTTF ), the D need was addressed by the development of a simplified diagnostic coverage of tests (DC ) and the resistance avg approach which, whilst being based upon sound scien- to common cause failures (CCF). In addition, it maps the tific principles (Markov modelling), describes a simple Categories to five basic structural types, termed “desig- method for quantification in successive steps. At certain nated architectures”. The same Categories may still take points, the description makes estimates erring on the different structural forms; the generalization which their safe side which could result in a higher figure for the pro- mapping to the associated designated architecture repre- bability of failure being estimated than that yielded by sents is still permissible as an approximation within the 48 6 Design of safe control systems simplified approach, however. The number of “vertical” 3 and 4, the occurrence of a single fault does not result blocks (input, logic, output) in a channel is for example in loss of the safety function. In Category 4, and where generally of little relevance to determination of the PL reasonably practicable also in Category 3, such faults are from a mathematical and safety technology perspective. detected automatically. In addition, the resistance to an accumulation of undetected faults is also assured in Cate- Where more complex safety functions are involved, it may gory 4. no longer be possible to map the entire safety chain to any single one of the five basic types. In this case, the Consideration of the faults must include an assessment of solution is generally for the safety chain to be broken what component faults may be assumed, and what faults down into several subclauses (“subsystems”), each ofmay (with reasoning) be excluded. Information on the which can be mapped to a particular designated architec- faults to be considered is provided in Annex C. ture. The method by which these subsystems are then recomposed and an overall value determined from the In Categories 3 and 4, common cause failures capable of individual Performance Levels is explained in greater causing simultaneous failure of more than one channel detail in subclause 6.4. The following information relates must also be adequately controlled. The same applies to to control systems (SRP/CS) that can be assigned to a Category 2, since the test equipment and its dedicated Category without being broken down into subsystems. It shut-off path also constitute a second channel. Essen- can however be applied by analogy to subsystems that tially, it can be said that many of the basic and well-tried perform only a part of a safety function. safety principles are effective not only against random hardware failures, but also against systematic faults that 6.2.2 ... and Categories may creep into the product at some point in the product life cycle, e.g. faults arising during product design or The Categories classify safety-related parts of a control modification. system (SRP/CS) with respect to their resistance to faults and their subsequent behaviour in the fault condition, 6.2.3 Category B based upon the reliability of the parts and/or their struc- tural arrangement (see Table 6.2, see Page 50). A higher The SRP/CS must be designed, constructed, selected, resistance to faults translates into a greater possible risk assembled and combined for the intended application in reduction. For definition of the probability of failure and accordance with the relevant standards with application of the PL, the Categories therefore form the backbone, of the basic safety principles in such a way that they can complementedby the component reliability (MTTF ), the resist: D tests (DC ), and the resistance to common cause failures avg (CCF). • The expected operating stresses (e.g. reliability with respect to breaking capacity and frequency) Category B is the basic Category, the requirements of which must also be met in all other Categories. In Catego- • The influence of the processed material (e.g. aggressive ries B and 1, the resistance to faults is attained primarily chemical substances, dusts, chips) by the selection and use of suitable components. The safety function may be rendered ineffective by the occur- • Other relevant external influences (e.g. mechanical rence of a fault. Category 1 has a greater resistance to vibration, electromagnetic interference, interruptions or faults than Category B owing to the use of special compo- disturbances in the power supply) nents and principles that are well-tried for safety applica- tions. With regard to electromagnetic compatibility (EMC), the standard refers to particular requirements stated in In Categories 2, 3 and 4, superior performance in terms of the relevant product standards, such as IEC 61800-3 for the specified safety function is attained primarily by struc- power drive systems. It emphasizes the importance of the tural measures. In Category 2, performance of the safety require ments for immunity to interference in particular function is generally checked automatically at regular for the functional safety of the SRP/CS. Where no pro- intervals by self-tests performed by technical test equip- duct standard exists, the requirements of IEC 61000-6-2 ment (TE). The safety function may fail however should a concerning immunity to interference should at least be fault arise between the test phases. By appropriate selec- ob served. Annex K contains a detailed description of EMC tion of the test intervals, a suitable risk reduction can and functional safety of machinery.be attained with application of Category 2. In Categories 49 6 Design of safe control systems Table 6.2: Summary of the requirements for Categories; the three right-hand columns show the essential changes from the Category definition in the first edition of the standard (EN 954-1) Cate- Summary of the requirements System behaviour Principle for MTTF DC CCF D avg gory attainment of of each safety channel B SRP/CS and/or their protective The occurrence of a Mainly Low to None Not equipment, as well as their compo- fault can lead to the characterized Medium relevant nents, shall be designed, construc- loss of the safety by selection of ted, selected, assembled and com- function. components bined in accordance with relevant standards so that they can with- stand the expected influence. Basic safety principles shall be used. 1 Requirements of B shall apply. Well- The occurrence of a Mainly High None Not tried components and well-tried fault can lead to the characterized relevant safety principles shall be used. loss of the safety func- by selection of tion but the probability components of occurrence is lower than for Category B. 2 Requirements of B and the use of The occurrence of a Mainly Low to At least Measures well-tried safety principles shall fault can lead to the characterized High Low required, apply. Safety function shall be loss of the safety by structure see Annex F checked at suitable intervals by the function between the machine control system (see Section checks. The loss of the 6.2.14). safety function is detec- ted by the check. 3 Requirements of B and the use of When a single fault oc- Mainly Low to At least Measures well-tried safety principles shall curs, the safety function characterized High Low required, apply. Safety-related parts shall be is always performed. by structure7.4.5 Verification of the technical measures against systematic failures ........................................................92 7.4.6 Verification and validation of the software ...........................................................................................92 7.4.7 Checking of the assessment of the PL ..................................................................................................93 7.5 Verification of the information for use ..................................................................................................93 7.6 Validation of the combination and integration of SRP/CS .....................................................................93 7.7 Verification of the user interface (ergonomic design) ............................................................................93 7.8 Verification and validation with reference to the example of a paper cutting guillotine with diverse redundancy in the logic control (Category 4 – PL e) ............................................94 7.8.1 Verification of the attained PL (refer also to Block 6 in Figure 7.1) ..........................................................94 7.8.2 Validation of the safety-related requirements (refer also to Block 7 in Figure 7.1) ...................................94 7.8.3 Examination of whether all safety functions have been analysed (see also Block 8 in Figure 7.1) ...............................................................................................................97 8 Circuit examples for SRP/CS ...............................................................................................................99 8.1 General technology-related remarks on the example control systems ..................................................100 8.1.1 Electromechanical controls .................................................................................................................100 8.1.2 Fluid power controls ............................................................................................................................101 8.1.3 Electronic and programmable electronic control systems ....................................................................102 8.2 Circuit examples .................................................................................................................................104 8.2.1 Position monitoring of movable guards by means of proximity switches – Category B – PL b (Example 1) ............................................................................................106 8.2.2 Pneumatic valve (subsystem) – Category 1 – PL c (Example 2) .............................................................108 8.2.3 Hydraulic valve (subsystem) – Category 1 – PL c (Example 3) ...............................................................110 8.2.4 Stopping of woodworking machines – Category B – PL b (Example 4) ...................................................112 8.2.5 Position monitoring of movable guards – Category 1 – PL c (Example 5) ...............................................116 8.2.6 Start/stop facility with emergency stop device – Category 1 – PL c (Example 6) ....................................118 8.2.7 Undervoltage release by means of an emergency stop device – Category 1 – PL c (Example 7) ..............120 8.2.8 Stopping of woodworking machines – Category 1 – PL c (Example 8) ...................................................122 8.2.9 Tested light barriers – Category 2 – PL csee Annex F designed so that: Some, but not all, • a single fault in any of these parts faults will be detected. Accumulation of unde- does not lead to the loss of the tected faults can lead safety function, and to the loss of the safety • whenever reasonably practicable, function. the single fault is detected. 4 Requirements of B and the use of When a single fault oc- Mainly High High Measures well-tried safety principles shall curs, the safety function characterized including required, apply. Safety-related parts shall be is always performed. by structure accumulation see Annex F designed so that: Detection of accumula- of faults • a single fault in any of these parts ted faults reduces the does not lead to the loss of the probability of the loss safety function, and of the safety function (high DC ). The faults • a single fault is detected at or avg will be detected in time before the next demand upon to prevent the loss of the safety function, but that if the safety function. this detection is not possible, an accumulation of undetected faults shall not lead to the loss of the safety function. These general principles can be presented, both in gene- addition for the technology concerned. Since Category B ral terms and with regard to specific technologies, in the is the basic Category underlying all other Categories (see basic safety principles listed in Annex C. The general basic Table 6.2), the basic safety principles must be applied safety principles apply in full here to all technologies, generically during the design of safety-related parts of whereas the technology-specific principles are required in control systems and/or safeguards. 50 6 Design of safe control systems For components that satisfy Category B, no further special The well-tried property ofa component is dependent upon safety measures are required. The MTTF of each chan- its application, and indicates only that a dangerous failure D nel may therefore be low or medium (see below for the is improbable. It follows that the anticipated dangerous definition of “low” and “medium”). Should a component failure rate is greater than zero, and is considered in the failure occur, it may lead to loss of the safety function. form of the MTTF during calculation of the PL. Conversely, D No monitoring measures, including DC , are required. the assumption of a fault exclusion (see subclause 6.2.10) avg Common cause failures are also not relevant on single- gives rise to assumption of an “infinitely high” MTTF that D channel control systems; no requirements therefore exist is not considered in the calculation. with regard to CCF. Owing to the expected higher component reliability, the Owing to this very rudimentary resistance to failure, the MTTF of the single channel in Category 1 must be high; as D maximum attainable PL of Category B systems is limited in Category B, however, no requirements are placed upon to PL b. the DC and CCF. The occurrence of a fault can lead to the avg loss of the safety function. The MTTF of the channel in D The designated architecture for Category B in Figure 6.5 Category 1 is however greater than that in Category B. In corresponds to a single-channel system with input (I), consequence, loss of the safety function is less probable, logic (L) and output (O) levels. and the maximum PL that can be attained with Category 1 is PL c. Figure 6.5: Designated architecture for Category B and Category 1 The designated architecture for Category 1 is the same as for Category B (see Figure 6.5), sincethe differences lie in the component reliability and not in the structure. II LL OO EiInngpauntg LLooggiick AOuustgpauntg 6.2.5 Category 2 Interconnection In addition to the requirements for Category B (e.g. the application of basic safety principles), Category 2 SRP/CS 6.2.4 Category 1 must employ well-tried safety principles and be designed such that their safety functions are tested at reasonable In addition to satisfying the requirements for Category B, intervals, for example by the machine control system. The for example the application of basic safety principles, safety function(s) must be tested: Category 1 SRP/CS must be designed and constructed using well-tried components and well-tried safety prin- • at start-up of the machine, and ciples. • prior to initiation of any hazardous situation, e.g. the A well-tried component for a safety-related application is start of a new cycle, start of other movements, as soon a component that has been either as the safety function is required, and/or periodically during operation, where the risk assessment and the • widely used in the past with successful results in similar form of operation indicate that this is necessary. applications, or These tests can be initiated automatically. Each test of the • made and verified using principles that demonstrate its safety function(s) must either: suitability and reliability for safety-related applications. • permit operation, if no faults have been detected, or Annex C provides an overview of known components employing a range of technologies that are well-tried for • should a fault have been detected, generate an output safety applications. for the initiation of appropriate control action (OTE). Newly developed components and safety principles may As a general rule, and always where PL = d, the output r be considered as equivalent to “well-tried” when they (OTE) must initiate a safe state that is maintained untilfulfil the second condition stated above. The decision to the fault has been eliminated. Up to PL = c, when initia- r accept a particular component as well-tried depends on tion of a safe state is not practicable (for example owing the application. Complex electronic components, such as to welding of the contacts of the final switching device), programmable logic controllers (PLCs), microprocessors a sufficient alternative may be for the output of the test or application-specific integrated circuits (ASICs) cannot equipment (OTE) to provide only a warning. generally be considered as equivalent to “well-tried”. 51 6 Design of safe control systems For the designated architecture of Category 2 (Figure 6.6), attain in practice with external test equipment, undetec- calculation of the MTTF and DC considers only the ted first faults may result in loss of the safety function. For D avg blocks of the functional channel (i.e. I, L and O). When the these reasons, the maximum PL that can be attained with simplified method in the standard is used, the MTTF of Category 2 is limited to PL d. D the blocks of the test channel (i.e. TE and OTE) is consi- dered indirectly, since this method requires the MTTF of Interpretation of the requirements for a Category 2 pre- D the test channel to be at least half the MTTF of the func- sents certain difficulties that can sometimes only be deci- D tional channel. Values from “low” to “high” are permitted ded on a case-by-case basis. The following recommenda- for the MTTF of the functional channel. The DC must be tions can be made in this respect: D avg at least “low”. Adequate measures against CCF must also be applied (see subclause 6.2.15 and Annex F). • The standard requires testing of the safety function. Should thisnot be possible for all components, Cate- Figure 6.6: gory 2 cannot be applied (Note 1 in EN ISO 13849-1:2015, Designated architecture for Category 2; dashed lines indicate subclause 6.2.5). It thus follows that all components of reasonably practicable fault detection the functional channel must be tested. The functional channel encompasses all components that can cause failure of the safety function by at least one failure II LL OO mode. The standard specifies at least a low DC for the avg EIinngpauntg LLooggiick AOuustgpauntg functional channel. • “Testing of the safety function” cannot always be per- formed by testing of the functional channel from input OOTTEE TTEE to output. Ideally, it should be performed actively by AuOsugatpnugt d oefr TTeesstt eeiqnuriicphmtuenngt tTeesstt eeiqnuriicphmtuenngt the test equipment itself, or the test equipment should use components of its own to monitor execution of the Interconnection safety function passively. In the passive solution, an Monitoring (reasonably adequate test rate must be ensured by the application. practicable fault detection) Alternatively, the blocks (I, L, O) or components in the functional channel can be monitored individually; dia- The test must not itself give rise to a hazardous situation gnostics should always be as close as possible to the (e.g. owing to lengthening of the response time). The “actual execution of the safety function”. test equipment may be integral with or separate from the functional channel (see below for further information). • The statement that the test equipment may be integral Category 2 cannot be applied in some cases, since testing with or separate from the functional channel means of the safety functions is not possible on all components. that whilst it is permissible for elements of the test Since the safety function can fail unnoticed between equipment performing the test to be located within thetests, the interval between tests is a critical parameter. In functional channel, for example in an SRP/CS consisting addition, the test equipment could itself fail undetected of electronics, the part of the test equipment evaluating before the functional channel fails. Simplified quantifica- the diagnostic results must however normally be engi- tion of the PL by means of the designated architecture and neered external to the functional channel, for example the bar chart (Figure 6.10, Page 61) is therefore subject to in the form of a separate watchdog. Only in this way can the following requirements: the requirements concerning mutual independence of the functional and test channels be satisfied. The dia- • The MTTF value of the test channel is not lower than gnostic information for the test equipment should pro- D half the MTTF value of the functional channel, and vide adequate information on the safety-related service- D ability of the monitored parts of the functional channel. • The test rate is at least 100 times the mean demand It must therefore exhibit a certain minimum complexity rate upon the safety function (as an exception, at least in order to enable the test equipment to reach a sound 25 times as high; see subclause 6.2.14) or testing is per- decision regarding the serviceability. Complete merging formed immediately when a demand is made upon the of TE with the functional channel is not acceptable, as safety function, and the overall time for detection of the for example in the case of an on-chip watchdog without fault and for bringing the machine into a non-hazardous the separation described in IEC 61508-2, Annex E (Spe- state (the machine is generally stopped) is shorter than cial architecture requirements for integrated circuits the time to reach the hazard (see also EN ISO 13855). with on-chipredundancy) or test equipment that is engineered only in the form of software and accesses Owing to these restrictions and to the fact that with the OTE directly by means of a de-energizing signal gene- designated architecture, a DC of over 90% is difficult to rated by software. avg 52 6 Design of safe control systems • Subclause 6.2.14 and Annex E provide further informa- Figure 6.7: tion, in particular on the required test rate, reliability of Designated architecture for Category 3: dashed lines indicate the test equipment, initiation of the test (automatically, reasonably practicable fault detection manually, in response to a demand of the safety func- tion) and diagnostics measures. II11 LL11 OO11 6.2.6 Category 3 EIinngpauntg LLooggiikc AOusugtapnugt In addition to the requirements for Category B (e.g. the application of basic safety principles), Category 3 SRP/CS must embody well-tried safety principles and be designed II22 LL22 OO22 such that a single fault does not result in loss of the safety EIinnpgauntg LLooggiikc AOusugtapnugt function. Whenever reasonably practicable, a single fault Interconnection must be detected at or prior to the next demand of the safety function. Monitoring (reasonably practicable fault detection) Cross monitoring (reasonably practicable fault detection) Values ranging from low to high may be selected for the MTTF of each channel. Since not all faults need be D detected or the accumulation of undetected dangerous faults may lead to a hazardous situation, a low DC is consideration of a fault combination for two faults may avg the minimum requirement. Refer to subclause 6.2.14 for be sufficient.) issues relating to the test rate. Adequate measures must be taken against common cause failure (CCF). Since this is the Category with the greatest resistance to faults (the greatest contribution to risk reduction), both The requirement of single-fault tolerance does not theMTTF of each channel and the DC must be high (see D avg necessarily mean that a two-channel system must be subclause 6.2.14 for the issue of the test rate), and ade- implemented, since single-channel components with quate measures must be taken against CCF. no potential for dangerous failure (fail-safe design), for example, may also be tolerant of single faults. The same Since the differences between this Category and Category applies to systems with a high standard of monitoring 3 lie primarily in the MTTF and the DC , the designated D avg that respond to a fault sufficiently quickly by means of a architecture for Category 4 (Figure 6.8) is similar to that for dedicated shut-off path for a dangerous state to be avoi- Category 3. The unbroken lines for monitoring symbolize ded. Nevertheless, the majority of Category 3 systems are the higher DC , however. avg implemented in two-channel form. A corresponding desi- gnated architecture was selected for this reason (Figure Figure 6.8: 6.7). A purely “logical two-channel arrangement”, for Designated architecture for Category 4 example employing redundant software on single-channel hardware, will however not generally offer single-fault tolerance of hardware failures. II11 LL11 OO11 EiInngpauntg LLooggiikc AuOsugtapnugt 6.2.7 Category 4 Over and beyond the requirements for Category B (e.g. the application of basic safety principles), Category 4 SRP/CS II22 LL22 OO22 must apply well-tried safety principles and be designed EiInngpauntg LLooggiikc AOusugtapnugt such that: Interconnection • a single fault does not result in loss of the safety func- Monitoring tion, and Cross monitoring • the single fault is detected at or prior to the next demand of the safety function, for example immedia- tely when the machine is switched on or at the end of a 6.2.8 Blocks and channels machine operating cycle. Should such detection notbe possible, the accumulation of undetected faults must For simplified quantification of the probability of failure, not result in loss of the safety function. (In practice, presentation of the safety-related control in the form of abstracted blocks and channels is helpful. The term 53 6 Design of safe control systems “blocks” has a defined meaning of its own in this con- Figure 6.9: text. It refers to function blocks only in the sense that the General example of a safety-related block diagram; I1 and O1 safety function is executed in smaller units arranged in constitute the first channel (series arrangement), whilst I2, L series and in parallel. The following rules can be stated and O2 constitute the second (series arrangement); the safety for mapping of the hardware structure to a safety-related function is performed redundantly with both channels (parallel arrangement); T is used only for testing block diagram: • The blocks should map, in abstract form, all control II11 OO11 Series arrangement components that relate to performance of the safety SB1 Parallel arrangement function. II22 LL OO22 Series arrangement • If the safety function is performed in multiple redundant TT only for testing channels, they should be presented in separate blocks. Subsystem 2 (SB2) This reflects the fact that should one block fail, perfor- mance of the safety function by the blocks of the other channel is not impaired. In accordance with this definition, the following rules can be formulated for presentation of a safety-related control • Division of the blocks within a channel is somewhat system in the form of a safety-related block diagram: arbitrary; although EN ISO 13849-1 proposes three blocks per channel (input level I, logic level L and output • The arrangement of blocks in series in the form of a level O), this is primarilyin the interests of clarity. Nei- “channel” (e.g. blocks I, L and O) expresses the fact ther the precise boundary between I, L and O, nor the that failure of one block may lead to failure of the entire number of blocks in a channel significantly affects the chain. Should for example a hardware unit in a channel probability of failure calculated in the form of the PL. fail dangerously, the entire channel becomes unable to execute the safety function. • The block assignment of each hardware unit relevant to safety must be clearly specified, e.g. in the form of a • A parallel arrangement of blocks or channels symboli- parts list. This permits calculation of the mean time to zes the multiply redundant performance of the safety dangerous failure (MTTF ) of the block, based upon the function, or of relevant parts of it. For example, a safety D MTTF of the hardware units belonging to the block con- function performed by multiple channels is maintained D cerned (e.g. by failure mode and effects analysis (FMEA) provided at least one channel has not suffered failure. or the parts count method, see subclause 6.2.13). • Blocks employed for test purposes only, which do not • Hardware units employed purely for test purposes, impair performance of the safety function in the diffe- failure of which cannot directly impair performance rent channels should they fail, can be presented as a of the safety function in the various channels, may be separate test channel. Although failure of test measures grouped as a separate block. For Categories 3 and 4, causes the reliability of the system as a whole to be the standard does not set out direct requirements for reduced, the effect is initially only minor provided per- the reliability of this block;with downstream Category 1 output signal switching device (Example 9) .............................................................................................................124 8.2.10 Tested light barriers – Category 2 – PL c with downstream Category 1 output signal switching device (Example 10) ............................................................................................................128 8.2.11 Tested pneumatic valve (subsystem) – Category 2 – PL d (Example 11) .................................................132 8.2.12 Tested hydraulic valve (subsystem) – Category 2 – PL d (Example 12) ..................................................136 8.2.13 No-load sensing system for studio hoists – Category 2 – PL d (Example 13) .........................................140 8.2.14 Pneumatic valve control (subsystem) – Category 3 – PL d (Example 14) ................................................144 8.2.15 Protective device and hydraulics controlled by PLC – Category 3 – PL d (Example 15) ............................148 8.2.16 Earth-moving machine control system with bus system – Category 2/3 – PL d (Example 16) .................152 8.2.17 Cascading of guards by means of safety modules – Category 3 – PL d (Example 17) .............................156 8.2.18 Position monitoring of movable guards – Category 3 – PL d (Example 18) ............................................160 8.2.19 Interlocking device with guard locking – Category 3 – PL d (Example 19) ..............................................164 8.2.20 Safe stopping of a PLC-driven drive – Category 3 – PL d (Example 20) ..................................................168 8.2.21 Safely limited speed – Category 3 – PL d (Example 21) .........................................................................172 8.2.22 Muting of a protective device – Category 3 – PL d (Example 22) ...........................................................176 8.2.23 Revolving door control – Category 3 – PL d (Example 23) .....................................................................182 8.2.24 Inching mode with safely limited speed on a printing press – Category 3 – PL d/c (example 24) ...........186 8.2.25 Pneumatic valve control (subsystem) – Category 3 – PL e (Example 25) ...............................................192 8.2.26 Pneumatic valve control – Category 3 – PL e (Example 26) ...................................................................196 8.2.27 Hydraulic valve control (subsystem) – Category 3 – PL e (Example 27) .................................................198 8.2.28 Position monitoring of movable guards – Category 4 –with reference to Category formance of the safety function proper in the individual 2, however, a general guideline is that its MTTF should channels remains assured. D be at least half that of the individual (symmetrized, see below) channel, and consideration should also be given Definition of the blocks and channels goes hand-in-hand to systematic failures and CCF. with determining of the Category, and is the first step in quantification of the PL. Further values are required 6.2.9 Safety-related block diagram for this purpose: the evaluation of the component reli- ability (MTTF ), of the tests (DC ), and of the relevance D avg The safety-related block diagram is based upon the more of common cause failures (CCF). Further information on familiar reliability block diagram [33]. Common to both the journey “from the conceptual schematic diagram diagrams is the principle that the (safety) function may to the Performance Level”, specifically, on deriving the continue to be performed provided a chain of blocks safety-related block diagram, can be found in SISTEMA that have not failed dangerously remains intact from left Cookbook 1 [34]. This cookbook also introduces the term to right along the functional connecting lines. However, “encapsulated subsystem”. This refers to a subsystem the safety-related block diagram presents additional test for which the manufacturer already states the PL, PFH D mechanisms, such as the cross monitoring of redundant and Category, and the precise internal structure and channels, or tests performed by separate test units. A para meters of which are not transparent. These stated general example of a safety-related block diagram is parameters require observance of the conditions for use shown in Figure 6.9. specified by the manufacturer, which for example may 54 6 Design of safe control systems include the implementation of external diagnostics. It is limited here tolow PLs; refer for example to Table D.8 of presented in the safety-related block diagram at subsys- EN ISO 13849-2 and Annex D of the present report. If fault tem level in single-channel form as a circle within a block exclusion applies, failure rates (MTTF ) and monitoring D (see subsystem “SB1” in Figure 6.9). It contributes to measures (DC) need not be considered for such compo- quantification of the PL only through its parameters PFH nents. D and PL; statement of the Category is merely informative. 6.2.11 Mean time to dangerous 6.2.10 Fault considerations and fault exclusion failure – MTTF D In a real-case control system, there is no limit whatsoever The reliability of the individual components from which to the number of theoretically possible faults. Evaluation the control system is constructed makes a decisive con- must therefore be limited to the faults that are relevant. tribution to its overall reliability. The MTTF (mean time D Certain faults can be excluded if the following points are to dangerous failure) is thus also considered in the PL as considered: a reliability value. It is clear that “failure” in this context refers to component defects that result in the implemen- • The technical improbability of their occurrence (a proba- ted function not or no longer being performed. The other bility that is several orders of magnitude lower than that parts of the term require explanation, however: of other possible faults and the risk reduction that is to be attained) • “Mean” indicates that the value is a statistical mean: it does not refer to a specific component, but is defined • Generally accepted technical experience, irrespective of as an anticipated value for the mean lifetime of the typi- the application under consideration cal component. In this context, the anticipated value foran individual component can be considered equal to • The technical requirements relating to the application the mean value of a large number of components of the and to the specific hazard same type. The value is not therefore a guaranteed mini- mum lifetime in the sense of failure-free period. This The component faults that may occur and those that can approach employing a mean value is also reflected in be excluded are described in EN ISO 13849-2. The fol- the fact that the lifetime values are not normally adap- lowing points must be observed: ted to the conditions of use (e.g. load, temperature, climate), provided the components are employed within • The fault lists constitute a selection only. Where neces- the conditions of use specified for them. It is generally sary, new fault models must therefore be created (for assumed here that the higher load in one application example for new components), or further fault types of a device is averaged out by a lower load in another considered, depending upon the application. This can application. Should higher loads be anticipated in all be determined for example by means of an FMEA. applications (e.g. owing to extreme temperatures), how- ever, these conditions must be considered when the • Secondary faults are evaluated as a single fault together MTTF is determined. D with the initial fault giving rise to them, as are multiple faults with a common cause (CCF, common cause fail- • “Time” indicates that the reliability is expressed in ures). terms of a time in the sense of a lifetime. The MTTF is D generally indicated in years (abbreviated “a”). Other • The simultaneous incidence of two or more faults diffe- forms of notation that may be converted to an MTTF D ring in their cause is consideredextremely unlikely, and include failure rates or (switching) cycles. Failure rates need not therefore be taken into account. are generally indicated by the small Greek letter λ (lambda) and expressed in the unit “FIT” (= 10-9/h, i.e. Further information on fault exclusion can be found in failures per billion component hours). The relation- Annex C and in Part 2 of EN ISO 13849. Should faults be ship between λ and MTTF is expressed, at a constant D D excluded without the reason for exclusion being imme- fail ure rate λ over the lifetime, as MTTF = 1/λ . The D D D diately apparent (such as the peeling-off of tracks on a conversion from hours to years must of course be con- properly dimensioned circuit-board layout), precise rea- sidered. For components that wear primarily as a result soning must be stated in the technical documentation. of their mechanical operation, the reliability is usually expressed in switching cycles, for example as a B 10D Provided the relevant conditions are met, fault exclusions value, i.e. the mean number of cycles until 10% of the are also possible for components, for example for the components fail dangerously. The MTTF can be calcula- D electrical break contacts and the mechanical actuation ted in this case by consideration of the mean number of of electromechanical position switches or emergency operations per year n that are anticipated in the appli- op stop devices. The validity of fault exclusions may be cation concerned. For more details, refer to Annex D. 55 6 Design of safe control systems • “Dangerous” indicates that only failures that impair for mechanical, hydraulic and electronic components, performance of the safety function are ultimately consi- the standard also contains B values for pneumatic and 10D dered for the PL (unsafe failure). By contrast,safe failu- electromechanical components. Details are described in res may well cause the safe state to be assumed (opera- Annex D. ting inhibition) or reduce the availability or productivity of a machine, but the safety function is nevertheless A convenient source of reliability data for components executed properly, or the safe state initiated/maintai- intended for use in safety-oriented control systems are ned. In redundant structures, however, the “dangerous” the large number of available SISTEMA libraries (see attribute refers to each individual channel. Should a Annex H). These contain MTTF or B values for elements D 10D failure in one channel result in the safety function being and components, and PL and PFH values for entire sub- D rendered inoperative, the failure concerned is conside- systems. red dangerous, even where a further channel is still able to perform the safety function successfully. 6.2.13 FMEA versus the parts count method An MTTF may be stated both for an individual compo- Once the MTTF values of all safety-related components D D nent, such as a transistor, valve or contactor, and for a have been obtained, certain simple rules can be used to block, a channel, or the control system as a whole. This calculate the MTTF value of the control system from them. D overall MTTF represents the value for a channel, possibly A number of methods can be used for this purpose: com- D symmetrized over several channels, and is based upon plex, with the use of a precise failure mode and effects the MTTF of all components involved in the SRP/CS. In analysis (FMEA), or fast and simple by means of the parts D accordance with the bottom-up principle, the unit under count method, involving minor estimations erring on the consideration is successively enlarged. In the interests safe side. This beginswith the small difference between of minimizing effort, it is often advantageous only for MTTF and MTTF : what proportion of failures of a certain D safety-related components to be considered in the ana- component are dangerous? All conceivable failure modes lysis, i.e. components the failure of which could have an can be listed in a complex FMEA, evaluated as either indirect or direct negative influence upon performance “safe” or “dangerous”, and the fraction of their occur- of the safety function. For simplification purposes, fault rence estimated. Since the effects of a component failure exclusions are possible in addition; these take account upon the block determine whether the failure mode is of the fact that certain failures are extremely improbable safe or dangerous, detailed analyses of the effect caused and their contribution to the overall reliability negligibly by a failure may be necessary. A greater number of failure small. The assumption of fault exclusions is however modes may then prove to be “safe” than is the case with a subject to certain conditions; these are set out in detail simplified assessment, as proposed by EN ISO 13849-1: if in EN ISO 13849-2 and described more comprehensively the parts count method is used, its conservative approach in subclause 6.2.10. Conductor short circuits or certain assumes that overall, the safe and dangerous failures are mechanical failures can for example be excluded on the similar in number. In the absence of more detailed infor- basis of the design, provided certain conditions are met. mation, the MTTF is therefore always assumed with this D method to be double the MTTF. 6.2.12 Data sources for individual components Once again, the principle is that of the statistical mean, One of the questions most frequently posed in this con- i.e. an excessively favourable evaluation of one compo-text concerns the sourcing of reliable failure data for the nent is cancelled out by an overly pessimistic evaluation safety-related components. The manufacturer, and for of another. It is quite possible for the parts count method example his technical data sheet, should be given prefe- and an FMEA to be combined. Where the values produced rence here over all other sources. Many manufacturers, by a parts count alone yield a sufficiently low PFH, an for example of electromechanical or pneumatic com- FMEA need not be performed. Should this not be the case, ponents, now make such information available. Where however, a study of the failure modes is advantageous, data are not available from the manufacturer, typical for example by means of a partial FMEA, particularly on example values can still be obtained from established the components exhibiting poorer MTTF values. Further D databases (see Annex D). Such sources do not generally explanations of this subject can be found in Annex B. distinguish between dangerous and safe failures; it can however be assumed as a general approximation that on As with other methods of quantification, evaluation to average, only half of all failures are dangerous. With con- EN ISO 13849-1 assumes a constant failure rate through- sideration for the problem of obtaining reliability values, out the mission time of the component for all MTTF D EN ISO 13849-1 lists a number of typical values. These values. Even if this does not directly reflect the failure are however very conservative estimates, and their use is behaviour, as for example in the case of components therefore recommended only if the data sources indica- subject to heavy wear, an approximate MTTF value that D ted above are not available. In addition to MTTF values remains valid throughout the component's mission time D 56 6Design of safe control systems is nevertheless determined in this way by an estima- would of course be to take the lower value; results that tion erring on the safe side. Early failures are generally are better whilst still being safe are however produced by disregarded, since components exhibiting pronounced the following averaging formula (C1 and C2 refer here to early failure patterns do not satisfy the availability the two channels, which are symmetrized): req uirements for a machine control system and are there- fore not generally significant on the market. The advan- ⎠ ⎞ ⎟ tage of this procedure is that the MTTF is always equal to 2 1 ⎟ D MTTF = MTTF + MTTF − (2) D 3 DC1 DC2 1 1 the reciprocal of the associated dangerous failure rate λ . + D Since the dangerous failure rates λ D of the components in ⎞ MTTF DC1 MTTF DC2 ⎠ a block can simply be added together, the MTTF values D of the components involved (N components with running index i) give rise to the MTTF of the block as follows: Where the channels concerned are balanced, the MTTF D D value calculated in this way corresponds to the MTTF D N 1 N 1 value of one channel. Where they are imbalanced, the λ =Σ λ bzw. = Σ (1) D i=1 Di MTTF i=1 MTTF result is an average MTTF D than can be no less than two- D Di thirds of the better value. In this scenario, the effect may arise in addition that the better value was previously The same relationship applies to calculation of the MTTF capped to an MTTF of 100 years (2,500 years in the case D D of each channel from the MTTF values of the associated ofCategory 4), and as a result the symmetrized value D blocks. Once the MTTF for each channel is known, a is less than 100 years (2,500 years for Category 4). It is D further simplification is made in the form of a classifica- therefore generally more effective to implement channels tion. The calculated values are assigned to three typical of balanced reliability wherever possible. Irrespective of classes (Table 6.3). the number and form of the channels, this method always produces an MTTF value for a single control channel D Table 6.3: which, averaged over the control system, indicates the Classification of the MTTF of each channel level of component reliability. D MTTF for each channel 6.2.14 Diagnostic coverage of test and D Description Range monitoring measures – DC Not suitable 0 years ≤ MTTF < 3 years D A further variable with a major influence upon the PL are Low 3 years ≤ MTTF < 10 years D the (self-)test and monitoring measures in SRP/CS. Effec- Medium 10 years ≤ MTTF < 30 years D tive tests for example permit some compensation to be High 30 years ≤ MTTF ≤ 100 years D made for poor reliability of the components. The quality Permissible only in 100 years < MTTF ≤ 2,500 years D of the tests is measured in EN ISO 13849-1 by the diag- Category 4 nostic coverage (DC). The DC is defined as the proportion of detected dangerous failures among all conceivable dangerous failures. The reference quantity may be a com- A mean (important: not guaranteed) lifetime of less than ponent, a block, or the entire SRP/CS. In the last of these three years is deemed not reasonable for safety engi- cases, the DC is the average diagnostic coverage DC , avg neering components. Other than for Category4, values which has an important function in the simplified quanti- exceeding 100 years may not be substituted; this prevents fication of the PL by means of the bar-chart method. the component reliability being overstated in compari- son with the other main influencing variables such as As at many other points in the standard, two methods the structure or tests. Should a figure of less than three exist for calculation of the DC : one more precise but avg years actually be produced for a channel, the components more complex; the other simpler, involving a series of should be replaced with more reliable alternatives, since estimations erring on the safe side. The precise, com- even PL a cannot otherwise be attained. Values over plex method involves a failure mode and effects analysis 100 years for the mean lifetime are not unusual, but owing (FMEA) and is based upon the DC definition. In this case, to “capping”, do not have any bearing upon the PL above the dangerous detectable (DD) and dangerous undetec- this value, since the maximum value of 100 years (the table (DU) failure modes for each component are deter- maximum value in Category 4 is 2,500 years) is substi- mined, together with their proportions of the total failure tuted in this case for the component reliability. rate of the component. Finally, summation and formation of the ratio produces the DC value for the unit under con- If several channels are involved in a control system, it sideration: is not initially clear which value should be employed as representative for the entire system. A cautious approach 57 6 Design of safe control systems Σ λ Σ λ be considered with which a demand is made upon the DD DD DC= = (3) safety function, in order to ensure an